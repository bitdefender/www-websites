{"version":3,"file":"httpcontext.js","sources":["../../../../../../../../node_modules/@sentry/browser/build/npm/esm/integrations/httpcontext.js"],"sourcesContent":["import { defineIntegration, getLocationHref } from '@sentry/core';\nimport { WINDOW } from '../helpers.js';\n\n/**\n * Collects information about HTTP request headers and\n * attaches them to the event.\n */\nconst httpContextIntegration = defineIntegration(() => {\n  return {\n    name: 'HttpContext',\n    preprocessEvent(event) {\n      // if none of the information we want exists, don't bother\n      if (!WINDOW.navigator && !WINDOW.location && !WINDOW.document) {\n        return;\n      }\n\n      // grab as much info as exists and add it to the event\n      const url = event.request?.url || getLocationHref();\n      const { referrer } = WINDOW.document || {};\n      const { userAgent } = WINDOW.navigator || {};\n\n      const headers = {\n        ...event.request?.headers,\n        ...(referrer && { Referer: referrer }),\n        ...(userAgent && { 'User-Agent': userAgent }),\n      };\n      const request = {\n        ...event.request,\n        ...(url && { url }),\n        headers,\n      };\n\n      event.request = request;\n    },\n  };\n});\n\nexport { httpContextIntegration };\n//# sourceMappingURL=httpcontext.js.map\n"],"names":["httpContextIntegration","defineIntegration","event","WINDOW","url","getLocationHref","referrer","userAgent","headers","request"],"mappings":"+MAOK,MAACA,EAAyBC,EAAkB,KACxC,CACL,KAAM,cACN,gBAAgBC,EAAO,CAErB,GAAI,CAACC,EAAO,WAAa,CAACA,EAAO,UAAY,CAACA,EAAO,SACnD,OAIF,MAAMC,EAAMF,EAAM,SAAS,KAAOG,EAAiB,EAC7C,CAAE,SAAAC,CAAQ,EAAKH,EAAO,UAAY,CAAE,EACpC,CAAE,UAAAI,CAAS,EAAKJ,EAAO,WAAa,CAAE,EAEtCK,EAAU,CACd,GAAGN,EAAM,SAAS,QAClB,GAAII,GAAY,CAAE,QAASA,GAC3B,GAAIC,GAAa,CAAE,aAAcA,EAClC,EACKE,EAAU,CACd,GAAGP,EAAM,QACT,GAAIE,GAAO,CAAE,IAAAA,GACb,QAAAI,CACD,EAEDN,EAAM,QAAUO,CACjB,CACF,EACF","x_google_ignoreList":[0]}