{"version":3,"file":"preview.js","sources":["../../../../src/plugins/experimentation/src/preview.js"],"sourcesContent":["/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nconst DOMAIN_KEY_NAME = 'aem-domainkey';\n\nfunction createPreviewOverlay(cls) {\n  const overlay = document.createElement('div');\n  overlay.className = cls;\n  return overlay;\n}\n\nfunction createButton(label) {\n  const button = document.createElement('button');\n  button.className = 'hlx-badge';\n  const text = document.createElement('span');\n  text.innerHTML = label;\n  button.append(text);\n  return button;\n}\n\nfunction createPopupItem(item) {\n  const actions = typeof item === 'object'\n    ? item.actions.map((action) => (action.href\n      ? `<div class=\"hlx-button\"><a href=\"${action.href}\">${action.label}</a></div>`\n      : `<div class=\"hlx-button\"><a href=\"#\">${action.label}</a></div>`))\n    : [];\n  const div = document.createElement('div');\n  div.className = `hlx-popup-item${item.isSelected ? ' is-selected' : ''}`;\n  div.innerHTML = `\n    <h5 class=\"hlx-popup-item-label\">${typeof item === 'object' ? item.label : item}</h5>\n    ${item.description ? `<div class=\"hlx-popup-item-description\">${item.description}</div>` : ''}\n    ${actions.length ? `<div class=\"hlx-popup-item-actions\">${actions}</div>` : ''}`;\n  const buttons = [...div.querySelectorAll('.hlx-button a')];\n  item.actions.forEach((action, index) => {\n    if (action.onclick) {\n      buttons[index].addEventListener('click', action.onclick);\n    }\n  });\n  return div;\n}\n\nfunction createPopupDialog(header, items = []) {\n  const actions = typeof header === 'object'\n    ? (header.actions || []).map((action) => (action.href\n      ? `<div class=\"hlx-button\"><a href=\"${action.href}\">${action.label}</a></div>`\n      : `<div class=\"hlx-button\"><a href=\"#\">${action.label}</a></div>`))\n    : [];\n  const popup = document.createElement('div');\n  popup.className = 'hlx-popup hlx-hidden';\n  popup.innerHTML = `\n    <div class=\"hlx-popup-header\">\n      <h5 class=\"hlx-popup-header-label\">${typeof header === 'object' ? header.label : header}</h5>\n      ${header.description ? `<div class=\"hlx-popup-header-description\">${header.description}</div>` : ''}\n      ${actions.length ? `<div class=\"hlx-popup-header-actions\">${actions}</div>` : ''}\n    </div>\n    <div class=\"hlx-popup-items\"></div>`;\n  const list = popup.querySelector('.hlx-popup-items');\n  items.forEach((item) => {\n    list.append(createPopupItem(item));\n  });\n  const buttons = [...popup.querySelectorAll('.hlx-popup-header-actions .hlx-button a')];\n  header.actions.forEach((action, index) => {\n    if (action.onclick) {\n      buttons[index].addEventListener('click', action.onclick);\n    }\n  });\n  return popup;\n}\n\nfunction createPopupButton(label, header, items) {\n  const button = createButton(label);\n  const popup = createPopupDialog(header, items);\n  button.innerHTML += '<span class=\"hlx-open\"></span>';\n  button.append(popup);\n  button.addEventListener('click', () => {\n    popup.classList.toggle('hlx-hidden');\n  });\n  return button;\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction createToggleButton(label) {\n  const button = document.createElement('div');\n  button.className = 'hlx-badge';\n  button.role = 'button';\n  button.setAttribute('aria-pressed', false);\n  button.setAttribute('tabindex', 0);\n  const text = document.createElement('span');\n  text.innerHTML = label;\n  button.append(text);\n  button.addEventListener('click', () => {\n    button.setAttribute('aria-pressed', button.getAttribute('aria-pressed') === 'false');\n  });\n  return button;\n}\n\nfunction getOverlay() {\n  let overlay = document.querySelector('.hlx-preview-overlay');\n  if (!overlay) {\n    overlay = createPreviewOverlay('hlx-preview-overlay');\n    document.body.append(overlay);\n  }\n  return overlay;\n}\n\nconst percentformat = new Intl.NumberFormat('en-US', { style: 'percent', maximumSignificantDigits: 2 });\nconst countformat = new Intl.NumberFormat('en-US', { maximumSignificantDigits: 2 });\nconst significanceformat = {\n  format: (value) => {\n    if (value < 0.005) {\n      return 'highly significant';\n    }\n    if (value < 0.05) {\n      return 'significant';\n    }\n    if (value < 0.1) {\n      return 'marginally significant';\n    }\n    return 'not significant';\n  },\n};\nconst bigcountformat = {\n  format: (value) => {\n    if (value > 1000000) {\n      return `${countformat.format(value / 1000000)}M`;\n    }\n    if (value > 1000) {\n      return `${countformat.format(value / 1000)}K`;\n    }\n    return countformat.format(value);\n  },\n};\n\nfunction createVariant(experiment, variantName, config, options) {\n  const selectedVariant = config?.selectedVariant || config?.variantNames[0];\n  const variant = config.variants[variantName];\n  const split = variant.percentageSplit;\n  const percentage = percentformat.format(split);\n\n  const experimentURL = new URL(window.location.href);\n  // this will retain other query params such as ?rum=on\n  experimentURL.searchParams.set(options.experimentsQueryParameter, `${experiment}/${variantName}`);\n\n  return {\n    label: `<code>${variantName}</code>`,\n    description: `\n      <p>${variant.label}</p>\n      <p class=\"percentage\">(${percentage} split)</p>\n      <p class=\"performance\"></p>`,\n    actions: [{ label: 'Simulate', href: experimentURL.href }],\n    isSelected: selectedVariant === variantName,\n  };\n}\n\nasync function fetchRumData(experiment, options) {\n  if (!options.domainKey) {\n    // eslint-disable-next-line no-console\n    console.warn('Cannot show RUM data. No `domainKey` configured.');\n    return null;\n  }\n  if (!options.prodHost && (typeof options.isProd !== 'function' || !options.isProd())) {\n    // eslint-disable-next-line no-console\n    console.warn('Cannot show RUM data. No `prodHost` configured or custom `isProd` method provided.');\n    return null;\n  }\n\n  // the query is a bit slow, so I'm only fetching the results when the popup is opened\n  const resultsURL = new URL('https://helix-pages.anywhere.run/helix-services/run-query@v3/rum-experiments');\n  // restrict results to the production host, this also reduces query cost\n  if (typeof options.isProd === 'function' && options.isProd()) {\n    resultsURL.searchParams.set('url', window.location.host);\n  } else if (options.prodHost) {\n    resultsURL.searchParams.set('url', options.prodHost);\n  }\n  resultsURL.searchParams.set('domainkey', options.domainKey);\n  resultsURL.searchParams.set('experiment', experiment);\n\n  const response = await fetch(resultsURL.href);\n  if (!response.ok) {\n    return null;\n  }\n\n  const { results } = await response.json();\n  const { data } = results;\n  if (!data.length) {\n    return null;\n  }\n\n  const numberify = (obj) => Object.entries(obj).reduce((o, [k, v]) => {\n    o[k] = Number.parseFloat(v);\n    o[k] = Number.isNaN(o[k]) ? v : o[k];\n    return o;\n  }, {});\n\n  const variantsAsNums = data.map(numberify);\n  const totals = Object.entries(\n    variantsAsNums.reduce((o, v) => {\n      Object.entries(v).forEach(([k, val]) => {\n        if (typeof val === 'number' && Number.isInteger(val) && k.startsWith('variant_')) {\n          o[k] = (o[k] || 0) + val;\n        } else if (typeof val === 'number' && Number.isInteger(val) && k.startsWith('control_')) {\n          o[k] = val;\n        }\n      });\n      return o;\n    }, {}),\n  ).reduce((o, [k, v]) => {\n    o[k] = v;\n    const vkey = k.replace(/^(variant|control)_/, 'variant_');\n    const ckey = k.replace(/^(variant|control)_/, 'control_');\n    const tkey = k.replace(/^(variant|control)_/, 'total_');\n    if (!Number.isNaN(o[ckey]) && !Number.isNaN(o[vkey])) {\n      o[tkey] = o[ckey] + o[vkey];\n    }\n    return o;\n  }, {});\n  const richVariants = variantsAsNums\n    .map((v) => ({\n      ...v,\n      allocation_rate: v.variant_experimentations / totals.total_experimentations,\n    }))\n    .reduce((o, v) => {\n      const variantName = v.variant;\n      o[variantName] = v;\n      return o;\n    }, {\n      control: {\n        variant: 'control',\n        ...Object.entries(variantsAsNums[0]).reduce((k, v) => {\n          const [key, val] = v;\n          if (key.startsWith('control_')) {\n            k[key.replace(/^control_/, 'variant_')] = val;\n          }\n          return k;\n        }, {}),\n      },\n    });\n  const winner = variantsAsNums.reduce((w, v) => {\n    if (v.variant_conversion_rate > w.conversion_rate && v.p_value < 0.05) {\n      w.conversion_rate = v.variant_conversion_rate;\n      w.p_value = v.p_value;\n      w.variant = v.variant;\n    }\n    return w;\n  }, { variant: 'control', p_value: 1, conversion_rate: 0 });\n\n  return {\n    richVariants,\n    totals,\n    variantsAsNums,\n    winner,\n  };\n}\n\nfunction populatePerformanceMetrics(div, config, {\n  richVariants, totals, variantsAsNums, winner,\n}) {\n  // add summary\n  const summary = div.querySelector('.hlx-info');\n  summary.innerHTML = `Showing results for ${bigcountformat.format(totals.total_experimentations)} visits and ${bigcountformat.format(totals.total_conversions)} conversions: `;\n  if (totals.total_conversion_events < 500 && winner.p_value > 0.05) {\n    summary.innerHTML += ` not yet enough data to determine a winner. Keep going until you get ${bigcountformat.format((500 * totals.total_experimentations) / totals.total_conversion_events)} visits.`;\n  } else if (winner.p_value > 0.05) {\n    summary.innerHTML += ' no significant difference between variants. In doubt, stick with <code>control</code>.';\n  } else if (winner.variant === 'control') {\n    summary.innerHTML += ' Stick with <code>control</code>. No variant is better than the control.';\n  } else {\n    summary.innerHTML += ` <code>${winner.variant}</code> is the winner.`;\n  }\n\n  // add traffic allocation to control and each variant\n  config.variantNames.forEach((variantName, index) => {\n    const variantDiv = document.querySelectorAll('.hlx-popup-item')[index];\n    const percentage = variantDiv.querySelector('.percentage');\n    percentage.innerHTML = `\n      <span title=\"${countformat.format(richVariants[variantName].variant_conversion_events)} real events\">${bigcountformat.format(richVariants[variantName].variant_conversions)} clicks</span> /\n      <span title=\"${countformat.format(richVariants[variantName].variant_experimentation_events)} real events\">${bigcountformat.format(richVariants[variantName].variant_experimentations)} visits</span>\n      <span>(${percentformat.format(richVariants[variantName].variant_experimentations / totals.total_experimentations)} split)</span>\n    `;\n  });\n\n  // add click rate and significance to each variant\n  variantsAsNums.forEach((result) => {\n    const variant = document.querySelectorAll('.hlx-popup-item')[config.variantNames.indexOf(result.variant)];\n    if (variant) {\n      const performance = variant.querySelector('.performance');\n      performance.innerHTML = `\n        <span>click rate: ${percentformat.format(result.variant_conversion_rate)}</span>\n        <span>vs. ${percentformat.format(result.control_conversion_rate)}</span>\n        <span title=\"p value: ${result.p_value}\" class=\"significance ${significanceformat.format(result.p_value).replace(/ /, '-')}\">${significanceformat.format(result.p_value)}</span>\n      `;\n    }\n  });\n}\n\n/**\n * Create Badge if a Page is enlisted in a AEM Experiment\n * @return {Object} returns a badge or empty string\n */\nasync function decorateExperimentPill(overlay, options, context) {\n  const config = window?.hlx?.experiment;\n  const experiment = context.toClassName(context.getMetadata(options.experimentsMetaTag));\n  if (!experiment || !config) {\n    return;\n  }\n  // eslint-disable-next-line no-console\n  console.log('preview experiment', experiment);\n\n  const domainKey = window.localStorage.getItem(DOMAIN_KEY_NAME);\n  const pill = createPopupButton(\n    `Experiment: ${config.id}`,\n    {\n      label: config.label,\n      description: `\n        <div class=\"hlx-details\">\n          ${config.status}\n          ${config.resolvedAudiences ? ', ' : ''}\n          ${config.resolvedAudiences && config.resolvedAudiences.length ? config.resolvedAudiences[0] : ''}\n          ${config.resolvedAudiences && !config.resolvedAudiences.length ? 'No audience resolved' : ''}\n          ${config.variants[config.variantNames[0]].blocks.length ? ', Blocks: ' : ''}\n          ${config.variants[config.variantNames[0]].blocks.join(',')}\n        </div>\n        <div class=\"hlx-info\">How is it going?</div>`,\n      actions: [\n        ...config.manifest ? [{ label: 'Manifest', href: config.manifest }] : [],\n        {\n          label: '<span style=\"font-size:2em;line-height:1em\">⚙</span>',\n          onclick: async () => {\n            // eslint-disable-next-line no-alert\n            const key = window.prompt(\n              'Please enter your domain key:',\n              window.localStorage.getItem(DOMAIN_KEY_NAME) || '',\n            );\n            if (key && key.match(/[a-f0-9-]+/)) {\n              window.localStorage.setItem(DOMAIN_KEY_NAME, key);\n              const performanceMetrics = await fetchRumData(experiment, {\n                ...options,\n                domainKey: key,\n              });\n              if (performanceMetrics === null) {\n                return;\n              }\n              populatePerformanceMetrics(pill, config, performanceMetrics);\n            } else if (key === '') {\n              window.localStorage.removeItem(DOMAIN_KEY_NAME);\n            }\n          },\n        },\n      ],\n    },\n    config.variantNames.map((vname) => createVariant(experiment, vname, config, options)),\n  );\n  if (config.run) {\n    pill.classList.add(`is-${context.toClassName(config.status)}`);\n  }\n  overlay.append(pill);\n\n  const performanceMetrics = await fetchRumData(experiment, { ...options, domainKey });\n  if (performanceMetrics === null) {\n    return;\n  }\n  populatePerformanceMetrics(pill, config, performanceMetrics);\n}\n\nfunction createCampaign(campaign, isSelected, options) {\n  const url = new URL(window.location.href);\n  if (campaign !== 'default') {\n    url.searchParams.set(options.campaignsQueryParameter, campaign);\n  } else {\n    url.searchParams.delete(options.campaignsQueryParameter);\n  }\n\n  return {\n    label: `<code>${campaign}</code>`,\n    actions: [{ label: 'Simulate', href: url.href }],\n    isSelected,\n  };\n}\n\n/**\n * Create Badge if a Page is enlisted in a AEM Campaign\n * @return {Object} returns a badge or empty string\n */\nasync function decorateCampaignPill(overlay, options, context) {\n  const campaigns = context.getAllMetadata(options.campaignsMetaTagPrefix);\n  if (!Object.keys(campaigns).length) {\n    return;\n  }\n\n  const usp = new URLSearchParams(window.location.search);\n  const forcedAudience = usp.has(options.audiencesQueryParameter)\n    ? context.toClassName(usp.get(options.audiencesQueryParameter))\n    : null;\n  const audiences = campaigns.audience?.split(',').map(context.toClassName) || [];\n  const resolvedAudiences = await context.getResolvedAudiences(audiences, options);\n  const isActive = forcedAudience\n    ? audiences.includes(forcedAudience)\n    : (!resolvedAudiences || !!resolvedAudiences.length);\n  const campaign = (usp.has(options.campaignsQueryParameter)\n    ? context.toClassName(usp.get(options.campaignsQueryParameter))\n    : null)\n    || (usp.has('utm_campaign') ? context.toClassName(usp.get('utm_campaign')) : null);\n  const pill = createPopupButton(\n    `Campaign: ${campaign || 'default'}`,\n    {\n      label: 'Campaigns on this page:',\n      description: `\n        <div class=\"hlx-details\">\n          ${audiences.length && resolvedAudiences?.length ? `Audience: ${resolvedAudiences[0]}` : ''}\n          ${audiences.length && !resolvedAudiences?.length ? 'No audience resolved' : ''}\n          ${!audiences.length || !resolvedAudiences ? 'No audience configured' : ''}\n        </div>`,\n    },\n    [\n      createCampaign('default', !campaign || !isActive, options),\n      ...Object.keys(campaigns)\n        .filter((c) => c !== 'audience')\n        .map((c) => createCampaign(c, isActive && context.toClassName(campaign) === c, options)),\n    ],\n  );\n\n  if (campaign && isActive) {\n    pill.classList.add('is-active');\n  }\n  overlay.append(pill);\n}\n\nfunction createAudience(audience, isSelected, options) {\n  const url = new URL(window.location.href);\n  url.searchParams.set(options.audiencesQueryParameter, audience);\n\n  return {\n    label: `<code>${audience}</code>`,\n    actions: [{ label: 'Simulate', href: url.href }],\n    isSelected,\n  };\n}\n\n/**\n * Create Badge if a Page is enlisted in a AEM Audiences\n * @return {Object} returns a badge or empty string\n */\nasync function decorateAudiencesPill(overlay, options, context) {\n  const audiences = context.getAllMetadata(options.audiencesMetaTagPrefix);\n  if (!Object.keys(audiences).length || !Object.keys(options.audiences).length) {\n    return;\n  }\n\n  const resolvedAudiences = await context.getResolvedAudiences(\n    Object.keys(audiences),\n    options,\n    context,\n  );\n  const pill = createPopupButton(\n    'Audiences',\n    {\n      label: 'Audiences for this page:',\n    },\n    [\n      createAudience('default', !resolvedAudiences.length || resolvedAudiences[0] === 'default', options),\n      ...Object.keys(audiences)\n        .filter((a) => a !== 'audience')\n        .map((a) => createAudience(a, resolvedAudiences && resolvedAudiences[0] === a, options)),\n    ],\n  );\n\n  if (resolvedAudiences.length) {\n    pill.classList.add('is-active');\n  }\n  overlay.append(pill);\n}\n\n/**\n * Decorates Preview mode badges and overlays\n * @return {Object} returns a badge or empty string\n */\nexport default async function decoratePreviewMode(document, options, context) {\n  try {\n    context.loadCSS(`${options.basePath || window.hlx.codeBasePath}/plugins/experimentation/src/preview.css`);\n    const overlay = getOverlay(options);\n    await decorateAudiencesPill(overlay, options, context);\n    await decorateCampaignPill(overlay, options, context);\n    await decorateExperimentPill(overlay, options, context);\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log(e);\n  }\n}\n"],"names":[],"mappings":"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"}