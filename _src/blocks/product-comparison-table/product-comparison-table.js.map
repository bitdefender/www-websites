{"version":3,"file":"product-comparison-table.js","sources":["../../../src/blocks/product-comparison-table/product-comparison-table.js"],"sourcesContent":["import { createNanoBlock, renderNanoBlocks, matchHeights } from '../../scripts/utils/utils.js';\n\ncreateNanoBlock('priceComparison', (code, variant, label, block, productIndex, columnEl) => {\n  columnEl.setAttribute('data-store-id', code);\n  columnEl.setAttribute('data-store-option', variant);\n  columnEl.setAttribute('data-store-department', 'consumer');\n  columnEl.setAttribute('data-store-event', 'product-comparison');\n  columnEl.setAttribute('data-store-context', '');\n\n  const priceRoot = document.createElement('div');\n  priceRoot.classList.add('product-comparison-price');\n  const oldPriceText = block.closest('.section').dataset.old_price_text ?? '';\n  const newPriceLabel = block.closest('.section').dataset.new_price_label ?? '';\n  const saveText = block.closest('.section').dataset.save_text ?? '';\n  const oldPriceElement = document.createElement('p');\n  priceRoot.appendChild(oldPriceElement);\n  oldPriceElement.innerText = '-';\n  oldPriceElement.classList.add('old-price-container');\n  const priceElement = document.createElement('strong');\n  priceRoot.appendChild(priceElement);\n  priceElement.innerText = '-';\n  priceElement.classList.add('current-price-container');\n  const priceAppliedOnTime = document.createElement('p');\n  priceRoot.appendChild(priceAppliedOnTime);\n  // create a mock buyzone for free products\n  if (code.includes('free')) {\n    oldPriceElement.innerHTML = `\n     <div class=\"old-price-box\">\n      </div>\n    `;\n    priceElement.innerHTML = `<div class=\"new-price-box\">\n      <span class=\"await-loader total-text\">${label} </span>\n      <sup class=\"per-price\"> </sup>\n    </div>`;\n    priceAppliedOnTime.innerHTML = '<p><p>';\n    return priceRoot;\n  }\n\n  oldPriceElement.innerHTML = `\n    <div class=\"old-price-box\">\n      <span  data-store-hide=\"no-price=discounted;type=visibility\">${oldPriceText} <del data-store-price=\"full\"></del></span>\n      <span class=\"savings d-none\" data-store-hide=\"no-price=discounted;type=visibility\"><span data-store-discount=\"percentage\"></span> ${saveText}</span>\n    </div>`;\n  priceElement.innerHTML = `\n    <div class=\"new-price-box\">\n      <span class=\"await-loader total-text\" data-store-price=\"discounted||full\"> </span>\n      <sup class=\"per-price\"> ${newPriceLabel} </sup>\n    </div>`;\n  priceAppliedOnTime.innerHTML = label;\n\n  // update buy link\n  const buyLink = columnEl.querySelector('.button-container a');\n  if (buyLink.href.includes('/buy/') || buyLink.href.includes('#buylink')) {\n    buyLink.href = '#';\n    buyLink.setAttribute('data-store-buy-link', '');\n  }\n\n  return priceRoot;\n});\n\nfunction handleExpanableRowClick(rows, expandableRowIndex, evt) {\n  evt.currentTarget.classList.toggle('expanded');\n  evt.currentTarget.nextElementSibling.classList.toggle('expanded');\n  evt.currentTarget.nextElementSibling.classList.toggle('collapsed');\n\n  [...rows].forEach((row, index) => {\n    if (row.classList.contains('expanded') && index !== expandableRowIndex) {\n      row.classList.remove('expanded');\n      row.classList.add('collpased');\n      row.nextElementSibling.classList.remove('expanded');\n      row.nextElementSibling.classList.add('collapsed');\n    }\n  });\n}\n\nfunction markHiddenRowsUnderExpandableRows(rows, expandableRowsIndexes) {\n  if (!expandableRowsIndexes || expandableRowsIndexes.length === 0) {\n    return;\n  }\n  let lastExpandableRow = 0;\n\n  rows.forEach((row, rowIndex) => {\n    const index = expandableRowsIndexes.indexOf(rowIndex);\n    if (index !== -1 || rowIndex === 0) {\n      lastExpandableRow = expandableRowsIndexes[index];\n      return;\n    }\n\n    row.setAttribute('expandable-row-index', lastExpandableRow);\n  });\n\n  expandableRowsIndexes.forEach((expandableRowIndex) => {\n    const groupOfHiddenRows = [...rows].filter((row) => row.getAttribute('expandable-row-index') === `${expandableRowIndex}`);\n    const hiddenRowsWrapper = document.createElement('div');\n    hiddenRowsWrapper.classList.add('hidden-rows-wrapper');\n    hiddenRowsWrapper.setAttribute('role', 'rowgroup');\n    hiddenRowsWrapper.append(...groupOfHiddenRows);\n    rows[expandableRowIndex].after(hiddenRowsWrapper);\n  });\n}\n\nfunction addArrowAndEventToExpandableRows(rows) {\n  rows.forEach((row, index) => {\n    if (row.classList.contains('expandable-row')\n      && row.nextElementSibling !== null\n      && row.nextElementSibling.childElementCount > 0\n      && !row.nextElementSibling.classList.contains('expandable-row')) {\n      row.classList.add('expandable-arrow');\n      row.nextElementSibling.classList.add('collapsed');\n      row.addEventListener('click', handleExpanableRowClick.bind(null, rows, index));\n    }\n  });\n}\n\nfunction addClassesForExpandableRows(rows) {\n  const expandableRowsIndexes = [];\n\n  rows.forEach((row, index) => {\n    const expandableRowMarker = row.querySelectorAll('h4');\n    if (expandableRowMarker.length === 0 || row.classList.contains('product-comparison-header')) {\n      return;\n    }\n\n    row.classList.add('expandable-row');\n    expandableRowsIndexes.push(index);\n  });\n\n  markHiddenRowsUnderExpandableRows(rows, expandableRowsIndexes);\n  addArrowAndEventToExpandableRows(rows);\n}\n\nfunction setExpandableRows(block) {\n  const rows = block.querySelectorAll('div[role=\"row\"]');\n  addClassesForExpandableRows(rows);\n}\n\nfunction addAccesibilityRoles(block) {\n  block.setAttribute('role', 'table');\n\n  block.querySelectorAll('div')\n    .forEach((div) => {\n      if (div.childElementCount > 1 && div.parentElement.getAttribute('role') === 'table') {\n        div.setAttribute('role', 'row');\n      } else if (!div.hasAttribute('role')) {\n        div.setAttribute('role', 'cell');\n      }\n    });\n\n  const header = block.querySelector('div > div');\n  [...header.children].forEach((headerColumns) => {\n    headerColumns.setAttribute('role', 'columnheader');\n  });\n}\n\nfunction replaceTableTextToProperCheckmars(block) {\n  block.querySelectorAll('div')\n    .forEach(async (div) => {\n      if (div.textContent.match(/^yes/i)) {\n        div.textContent = '';\n        const icon = document.createElement('div');\n        icon.classList.add('yes-check');\n        div.appendChild(icon);\n      } else if (div.textContent.match(/^no/i)) {\n        div.textContent = '';\n        const icon = document.createElement('div');\n        icon.classList.add('no-check');\n        div.appendChild(icon);\n      }\n    });\n}\n\nfunction extractTextFromStrongTagToParent(element) {\n  if (element.children.length > 0) {\n    [...element.children].forEach((children) => {\n      extractTextFromStrongTagToParent(children);\n    });\n  }\n\n  if (element.tagName === 'STRONG' && element.parentElement) {\n    element.parentElement.innerHTML = element.textContent;\n  }\n}\n\nfunction buildTableHeader(block) {\n  const header = block.querySelector('div > div');\n  header.classList.add('product-comparison-header');\n  [...header.children].forEach((headerColumn) => {\n    const buttonSection = headerColumn.querySelector('p.button-container');\n    if (buttonSection) {\n      const paragraphBefore = buttonSection.previousElementSibling;\n      paragraphBefore?.classList.add('per-year-statement');\n      const paragraphAfter = buttonSection.nextElementSibling;\n      paragraphAfter?.classList.add('product-comparison-header-subtitle');\n      paragraphAfter?.nextElementSibling?.classList.add('product-comparison-header-subtitle');\n    }\n  });\n}\n\nfunction setBuyButtonsToPrimary(columnHeaders) {\n  columnHeaders.forEach((columnHeader) => {\n    columnHeader.querySelectorAll('.button-container')\n      .forEach((button) => button.classList.add('red'));\n  });\n}\n\nfunction setColumnsStyle(block) {\n  const columnHeaders = block.querySelectorAll('div[role=\"columnheader\"]');\n  const numberOfProductHeaders = [...columnHeaders]\n    .filter((columnHeader) => [...columnHeader.children].length > 1).length;\n\n  if (numberOfProductHeaders > 2) {\n    block.classList.add('with-fixed-width');\n  } else {\n    [...columnHeaders].forEach((columnHeader, index) => {\n      if (index === 0) return;\n      columnHeader.classList.add('column-fixed-width');\n    });\n  }\n}\n\nfunction setActiveColumn(block) {\n  const columnHeaders = block.querySelectorAll('div[role=\"columnheader\"]');\n\n  const tableActiveColumn = [...columnHeaders]\n    .findIndex((header) => header.innerHTML.includes('<strong>'));\n\n  if (tableActiveColumn <= 0) {\n    setBuyButtonsToPrimary(columnHeaders);\n    return;\n  }\n\n  const rows = block.querySelectorAll('div[role=\"row\"]');\n  [...rows].forEach((row) => row.children[tableActiveColumn].classList.add('active'));\n}\n\nfunction setColumnWithPriceDisplayedAlsoBelow(block) {\n  const columnHeaders = block.querySelectorAll('div[role=\"columnheader\"]');\n  const columnWithPriceBelow = [...columnHeaders]\n    .findIndex((header) => header.innerHTML.includes('<em>'));\n\n  if (columnWithPriceBelow <= 0) {\n    return;\n  }\n\n  const rows = block.querySelectorAll('div[role=\"row\"]');\n  [...rows].forEach((row) => row.children[columnWithPriceBelow].classList.add('display-price-below'));\n}\n\nfunction removeNotNeededRoles(element) {\n  element.removeAttribute('role');\n\n  [...element.children].forEach((children) => {\n    if (children.tagName === 'H3' || children.innerText.match(/devices/i)) {\n      children.remove();\n    }\n  });\n}\n\nfunction addProductPriceBelowSelectedColumn(block) {\n  const lastRow = block.querySelector('div[role=\"row\"]:last-of-type');\n  const copiedRow = lastRow.cloneNode(true);\n\n  copiedRow.classList.add('product-comparison-last-row-with-prices');\n  lastRow.after(copiedRow);\n  [...copiedRow.children].forEach((cell, index) => {\n    cell.innerHTML = '';\n    if (cell.classList.contains('display-price-below')) {\n      const headerRow = block.querySelector('div[role=\"row\"]');\n      if (headerRow) {\n        const headerCellToCopy = headerRow.children[index];\n        const copiedCell = headerCellToCopy.cloneNode(true);\n        removeNotNeededRoles(copiedCell);\n        cell.appendChild(copiedCell);\n      }\n    }\n  });\n}\n\nexport default function decorate(block) {\n  addAccesibilityRoles(block);\n  replaceTableTextToProperCheckmars(block);\n  setExpandableRows(block);\n  setColumnsStyle(block);\n  setActiveColumn(block);\n  setColumnWithPriceDisplayedAlsoBelow(block);\n  buildTableHeader(block);\n  if (block.querySelector('div[role=\"columnheader\"] em')) {\n    addProductPriceBelowSelectedColumn(block);\n  }\n\n  extractTextFromStrongTagToParent(block);\n  const headerList = [...block.children[0].children].slice(1);\n  const lastRowWithPrice = block.querySelector('.product-comparison-last-row-with-prices');\n  [...headerList, lastRowWithPrice].forEach((item, idx) => {\n    if (item) {\n      renderNanoBlocks(item, undefined, idx, block);\n    }\n  });\n\n  matchHeights(block, 'h3');\n  matchHeights(block, '.old-price-container');\n  matchHeights(block, '.product-comparison-price');\n}\n"],"names":[],"mappings":"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"}