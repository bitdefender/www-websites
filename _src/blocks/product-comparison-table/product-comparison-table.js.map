{"version":3,"file":"product-comparison-table.js","sources":["../../../src/blocks/product-comparison-table/product-comparison-table.js"],"sourcesContent":["import { createNanoBlock, renderNanoBlocks, matchHeights } from '../../scripts/utils/utils.js';\n\ncreateNanoBlock('priceComparison', (code, variant, label, block, productIndex, columnEl) => {\n  columnEl.setAttribute('data-store-id', code);\n  columnEl.setAttribute('data-store-option', variant);\n  columnEl.setAttribute('data-store-department', 'consumer');\n  columnEl.setAttribute('data-store-event', 'product-comparison');\n  columnEl.setAttribute('data-store-context', '');\n\n  const priceRoot = document.createElement('div');\n  priceRoot.classList.add('product-comparison-price');\n  const oldPriceText = block.closest('.section').dataset.old_price_text ?? '';\n  const newPriceLabel = block.closest('.section').dataset.new_price_label ?? '';\n  const saveText = block.closest('.section').dataset.save_text ?? '';\n  const oldPriceElement = document.createElement('p');\n  priceRoot.appendChild(oldPriceElement);\n  oldPriceElement.innerText = '-';\n  oldPriceElement.classList.add('old-price-container');\n  const priceElement = document.createElement('strong');\n  priceRoot.appendChild(priceElement);\n  priceElement.innerText = '-';\n  priceElement.classList.add('current-price-container');\n  const priceAppliedOnTime = document.createElement('p');\n  priceRoot.appendChild(priceAppliedOnTime);\n  // create a mock buyzone for free products\n  if (code.includes('free')) {\n    oldPriceElement.innerHTML = `\n     <div class=\"old-price-box\">\n      </div>\n    `;\n    priceElement.innerHTML = `<div class=\"new-price-box\">\n      <span class=\"await-loader total-text\">${label} </span>\n      <sup class=\"per-price\"> </sup>\n    </div>`;\n    priceAppliedOnTime.innerHTML = '<p><p>';\n    return priceRoot;\n  }\n\n  oldPriceElement.innerHTML = `\n    <div class=\"old-price-box\">\n      <span  data-store-hide=\"no-price=discounted;type=visibility\">${oldPriceText} <del data-store-price=\"full\"></del></span>\n      <span class=\"savings d-none\" data-store-hide=\"no-price=discounted;type=visibility\"><span data-store-discount=\"percentage\"></span> ${saveText}</span>\n    </div>`;\n  priceElement.innerHTML = `\n    <div class=\"new-price-box\">\n      <span class=\"await-loader total-text\" data-store-price=\"discounted||full\"> </span>\n      <sup class=\"per-price\"> ${newPriceLabel} </sup>\n    </div>`;\n  priceAppliedOnTime.innerHTML = label;\n\n  // update buy link\n  const buyLink = columnEl.querySelector('.button-container a');\n  if (buyLink.href.includes('/buy/') || buyLink.href.includes('#buylink')) {\n    buyLink.href = '#';\n    buyLink.setAttribute('data-store-buy-link', '');\n  }\n\n  return priceRoot;\n});\n\nfunction handleExpanableRowClick(rows, expandableRowIndex, evt) {\n  evt.currentTarget.classList.toggle('expanded');\n  evt.currentTarget.nextElementSibling.classList.toggle('expanded');\n  evt.currentTarget.nextElementSibling.classList.toggle('collapsed');\n\n  [...rows].forEach((row, index) => {\n    if (row.classList.contains('expanded') && index !== expandableRowIndex) {\n      row.classList.remove('expanded');\n      row.classList.add('collpased');\n      row.nextElementSibling.classList.remove('expanded');\n      row.nextElementSibling.classList.add('collapsed');\n    }\n  });\n}\n\nfunction markHiddenRowsUnderExpandableRows(rows, expandableRowsIndexes) {\n  if (!expandableRowsIndexes || expandableRowsIndexes.length === 0) {\n    return;\n  }\n  let lastExpandableRow = 0;\n\n  rows.forEach((row, rowIndex) => {\n    const index = expandableRowsIndexes.indexOf(rowIndex);\n    if (index !== -1 || rowIndex === 0) {\n      lastExpandableRow = expandableRowsIndexes[index];\n      return;\n    }\n\n    row.setAttribute('expandable-row-index', lastExpandableRow);\n  });\n\n  expandableRowsIndexes.forEach((expandableRowIndex) => {\n    const groupOfHiddenRows = [...rows].filter((row) => row.getAttribute('expandable-row-index') === `${expandableRowIndex}`);\n    const hiddenRowsWrapper = document.createElement('div');\n    hiddenRowsWrapper.classList.add('hidden-rows-wrapper');\n    hiddenRowsWrapper.setAttribute('role', 'rowgroup');\n    hiddenRowsWrapper.append(...groupOfHiddenRows);\n    rows[expandableRowIndex].after(hiddenRowsWrapper);\n  });\n}\n\nfunction addArrowAndEventToExpandableRows(rows) {\n  rows.forEach((row, index) => {\n    if (row.classList.contains('expandable-row')\n      && row.nextElementSibling !== null\n      && row.nextElementSibling.childElementCount > 0\n      && !row.nextElementSibling.classList.contains('expandable-row')) {\n      row.classList.add('expandable-arrow');\n      row.nextElementSibling.classList.add('collapsed');\n      row.addEventListener('click', handleExpanableRowClick.bind(null, rows, index));\n    }\n  });\n}\n\nfunction addClassesForExpandableRows(rows) {\n  const expandableRowsIndexes = [];\n\n  rows.forEach((row, index) => {\n    const expandableRowMarker = row.querySelectorAll('h4');\n    if (expandableRowMarker.length === 0 || row.classList.contains('product-comparison-header')) {\n      return;\n    }\n\n    row.classList.add('expandable-row');\n    expandableRowsIndexes.push(index);\n  });\n\n  markHiddenRowsUnderExpandableRows(rows, expandableRowsIndexes);\n  addArrowAndEventToExpandableRows(rows);\n}\n\nfunction setExpandableRows(block) {\n  const rows = block.querySelectorAll('div[role=\"row\"]');\n  addClassesForExpandableRows(rows);\n}\n\nfunction addAccesibilityRoles(block) {\n  block.setAttribute('role', 'table');\n\n  block.querySelectorAll('div')\n    .forEach((div) => {\n      if (div.childElementCount > 1 && div.parentElement.getAttribute('role') === 'table') {\n        div.setAttribute('role', 'row');\n      } else if (!div.hasAttribute('role')) {\n        div.setAttribute('role', 'cell');\n      }\n    });\n\n  const header = block.querySelector('div > div');\n  [...header.children].forEach((headerColumns) => {\n    headerColumns.setAttribute('role', 'columnheader');\n  });\n}\n\nfunction replaceTableTextToProperCheckmars(block) {\n  block.querySelectorAll('div')\n    .forEach(async (div) => {\n      if (div.textContent.match(/^yes/i)) {\n        div.textContent = '';\n        const icon = document.createElement('div');\n        icon.classList.add('yes-check');\n        div.appendChild(icon);\n      } else if (div.textContent.match(/^no/i)) {\n        div.textContent = '';\n        const icon = document.createElement('div');\n        icon.classList.add('no-check');\n        div.appendChild(icon);\n      }\n    });\n}\n\nfunction extractTextFromStrongTagToParent(element) {\n  if (element.children.length > 0) {\n    [...element.children].forEach((children) => {\n      extractTextFromStrongTagToParent(children);\n    });\n  }\n\n  if (element.tagName === 'STRONG' && element.parentElement) {\n    element.parentElement.innerHTML = element.textContent;\n  }\n}\n\nfunction buildTableHeader(block) {\n  const header = block.querySelector('div > div');\n  header.classList.add('product-comparison-header');\n  [...header.children].forEach((headerColumn) => {\n    const buttonSection = headerColumn.querySelector('p.button-container');\n    if (buttonSection) {\n      const paragraphBefore = buttonSection.previousElementSibling;\n      paragraphBefore?.classList.add('per-year-statement');\n      const paragraphAfter = buttonSection.nextElementSibling;\n      paragraphAfter?.classList.add('product-comparison-header-subtitle');\n      paragraphAfter?.nextElementSibling?.classList.add('product-comparison-header-subtitle');\n    }\n  });\n}\n\nfunction setBuyButtonsToPrimary(columnHeaders) {\n  columnHeaders.forEach((columnHeader) => {\n    columnHeader.querySelectorAll('.button-container')\n      .forEach((button) => button.classList.add('red'));\n  });\n}\n\nfunction setColumnsStyle(block) {\n  const columnHeaders = block.querySelectorAll('div[role=\"columnheader\"]');\n  const numberOfProductHeaders = [...columnHeaders]\n    .filter((columnHeader) => [...columnHeader.children].length > 1).length;\n\n  if (numberOfProductHeaders > 2) {\n    block.classList.add('with-fixed-width');\n  } else {\n    [...columnHeaders].forEach((columnHeader, index) => {\n      if (index === 0) return;\n      columnHeader.classList.add('column-fixed-width');\n    });\n  }\n}\n\nfunction setActiveColumn(block) {\n  const columnHeaders = block.querySelectorAll('div[role=\"columnheader\"]');\n\n  const tableActiveColumn = [...columnHeaders]\n    .findIndex((header) => header.innerHTML.includes('<strong>'));\n\n  if (tableActiveColumn <= 0) {\n    setBuyButtonsToPrimary(columnHeaders);\n    return;\n  }\n\n  const rows = block.querySelectorAll('div[role=\"row\"]');\n  [...rows].forEach((row) => row.children[tableActiveColumn].classList.add('active'));\n}\n\nfunction setColumnWithPriceDisplayedAlsoBelow(block) {\n  const columnHeaders = block.querySelectorAll('div[role=\"columnheader\"]');\n  const columnWithPriceBelow = [...columnHeaders]\n    .findIndex((header) => header.innerHTML.includes('<em>'));\n\n  if (columnWithPriceBelow <= 0) {\n    return;\n  }\n\n  const rows = block.querySelectorAll('div[role=\"row\"]');\n  [...rows].forEach((row) => row.children[columnWithPriceBelow].classList.add('display-price-below'));\n}\n\nfunction removeNotNeededRoles(element) {\n  element.removeAttribute('role');\n\n  [...element.children].forEach((children) => {\n    if (children.tagName === 'H3' || children.innerText.match(/devices/i)) {\n      children.remove();\n    }\n  });\n}\n\nfunction addProductPriceBelowSelectedColumn(block) {\n  const lastRow = block.querySelector('div[role=\"row\"]:last-of-type');\n  const copiedRow = lastRow.cloneNode(true);\n\n  copiedRow.classList.add('product-comparison-last-row-with-prices');\n  lastRow.after(copiedRow);\n  [...copiedRow.children].forEach((cell, index) => {\n    cell.innerHTML = '';\n    if (cell.classList.contains('display-price-below')) {\n      const headerRow = block.querySelector('div[role=\"row\"]');\n      if (headerRow) {\n        const headerCellToCopy = headerRow.children[index];\n        const copiedCell = headerCellToCopy.cloneNode(true);\n        removeNotNeededRoles(copiedCell);\n        cell.appendChild(copiedCell);\n      }\n    }\n  });\n}\n\nexport default function decorate(block) {\n  addAccesibilityRoles(block);\n  replaceTableTextToProperCheckmars(block);\n  setExpandableRows(block);\n  setColumnsStyle(block);\n  setActiveColumn(block);\n  setColumnWithPriceDisplayedAlsoBelow(block);\n  buildTableHeader(block);\n  if (block.querySelector('div[role=\"columnheader\"] em')) {\n    addProductPriceBelowSelectedColumn(block);\n  }\n\n  extractTextFromStrongTagToParent(block);\n  const headerList = [...block.children[0].children].slice(1);\n  const lastRowWithPrice = block.querySelector('.product-comparison-last-row-with-prices');\n  [...headerList, lastRowWithPrice].forEach((item, idx) => {\n    if (item) {\n      renderNanoBlocks(item, undefined, idx, block);\n    }\n  });\n\n  matchHeights(block, 'h3');\n  matchHeights(block, '.old-price-container');\n  matchHeights(block, '.product-comparison-price');\n}\n"],"names":["createNanoBlock","code","variant","label","block","productIndex","columnEl","priceRoot","oldPriceText","newPriceLabel","saveText","oldPriceElement","priceElement","priceAppliedOnTime","buyLink","handleExpanableRowClick","rows","expandableRowIndex","evt","row","index","markHiddenRowsUnderExpandableRows","expandableRowsIndexes","lastExpandableRow","rowIndex","groupOfHiddenRows","hiddenRowsWrapper","addArrowAndEventToExpandableRows","addClassesForExpandableRows","setExpandableRows","addAccesibilityRoles","div","headerColumns","replaceTableTextToProperCheckmars","icon","extractTextFromStrongTagToParent","element","children","buildTableHeader","header","headerColumn","buttonSection","paragraphAfter","setBuyButtonsToPrimary","columnHeaders","columnHeader","button","setColumnsStyle","setActiveColumn","tableActiveColumn","setColumnWithPriceDisplayedAlsoBelow","columnWithPriceBelow","removeNotNeededRoles","addProductPriceBelowSelectedColumn","lastRow","copiedRow","cell","headerRow","copiedCell","decorate","headerList","lastRowWithPrice","item","idx","renderNanoBlocks","matchHeights"],"mappings":"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"}