{"version":3,"file":"header-aem.js","sources":["../../../src/blocks/header-aem/header-aem.js"],"sourcesContent":["async function runWhitePageHeaderLogic(block, link) {\n  block.classList.add('white', 'py-3', 'default-content-wrapper');\n\n  if (link) {\n    // create a link and inside it put the logo\n    const logoLink = document.createElement('a');\n    logoLink.href = link;\n    logoLink.classList.add('logo-link');\n    const image = block.querySelector('picture');\n    logoLink.appendChild(image);\n    block.appendChild(logoLink);\n  }\n\n  window.dispatchEvent(new CustomEvent('shadowDomLoaded'), {\n    bubbles: true,\n    composed: true, // This allows the event to cross the shadow DOM boundary\n  });\n}\n\n/**\n * applies header factory based on header variation\n * @param {String} headerMetadata The header variation: landingpage' or none\n * @param {Element} header The header element\n */\nfunction applyHeaderFactorySetup(headerMetadata, header, link) {\n  switch (headerMetadata) {\n    case 'white':\n      runWhitePageHeaderLogic(header, link);\n      break;\n    default:\n      break;\n  }\n}\nexport default async function decorate(block, options) {\n  const {\n    header, link,\n  } = block.closest('.section').dataset;\n\n  if (options) {\n    // eslint-disable-next-line no-param-reassign\n    block = block.querySelector('.block');\n    const blockParent = block.closest('.header-aem-wrapper');\n    blockParent.classList.add('we-container');\n  }\n\n  block.parentNode.classList.add(header || 'default');\n\n  applyHeaderFactorySetup(header, block, link);\n}\n"],"names":["runWhitePageHeaderLogic","block","link","logoLink","image","applyHeaderFactorySetup","headerMetadata","header","decorate","options"],"mappings":"AAAA,eAAeA,EAAwBC,EAAOC,EAAM,CAGlD,GAFAD,EAAM,UAAU,IAAI,QAAS,OAAQ,yBAAyB,EAE1DC,EAAM,CAER,MAAMC,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,KAAOD,EAChBC,EAAS,UAAU,IAAI,WAAW,EAClC,MAAMC,EAAQH,EAAM,cAAc,SAAS,EAC3CE,EAAS,YAAYC,CAAK,EAC1BH,EAAM,YAAYE,CAAQ,CAC9B,CAEE,OAAO,cAAc,IAAI,YAAY,iBAAiB,EAAG,CACvD,QAAS,GACT,SAAU,EACd,CAAG,CACH,CAOA,SAASE,EAAwBC,EAAgBC,EAAQL,EAAM,CAC7D,OAAQI,EAAc,CACpB,IAAK,QACHN,EAAwBO,EAAQL,CAAI,EACpC,KAGN,CACA,CACe,eAAeM,EAASP,EAAOQ,EAAS,CACrD,KAAM,CACJ,OAAAF,EAAQ,KAAAL,CACT,EAAGD,EAAM,QAAQ,UAAU,EAAE,QAE1BQ,IAEFR,EAAQA,EAAM,cAAc,QAAQ,EAChBA,EAAM,QAAQ,qBAAqB,EAC3C,UAAU,IAAI,cAAc,GAG1CA,EAAM,WAAW,UAAU,IAAIM,GAAU,SAAS,EAElDF,EAAwBE,EAAQN,EAAOC,CAAI,CAC7C"}