const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["scripts/lib-franklin.js","node_modules/@repobit/dex-utils/dist/src/index.js","node_modules/@repobit/dex-utils/dist/src/cookies.js","node_modules/js-cookie/dist/js.cookie.js","node_modules/@repobit/dex-utils/dist/src/user.js","node_modules/@repobit/dex-constants/dist/src/index.js","node_modules/@repobit/dex-utils/dist/src/user-agent/index.js","node_modules/@repobit/dex-utils/dist/src/user-agent/cssua.js","scripts/page.js","node_modules/@repobit/dex-utils/dist/src/page.js","node_modules/@sentry/browser/build/npm/esm/sdk.js","node_modules/@sentry/browser/build/npm/esm/client.js","node_modules/@sentry/browser/build/npm/esm/eventbuilder.js","node_modules/@sentry/core/build/esm/utils-hoist/is.js","node_modules/@sentry/core/build/esm/utils-hoist/misc.js","node_modules/@sentry/core/build/esm/utils-hoist/object.js","node_modules/@sentry/core/build/esm/debug-build.js","node_modules/@sentry/core/build/esm/utils-hoist/browser.js","node_modules/@sentry/core/build/esm/utils-hoist/worldwide.js","node_modules/@sentry/core/build/esm/utils-hoist/logger.js","node_modules/@sentry/core/build/esm/carrier.js","node_modules/@sentry/core/build/esm/utils-hoist/version.js","node_modules/@sentry/core/build/esm/utils-hoist/string.js","node_modules/@sentry/core/build/esm/currentScopes.js","node_modules/@sentry/core/build/esm/asyncContext/index.js","node_modules/@sentry/core/build/esm/asyncContext/stackStrategy.js","node_modules/@sentry/core/build/esm/defaultScopes.js","node_modules/@sentry/core/build/esm/scope.js","node_modules/@sentry/core/build/esm/session.js","node_modules/@sentry/core/build/esm/utils-hoist/time.js","node_modules/@sentry/core/build/esm/utils/merge.js","node_modules/@sentry/core/build/esm/utils/spanOnScope.js","node_modules/@sentry/core/build/esm/utils-hoist/propagationContext.js","node_modules/@sentry/core/build/esm/utils-hoist/normalize.js","node_modules/@sentry/core/build/esm/utils-hoist/stacktrace.js","node_modules/@sentry/core/build/esm/utils-hoist/syncpromise.js","node_modules/@sentry/browser/build/npm/esm/helpers.js","node_modules/@sentry/core/build/esm/exports.js","node_modules/@sentry/core/build/esm/utils/prepareEvent.js","node_modules/@sentry/core/build/esm/constants.js","node_modules/@sentry/core/build/esm/eventProcessors.js","node_modules/@sentry/core/build/esm/utils-hoist/debug-ids.js","node_modules/@sentry/core/build/esm/utils/applyScopeDataToEvent.js","node_modules/@sentry/core/build/esm/tracing/dynamicSamplingContext.js","node_modules/@sentry/core/build/esm/semanticAttributes.js","node_modules/@sentry/core/build/esm/utils/hasSpansEnabled.js","node_modules/@sentry/core/build/esm/utils/spanUtils.js","node_modules/@sentry/core/build/esm/tracing/spanstatus.js","node_modules/@sentry/core/build/esm/tracing/utils.js","node_modules/@sentry/core/build/esm/utils-hoist/tracing.js","node_modules/@sentry/core/build/esm/utils/parseSampleRate.js","node_modules/@sentry/core/build/esm/utils-hoist/baggage.js","node_modules/@sentry/core/build/esm/client.js","node_modules/@sentry/core/build/esm/api.js","node_modules/@sentry/core/build/esm/envelope.js","node_modules/@sentry/core/build/esm/utils-hoist/dsn.js","node_modules/@sentry/core/build/esm/utils-hoist/envelope.js","node_modules/@sentry/core/build/esm/integration.js","node_modules/@sentry/core/build/esm/utils/eventUtils.js","node_modules/@sentry/core/build/esm/utils/transactionEvent.js","node_modules/@sentry/core/build/esm/utils-hoist/clientreport.js","node_modules/@sentry/core/build/esm/utils/sdkMetadata.js","node_modules/@sentry/core/build/esm/logs/exports.js","node_modules/@sentry/core/build/esm/logs/envelope.js","node_modules/@sentry/core/build/esm/utils/ipAddress.js","node_modules/@sentry/core/build/esm/utils-hoist/env.js","node_modules/@sentry/browser/build/npm/esm/debug-build.js","node_modules/@sentry/browser/build/npm/esm/integrations/breadcrumbs.js","node_modules/@sentry/core/build/esm/utils-hoist/instrument/console.js","node_modules/@sentry/core/build/esm/utils-hoist/instrument/handlers.js","node_modules/@sentry-internal/browser-utils/build/esm/instrument/dom.js","node_modules/@sentry-internal/browser-utils/build/esm/types.js","node_modules/@sentry-internal/browser-utils/build/esm/instrument/xhr.js","node_modules/@sentry/core/build/esm/utils-hoist/instrument/fetch.js","node_modules/@sentry/core/build/esm/utils-hoist/supports.js","node_modules/@sentry-internal/browser-utils/build/esm/instrument/history.js","node_modules/@sentry/core/build/esm/utils-hoist/breadcrumb-log-level.js","node_modules/@sentry/core/build/esm/breadcrumbs.js","node_modules/@sentry/core/build/esm/utils-hoist/severity.js","node_modules/@sentry/core/build/esm/utils-hoist/url.js","node_modules/@sentry/browser/build/npm/esm/integrations/browserapierrors.js","node_modules/@sentry/browser/build/npm/esm/integrations/browsersession.js","node_modules/@sentry/browser/build/npm/esm/integrations/globalhandlers.js","node_modules/@sentry/core/build/esm/utils-hoist/instrument/globalError.js","node_modules/@sentry/core/build/esm/utils-hoist/instrument/globalUnhandledRejection.js","node_modules/@sentry/browser/build/npm/esm/integrations/httpcontext.js","node_modules/@sentry/browser/build/npm/esm/integrations/linkederrors.js","node_modules/@sentry/core/build/esm/utils-hoist/aggregate-errors.js","node_modules/@sentry/browser/build/npm/esm/stack-parsers.js","node_modules/@sentry/browser/build/npm/esm/transports/fetch.js","node_modules/@sentry-internal/browser-utils/build/esm/getNativeImplementation.js","node_modules/@sentry-internal/browser-utils/build/esm/debug-build.js","node_modules/@sentry/core/build/esm/transports/base.js","node_modules/@sentry/core/build/esm/utils-hoist/promisebuffer.js","node_modules/@sentry/core/build/esm/utils-hoist/ratelimit.js","node_modules/@sentry/core/build/esm/sdk.js","node_modules/@sentry/core/build/esm/integrations/eventFilters.js","node_modules/@sentry/core/build/esm/integrations/functiontostring.js","node_modules/@sentry/core/build/esm/integrations/dedupe.js","node_modules/@sentry/browser/build/npm/esm/tracing/browserTracingIntegration.js","node_modules/@sentry/browser/build/npm/esm/tracing/backgroundtab.js","node_modules/@sentry/browser/build/npm/esm/tracing/linkedTraces.js","node_modules/@sentry/browser/build/npm/esm/tracing/request.js","node_modules/@sentry/core/build/esm/fetch.js","node_modules/@sentry/core/build/esm/tracing/sentryNonRecordingSpan.js","node_modules/@sentry/core/build/esm/tracing/trace.js","node_modules/@sentry/core/build/esm/tracing/logSpans.js","node_modules/@sentry/core/build/esm/tracing/sampling.js","node_modules/@sentry/core/build/esm/tracing/sentrySpan.js","node_modules/@sentry/core/build/esm/tracing/measurement.js","node_modules/@sentry/core/build/esm/utils/traceData.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/instrument.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/getCLS.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/bindReporter.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/initMetric.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/generateUniqueID.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/getActivationStart.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/getNavigationEntry.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/observe.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/onHidden.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/runOnce.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/onFCP.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/getVisibilityWatcher.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/whenActivated.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/getFID.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/getINP.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/interactions.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/polyfills/interactionCountPolyfill.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/whenIdle.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/getLCP.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/web-vitals/onTTFB.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/utils.js","node_modules/@sentry/core/build/esm/tracing/errors.js","node_modules/@sentry/core/build/esm/tracing/idleSpan.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/browserMetrics.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/cls.js","node_modules/@sentry-internal/browser-utils/build/esm/metrics/inp.js","node_modules/@sentry-internal/replay/build/npm/esm/index.js","node_modules/@sentry/core/build/esm/utils-hoist/isBrowser.js","node_modules/@sentry/core/build/esm/utils-hoist/node.js","node_modules/@sentry-internal/browser-utils/build/esm/networkUtils.js","node_modules/@sentry/core/build/esm/utils/isSentryRequestUrl.js"])))=>i.map(i=>d[i]);
import{__vitePreload as D}from"../../_virtual/preload-helper.js";import{createNanoBlock as H,createTag as O,renderNanoBlocks as U,openUrlForOs as W}from"../../scripts/utils/utils.js";function k(t,o){const a=document.createElement("div");a.classList.add("hero-aem__card");const n=document.createElement("div");return n.classList.add("hero-aem__card-text"),t.forEach(d=>{o&&d.contains(o)?a.appendChild(d):n.appendChild(d)}),a.appendChild(n),a}function R(t,o,a){let n=t.textContent.slice(1,-1).split(",").map(s=>s.trim());n.shift();let d=document.createElement("div");if(d.classList.add("custom-dropdown-container"),o){let s=document.createElement("div");s.classList.add("custom-dropdown-tag"),s.textContent=o,d.appendChild(s)}let i=document.createElement("div");i.classList.add("custom-dropdown");let c=document.createElement("button");c.classList.add("dropdown-button"),c.textContent=n[0],i.appendChild(c);let l=document.createElement("div");l.classList.add("dropdown-options"),i.appendChild(l),n.forEach((s,h)=>{let r=document.createElement("div");r.classList.add("custom-dropdown-item");const[p,f,C]=a[h].split("/");r.textContent=s,r.setAttribute("data-store-click-set-product",""),r.setAttribute("data-store-product-id",`${p}`),r.setAttribute("data-store-product-option",`${f}-${C}`),r.setAttribute("data-store-product-department","consumer"),l.appendChild(r)}),d.appendChild(i),t.replaceWith(d),c.addEventListener("click",()=>{let s=l.style.display==="block"?"none":"block";l.style.display=s,c.classList.add("active")});const _=l.querySelectorAll(".custom-dropdown-item");_.forEach((s,h)=>{s.addEventListener("click",function(){c.textContent=this.textContent,l.style.display="none",c.classList.remove("active"),_.forEach(p=>p.classList.remove("selected")),this.classList.add("selected");const r=document.querySelector(".dex-18076");if(r){const p=r.querySelector(".custom-dropdown-tag"),f=r.querySelector(".custom-dropdown");h!==0?(p.style.display="none",f.style.marginTop="24px"):(p.style.display="inline-block",f.style.marginTop="0")}})}),document.addEventListener("click",s=>{i.contains(s.target)||(l.style.display="none",c.classList.remove("active"))})}async function j(t,o,a,n,d){const i=document.createElement("div");return i.classList.add("hero-aem__prices","await-loader"),i.innerHTML=`
          ${o?`<p class="hero-aem__pill">${o}</p>`:""}
          <div class="hero-aem__price mt-3">
            <div>
                <span class="prod-oldprice" data-store-price="full"></span>
                <span class="prod-save" data-store-text-variable>${a} {DISCOUNT_VALUE}</span></span>
            </div>
            <div class="newprice-container mt-2">
              <span class="prod-newprice" data-store-price="discounted||full"></span>
              <sup>${d||""}</sup>
            </div>
          </div>
          <p class="hero-aem__underPriceText">${n||""}</p>`,t.setAttribute("data-store-buy-link",""),i}function V(t){return O("div",{class:"devices-years-text"},`<span>${t}</span>`)}H("devices-users-text",V);async function J(t,o){const{product:a,conditionText:n,saveText:d,MacOS:i,Windows:c,Android:l,IOS:_,alignContent:s,height:h,type:r,dropdownProducts:p,bluePillText:f,underPriceText:C,dropdownTag:P}=t.closest(".section").dataset;if(U(t),o){t=t.querySelector(".block");let e=t.closest(".section");e.classList.add("we-container"),r&&e.classList.add(r)}let[A,T,b,S]=t.children,B=new Map,$=[];p&&($=p.split(",").map(e=>e.trim())),A.classList.add("hero-aem__card__desktop","col-md-6"),s==="center"&&A.classList.add("hero-aem__card__desktop--center"),h&&Array.from(t.children).map(e=>{e.style.maxHeight=`${h}px`}),T.classList.add("col-md-6"),T.children[0].classList.add("h-100");let y=t.querySelector(".hero-aem__card__desktop div > p > picture");y?y.classList.add("hero-aem__mobile-image"):y="";const I=Array.from(t.querySelectorAll("h1 ~ *")),v=k(I,y);if(a){const[e,m,u]=a.split("/");v.setAttribute("data-store-context",""),v.setAttribute("data-store-id",e),v.setAttribute("data-store-option",`${m}-${u}`),v.setAttribute("data-store-department","consumer"),v.setAttribute("data-store-event","main-product-loaded")}t.querySelector("h1")?.after(v),t.querySelector(".hero-aem > div > div > picture")?.classList.add("hero-aem__desktop-image");const x=t.querySelector('a[href*="buylink"]');if(a&&!o){let e=await j(x,f,d,C,n);const m=document.querySelectorAll("p");let u=null;m.forEach(L=>{L.textContent.includes("<insert-prices>")&&(u=L)}),u?u.replaceWith(e):x.parentNode.parentNode.insertBefore(e,x.parentNode),B.set(a,e)}t.querySelectorAll("p").forEach(e=>{e.textContent.toLowerCase().includes("dropdown")&&R(e,P,$)});let w=t.querySelector("table");w&&w.textContent.includes("breadcrumb")&&(w.classList.add("hero-aem__breadcrumb"),w.deleteRow(0));let N=t.querySelectorAll("table");for(const e of N)if(e&&e.textContent.includes("benefit_list")&&(e.classList.add("benefit_list"),e.deleteRow(0)),e&&e.textContent.includes("ratings")){e.classList.add("ratings"),e.deleteRow(0);const{decorateButtons:m}=await D(async()=>{const{decorateButtons:u}=await import("../../scripts/lib-franklin.js");return{decorateButtons:u}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141]));m(e)}let E=t.querySelector('a[href*="#free-download"]');if(E&&(E.classList.add("button","free-download"),W(i,c,l,_,E)),S){const e=Array.from(S.children),m=document.createElement("div");m.classList.add("aem-two-cards");const u=e.length===2?"col-md-6":"col-md-4",L=(e.length===2,"col-lg-3"),M=e.map(g=>`
      <div class="col-12 ${u} ${L}">
        <div class="aem-two-cards_card">
          ${g.innerHTML}
        </div>
      </div>`).join("");m.innerHTML=`
      <div class="row justify-space-between">
        <div class="col-lg-3">
          ${b.innerHTML}
        </div>
        ${M}
      </div>
    `,t.appendChild(m),b.innerHTML="",e.forEach(g=>g.remove())}let q=t.querySelector(".hero-aem-container .hero-aem .hero-aem__card-text p:last-child");q&&q.classList.add("hero-aem__terms")}export{J as default};
//# sourceMappingURL=hero-aem.js.map
