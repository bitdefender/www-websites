{"version":3,"mappings":";;;AAWA,IAAI,WAAW;AACf,IAAI,OAAO;;AAEX,eAAe,IAAI,CAAC,KAAK,EAAE,UAAU,EAAE;AACvC;AACA,EAAE,WAAW,GAAG,CAAC,MAAM,+DAAO,6DAA6D,CAAC,wDAAE,WAAW;AACzG;AACA,EAAE,OAAO,GAAG,CAAC,MAAM,2DAAO,0DAA0D,CAAC,oDAAE,OAAO;AAC9F,EAAE,MAAM,kBAAkB,GAAG,cAAc;;AAE3C,EAAE,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;AACnD,EAAE,WAAW,CAAC,YAAY,CAAC,IAAI,EAAE,kBAAkB,CAAC;;AAEpD,EAAE,IAAI,UAAU,EAAE;AAClB;AACA,IAAI,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC;AACzC,IAAI,MAAM,WAAW,GAAG,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC;AACjD,IAAI,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC;AAC7C,GAAG,MAAM;AACT,IAAI,KAAK,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC;AACrD;;AAEA,EAAE,MAAM,kBAAkB,GAAG,KAAK,CAAC,aAAa,CAAC,aAAa,CAAC,sBAAsB,CAAC;AACtF,EAAE,kBAAkB,CAAC,OAAO,CAAC,WAAW,CAAC;;AAEzC,EAAE,eAAe,aAAa,CAAC,OAAO,EAAE;AACxC,IAAI,MAAM,OAAO,CAAC,WAAW,CAAC;;AAE9B,IAAI,MAAM,WAAW,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,kBAAkB,EAAE,OAAO,EAAE,CAAC;AAC/D;AACA,EAAE,MAAM,OAAO,GAAG;AAClB,IAAI,SAAS,EAAE;AACf,MAAM,MAAM,EAAE;AACd,QAAQ,KAAK,EAAE,EAAE;AACjB,OAAO;AACP,MAAM,KAAK,EAAE;AACb,QAAQ,KAAK,EAAE,SAAS;AACxB,OAAO;AACP,MAAM,KAAK,EAAE;AACb,QAAQ,MAAM,EAAE,IAAI;AACpB,QAAQ,QAAQ,EAAE,GAAG;AACrB,OAAO;AACP,MAAM,KAAK,EAAE;AACb,QAAQ,IAAI,EAAE,QAAQ;AACtB,OAAO;AACP,MAAM,OAAO,EAAE;AACf,QAAQ,KAAK,EAAE,GAAG;AAClB,OAAO;AACP,MAAM,IAAI,EAAE;AACZ,QAAQ,KAAK,EAAE;AACf,UAAU,GAAG,EAAE,CAAC;AAChB,UAAU,GAAG,EAAE,CAAC;AAChB,SAAS;AACT,OAAO;AACP,MAAM,IAAI,EAAE;AACZ,QAAQ,MAAM,EAAE,IAAI;AACpB,QAAQ,KAAK,EAAE,GAAG;AAClB,OAAO;AACP,KAAK;AACL,IAAI,UAAU,EAAE;AAChB,MAAM,KAAK,EAAE,SAAS;AACtB,KAAK;AACL,IAAI,OAAO,EAAE;AACb,MAAM,MAAM,EAAE,IAAI;AAClB,KAAK;AACL,IAAI,UAAU,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;AACjC,GAAG;;AAEH,EAAE,MAAM,aAAa,CAAC,OAAO,CAAC;AAC9B;;AAwBe,eAAe,QAAQ,CAAC,KAAK,EAAE,OAAO,EAAE;AACvD,EAAE,MAAM,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC;;AAE5B;AACA;;AAEA,EAAE,MAAM,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,iBAAiB,CAAC,EAAE;AAC3D,IAAI,OAAO,EAAE,IAAI;AACjB,IAAI,QAAQ,EAAE,IAAI;AAClB,GAAG,CAAC;AACJ","names":[],"ignoreList":[],"sources":["../../../src/blocks/particle-background/particle-background.js"],"sourcesContent":["/* eslint-disable prefer-const */\n/* eslint-disable camelcase */\n// import * as all from '../../scripts/vendor/tsparticles/tsparticles.bundle.min.js';\n// eslint-disable-next-line no-unused-vars\nimport { debounce } from '@repobit/dex-utils';\n\nfunction isView(viewport) {\n  const element = document.querySelectorAll(`[data-${viewport}-detector]`)[0];\n  return !!(element && getComputedStyle(element).display !== 'none');\n}\n\nlet tsParticles;\nlet loadAll;\n\nasync function init(block, aemOptions) {\n  // eslint-disable-next-line import/no-unresolved\n  tsParticles = (await import('https://cdn.jsdelivr.net/npm/@tsparticles/engine@3.7.1/+esm')).tsParticles;\n  // eslint-disable-next-line import/no-unresolved\n  loadAll = (await import('https://cdn.jsdelivr.net/npm/@tsparticles/all@3.7.1/+esm')).loadAll;\n  const particleIdSelector = 'ts-particles';\n\n  const particleDiv = document.createElement('div');\n  particleDiv.setAttribute('id', particleIdSelector);\n\n  if (aemOptions) {\n    // eslint-disable-next-line no-param-reassign\n    block = block.querySelector('.block');\n    const blockParent = block.closest('.section');\n    blockParent.classList.add('we-container');\n  } else {\n    block.parentElement.classList.add('we-container');\n  }\n\n  const particleBackground = block.parentElement.querySelector('.particle-background');\n  particleBackground.prepend(particleDiv);\n\n  async function loadParticles(options) {\n    await loadAll(tsParticles);\n\n    await tsParticles.load({ id: particleIdSelector, options });\n  }\n  const options = {\n    particles: {\n      number: {\n        value: 20,\n      },\n      color: {\n        value: '#ffffff',\n      },\n      links: {\n        enable: true,\n        distance: 200,\n      },\n      shape: {\n        type: 'circle',\n      },\n      opacity: {\n        value: 0.6,\n      },\n      size: {\n        value: {\n          min: 2,\n          max: 4,\n        },\n      },\n      move: {\n        enable: true,\n        speed: 0.5,\n      },\n    },\n    background: {\n      color: '#016DFF',\n    },\n    poisson: {\n      enable: true,\n    },\n    fullScreen: { enable: false },\n  };\n\n  await loadParticles(options);\n}\n\n// eslint-disable-next-line no-unused-vars\nasync function checkForMobile() {\n  const isMobileView = isView('mobile');\n  if (isMobileView && (!tsParticles && !loadAll)) {\n    return;\n  }\n\n  if (isMobileView && tsParticles) {\n    const particles = tsParticles.domItem(0);\n    particles.pause();\n    return;\n  }\n\n  if (!isMobileView && (!tsParticles && !loadAll)) {\n    await init();\n    return;\n  }\n\n  const particles = tsParticles.domItem(0);\n  particles.play();\n}\n\nexport default async function decorate(block, options) {\n  await init(block, options);\n\n  // uncomment this line if you want the bubbles to stop moving on mobile\n  // window.addEventListener('resize', debounce(checkForMobile, 250));\n\n  window.dispatchEvent(new CustomEvent('shadowDomLoaded'), {\n    bubbles: true,\n    composed: true, // This allows the event to cross the shadow DOM boundary\n  });\n}\n"],"file":"blocks/particle-background/particle-background.js"}