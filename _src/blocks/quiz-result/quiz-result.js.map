{"version":3,"file":"quiz-result.js","sources":["../../../src/blocks/quiz-result/quiz-result.js"],"sourcesContent":["import { getDatasetFromSection } from '../../scripts/utils/utils.js';\n\nexport default async function decorate(block) {\n  const dataset = getDatasetFromSection(block);\n\n  const { socialTitlePost } = dataset;\n\n  block.classList.add('default-content-wrapper');\n  block.children[0].children[0].classList.add('results-wrapper');\n  block.children[0].children[0].lastElementChild.classList.add('social-wrapper');\n\n  const resultPageUrl = window.location.href;\n\n  const socialWrapperEl = block.querySelector('.social-wrapper');\n  [...socialWrapperEl.querySelectorAll('a')].forEach((anchor) => {\n    anchor.target = '_blank';\n    anchor.rel = 'noopener noreferrer';\n\n    if (anchor.href.includes('twitter')) {\n      const twitterBaseUrl = 'https://twitter.com/intent/post?';\n      const twitterText = `text=${encodeURIComponent(socialTitlePost)}`;\n      const twitterUrl = `&url=${encodeURIComponent(resultPageUrl)}`;\n      const fullTwitterUrl = twitterBaseUrl + twitterText + twitterUrl;\n      anchor.href = fullTwitterUrl;\n    }\n    if (anchor.href.includes('facebook')) {\n      const facebookBaseUrl = 'https://www.facebook.com/sharer/sharer.php?';\n      const facebookUrl = `u=${encodeURIComponent(resultPageUrl)}`;\n      const fullFacebookUrl = facebookBaseUrl + facebookUrl;\n      anchor.href = fullFacebookUrl;\n    }\n  });\n}\n"],"names":["decorate","block","dataset","getDatasetFromSection","socialTitlePost","resultPageUrl","anchor","twitterBaseUrl","twitterText","twitterUrl","fullTwitterUrl","facebookBaseUrl","facebookUrl","fullFacebookUrl"],"mappings":"qEAEe,eAAeA,EAASC,EAAO,CAC5C,MAAMC,EAAUC,EAAsBF,CAAK,EAErC,CAAE,gBAAAG,CAAe,EAAKF,EAE5BD,EAAM,UAAU,IAAI,yBAAyB,EAC7CA,EAAM,SAAS,CAAC,EAAE,SAAS,CAAC,EAAE,UAAU,IAAI,iBAAiB,EAC7DA,EAAM,SAAS,CAAC,EAAE,SAAS,CAAC,EAAE,iBAAiB,UAAU,IAAI,gBAAgB,EAE7E,MAAMI,EAAgB,OAAO,SAAS,KAGtC,CAAC,GADuBJ,EAAM,cAAc,iBAAiB,EACzC,iBAAiB,GAAG,CAAC,EAAE,QAASK,GAAW,CAI7D,GAHAA,EAAO,OAAS,SAChBA,EAAO,IAAM,sBAETA,EAAO,KAAK,SAAS,SAAS,EAAG,CACnC,MAAMC,EAAiB,mCACjBC,EAAc,QAAQ,mBAAmBJ,CAAe,CAAC,GACzDK,EAAa,QAAQ,mBAAmBJ,CAAa,CAAC,GACtDK,EAAiBH,EAAiBC,EAAcC,EACtDH,EAAO,KAAOI,CACpB,CACI,GAAIJ,EAAO,KAAK,SAAS,UAAU,EAAG,CACpC,MAAMK,EAAkB,8CAClBC,EAAc,KAAK,mBAAmBP,CAAa,CAAC,GACpDQ,EAAkBF,EAAkBC,EAC1CN,EAAO,KAAOO,CACpB,CACA,CAAG,CACH"}