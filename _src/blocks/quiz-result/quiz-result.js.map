{"version":3,"file":"quiz-result.js","sources":["../../../src/blocks/quiz-result/quiz-result.js"],"sourcesContent":["import { getDatasetFromSection } from '../../scripts/utils/utils.js';\n\nexport default async function decorate(block) {\n  const dataset = getDatasetFromSection(block);\n\n  const { socialTitlePost } = dataset;\n\n  block.classList.add('default-content-wrapper');\n  block.children[0].children[0].classList.add('results-wrapper');\n  block.children[0].children[0].lastElementChild.classList.add('social-wrapper');\n\n  const resultPageUrl = window.location.href;\n\n  const socialWrapperEl = block.querySelector('.social-wrapper');\n  [...socialWrapperEl.querySelectorAll('a')].forEach((anchor) => {\n    anchor.target = '_blank';\n    anchor.rel = 'noopener noreferrer';\n\n    if (anchor.href.includes('twitter')) {\n      const twitterBaseUrl = 'https://twitter.com/intent/post?';\n      const twitterText = `text=${encodeURIComponent(socialTitlePost)}`;\n      const twitterUrl = `&url=${encodeURIComponent(resultPageUrl)}`;\n      const fullTwitterUrl = twitterBaseUrl + twitterText + twitterUrl;\n      anchor.href = fullTwitterUrl;\n    }\n    if (anchor.href.includes('facebook')) {\n      const facebookBaseUrl = 'https://www.facebook.com/sharer/sharer.php?';\n      const facebookUrl = `u=${encodeURIComponent(resultPageUrl)}`;\n      const fullFacebookUrl = facebookBaseUrl + facebookUrl;\n      anchor.href = fullFacebookUrl;\n    }\n  });\n}\n"],"names":[],"mappings":";;AAEe,eAAe,QAAQ,CAAC,KAAK,EAAE;AAC9C,EAAE,MAAM,OAAO,GAAG,qBAAqB,CAAC,KAAK,CAAC;;AAE9C,EAAE,MAAM,EAAE,eAAe,EAAE,GAAG,OAAO;;AAErC,EAAE,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,yBAAyB,CAAC;AAChD,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC;AAChE,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC;;AAEhF,EAAE,MAAM,aAAa,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI;;AAE5C,EAAE,MAAM,eAAe,GAAG,KAAK,CAAC,aAAa,CAAC,iBAAiB,CAAC;AAChE,EAAE,CAAC,GAAG,eAAe,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;AACjE,IAAI,MAAM,CAAC,MAAM,GAAG,QAAQ;AAC5B,IAAI,MAAM,CAAC,GAAG,GAAG,qBAAqB;;AAEtC,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;AACzC,MAAM,MAAM,cAAc,GAAG,kCAAkC;AAC/D,MAAM,MAAM,WAAW,GAAG,CAAC,KAAK,EAAE,kBAAkB,CAAC,eAAe,CAAC,CAAC,CAAC;AACvE,MAAM,MAAM,UAAU,GAAG,CAAC,KAAK,EAAE,kBAAkB,CAAC,aAAa,CAAC,CAAC,CAAC;AACpE,MAAM,MAAM,cAAc,GAAG,cAAc,GAAG,WAAW,GAAG,UAAU;AACtE,MAAM,MAAM,CAAC,IAAI,GAAG,cAAc;AAClC;AACA,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;AAC1C,MAAM,MAAM,eAAe,GAAG,6CAA6C;AAC3E,MAAM,MAAM,WAAW,GAAG,CAAC,EAAE,EAAE,kBAAkB,CAAC,aAAa,CAAC,CAAC,CAAC;AAClE,MAAM,MAAM,eAAe,GAAG,eAAe,GAAG,WAAW;AAC3D,MAAM,MAAM,CAAC,IAAI,GAAG,eAAe;AACnC;AACA,GAAG,CAAC;AACJ;;;;"}