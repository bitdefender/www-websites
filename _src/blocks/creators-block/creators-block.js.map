{"version":3,"file":"creators-block.js","sources":["../../../src/blocks/creators-block/creators-block.js"],"sourcesContent":["export default function decorate(block) {\n  const parentBlockStyle = block.closest('.section > div').style;\n  const {\n    // eslint-disable-next-line no-unused-vars\n    backgroundColor,\n  } = block.closest('.section').dataset;\n\n  if (backgroundColor) parentBlockStyle.backgroundColor = backgroundColor;\n\n  block.querySelectorAll('table').forEach((table) => {\n    const newDiv = document.createElement('div');\n    newDiv.classList.add('creator-box');\n    const linkToCreator = table.querySelector('tr:nth-child(4) td');\n    const creatorLink = linkToCreator ? linkToCreator.textContent.trim() : '';\n\n    // Find the image from the last row\n    const lastRow = table.querySelector('tr:last-child');\n    const img = lastRow.querySelector('img');\n    let backgroundImage = '';\n\n    if (img) {\n      backgroundImage = `url(${img.src})`;\n    }\n\n    table.querySelectorAll('tr').forEach((tr, rowIndex) => {\n      // Skip the last row since we've already processed the image\n      if (rowIndex === table.rows.length - 1) return;\n\n      tr.querySelectorAll('td').forEach((td) => {\n        const innerDiv = document.createElement('div');\n        innerDiv.innerHTML = td.innerHTML;\n        newDiv.style.background = `linear-gradient(to bottom, rgba(0, 0, 0, 0) 60%, #000 100%), ${backgroundImage}`;\n        newDiv.style.backgroundSize = 'cover'; // Cover the whole div\n        newDiv.style.backgroundPosition = 'center'; // Center the image\n        newDiv.appendChild(innerDiv);\n      });\n    });\n\n    // Remove the 4th div from creator-box\n    const fourthDiv = newDiv.querySelectorAll('div:nth-child(4)');\n    if (fourthDiv.length > 0) {\n      newDiv.removeChild(fourthDiv[0]);\n    }\n\n    // Wrap the newDiv in an anchor element if a link is found\n    if (creatorLink) {\n      const anchor = document.createElement('a');\n      anchor.href = creatorLink;\n      anchor.target = '_blank';\n      anchor.appendChild(newDiv);\n      table.parentNode.replaceChild(anchor, table);\n    } else {\n      table.parentNode.removeChild(table);\n    }\n  });\n}\n"],"names":["decorate","block","parentBlockStyle","backgroundColor","table","newDiv","linkToCreator","creatorLink","img","backgroundImage","tr","rowIndex","td","innerDiv","fourthDiv","anchor"],"mappings":"AAAe,SAASA,EAASC,EAAO,CACtC,MAAMC,EAAmBD,EAAM,QAAQ,gBAAgB,EAAE,MACnD,CAEJ,gBAAAE,CACD,EAAGF,EAAM,QAAQ,UAAU,EAAE,QAE1BE,IAAiBD,EAAiB,gBAAkBC,GAExDF,EAAM,iBAAiB,OAAO,EAAE,QAASG,GAAU,CACjD,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAU,IAAI,aAAa,EAClC,MAAMC,EAAgBF,EAAM,cAAc,oBAAoB,EACxDG,EAAcD,EAAgBA,EAAc,YAAY,KAAM,EAAG,GAIjEE,EADUJ,EAAM,cAAc,eAAe,EAC/B,cAAc,KAAK,EACvC,IAAIK,EAAkB,GAElBD,IACFC,EAAkB,OAAOD,EAAI,GAAG,KAGlCJ,EAAM,iBAAiB,IAAI,EAAE,QAAQ,CAACM,EAAIC,IAAa,CAEjDA,IAAaP,EAAM,KAAK,OAAS,GAErCM,EAAG,iBAAiB,IAAI,EAAE,QAASE,GAAO,CACxC,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAYD,EAAG,UACxBP,EAAO,MAAM,WAAa,gEAAgEI,CAAe,GACzGJ,EAAO,MAAM,eAAiB,QAC9BA,EAAO,MAAM,mBAAqB,SAClCA,EAAO,YAAYQ,CAAQ,CACnC,CAAO,CACP,CAAK,EAGD,MAAMC,EAAYT,EAAO,iBAAiB,kBAAkB,EAM5D,GALIS,EAAU,OAAS,GACrBT,EAAO,YAAYS,EAAU,CAAC,CAAC,EAI7BP,EAAa,CACf,MAAMQ,EAAS,SAAS,cAAc,GAAG,EACzCA,EAAO,KAAOR,EACdQ,EAAO,OAAS,SAChBA,EAAO,YAAYV,CAAM,EACzBD,EAAM,WAAW,aAAaW,EAAQX,CAAK,CACjD,MACMA,EAAM,WAAW,YAAYA,CAAK,CAExC,CAAG,CACH"}