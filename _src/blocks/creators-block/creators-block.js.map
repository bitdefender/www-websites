{"version":3,"file":"creators-block.js","sources":["../../../src/blocks/creators-block/creators-block.js"],"sourcesContent":["export default function decorate(block) {\n  const parentBlockStyle = block.closest('.section > div').style;\n  const {\n    // eslint-disable-next-line no-unused-vars\n    backgroundColor,\n  } = block.closest('.section').dataset;\n\n  if (backgroundColor) parentBlockStyle.backgroundColor = backgroundColor;\n\n  block.querySelectorAll('table').forEach((table) => {\n    const newDiv = document.createElement('div');\n    newDiv.classList.add('creator-box');\n    const linkToCreator = table.querySelector('tr:nth-child(4) td');\n    const creatorLink = linkToCreator ? linkToCreator.textContent.trim() : '';\n\n    // Find the image from the last row\n    const lastRow = table.querySelector('tr:last-child');\n    const img = lastRow.querySelector('img');\n    let backgroundImage = '';\n\n    if (img) {\n      backgroundImage = `url(${img.src})`;\n    }\n\n    table.querySelectorAll('tr').forEach((tr, rowIndex) => {\n      // Skip the last row since we've already processed the image\n      if (rowIndex === table.rows.length - 1) return;\n\n      tr.querySelectorAll('td').forEach((td) => {\n        const innerDiv = document.createElement('div');\n        innerDiv.innerHTML = td.innerHTML;\n        newDiv.style.background = `linear-gradient(to bottom, rgba(0, 0, 0, 0) 60%, #000 100%), ${backgroundImage}`;\n        newDiv.style.backgroundSize = 'cover'; // Cover the whole div\n        newDiv.style.backgroundPosition = 'center'; // Center the image\n        newDiv.appendChild(innerDiv);\n      });\n    });\n\n    // Remove the 4th div from creator-box\n    const fourthDiv = newDiv.querySelectorAll('div:nth-child(4)');\n    if (fourthDiv.length > 0) {\n      newDiv.removeChild(fourthDiv[0]);\n    }\n\n    // Wrap the newDiv in an anchor element if a link is found\n    if (creatorLink) {\n      const anchor = document.createElement('a');\n      anchor.href = creatorLink;\n      anchor.target = '_blank';\n      anchor.appendChild(newDiv);\n      table.parentNode.replaceChild(anchor, table);\n    } else {\n      table.parentNode.removeChild(table);\n    }\n  });\n}\n"],"names":[],"mappings":"AAAe,SAAS,QAAQ,CAAC,KAAK,EAAE;AACxC,EAAE,MAAM,gBAAgB,GAAG,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,KAAK;AAChE,EAAE,MAAM;AACR;AACA,IAAI,eAAe;AACnB,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO;;AAEvC,EAAE,IAAI,eAAe,EAAE,gBAAgB,CAAC,eAAe,GAAG,eAAe;;AAEzE,EAAE,KAAK,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK;AACrD,IAAI,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;AAChD,IAAI,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC;AACvC,IAAI,MAAM,aAAa,GAAG,KAAK,CAAC,aAAa,CAAC,oBAAoB,CAAC;AACnE,IAAI,MAAM,WAAW,GAAG,aAAa,GAAG,aAAa,CAAC,WAAW,CAAC,IAAI,EAAE,GAAG,EAAE;;AAE7E;AACA,IAAI,MAAM,OAAO,GAAG,KAAK,CAAC,aAAa,CAAC,eAAe,CAAC;AACxD,IAAI,MAAM,GAAG,GAAG,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC;AAC5C,IAAI,IAAI,eAAe,GAAG,EAAE;;AAE5B,IAAI,IAAI,GAAG,EAAE;AACb,MAAM,eAAe,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;AACzC;;AAEA,IAAI,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,QAAQ,KAAK;AAC3D;AACA,MAAM,IAAI,QAAQ,KAAK,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;;AAE9C,MAAM,EAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK;AAChD,QAAQ,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;AACtD,QAAQ,QAAQ,CAAC,SAAS,GAAG,EAAE,CAAC,SAAS;AACzC,QAAQ,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,6DAA6D,EAAE,eAAe,CAAC,CAAC;AACnH,QAAQ,MAAM,CAAC,KAAK,CAAC,cAAc,GAAG,OAAO,CAAC;AAC9C,QAAQ,MAAM,CAAC,KAAK,CAAC,kBAAkB,GAAG,QAAQ,CAAC;AACnD,QAAQ,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC;AACpC,OAAO,CAAC;AACR,KAAK,CAAC;;AAEN;AACA,IAAI,MAAM,SAAS,GAAG,MAAM,CAAC,gBAAgB,CAAC,kBAAkB,CAAC;AACjE,IAAI,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;AAC9B,MAAM,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AACtC;;AAEA;AACA,IAAI,IAAI,WAAW,EAAE;AACrB,MAAM,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC;AAChD,MAAM,MAAM,CAAC,IAAI,GAAG,WAAW;AAC/B,MAAM,MAAM,CAAC,MAAM,GAAG,QAAQ;AAC9B,MAAM,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC;AAChC,MAAM,KAAK,CAAC,UAAU,CAAC,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC;AAClD,KAAK,MAAM;AACX,MAAM,KAAK,CAAC,UAAU,CAAC,WAAW,CAAC,KAAK,CAAC;AACzC;AACA,GAAG,CAAC;AACJ;;;;"}