import{matchHeights as d}from"../../scripts/utils/utils.js";function o(e){e.style.height=`${e.scrollHeight}px`;const s=()=>{e.removeEventListener("transitionend",s),e.style.height="auto"};e.addEventListener("transitionend",s),e.classList.add("expanded")}function c(e){e.style.height=`${e.scrollHeight}px`,requestAnimationFrame(()=>{e.classList.remove("expanded"),e.style.height=0})}function u(e){return s=>{let t=null;s.target.tagName!=="A"?t=s.target.closest("a"):t=s.target,t.classList.contains("is-open")?(t.classList.remove("is-open"),t.parentNode.children.length>1&&t.parentNode.querySelectorAll(".features-tabs-content").forEach(a=>{c(a)})):(t.classList.add("is-open"),t.parentNode.children.length>1&&t.parentNode.querySelectorAll(".features-tabs-content").forEach(a=>{o(a)}),e.querySelectorAll("li").forEach(a=>{a!==t.parentNode&&(a.children[0].classList.remove("is-open"),a.querySelectorAll(".features-tabs-content").forEach(r=>{c(r)}))}))}}function h(e){const s=document.createElement("ul");return s.classList.add("features-tabs"),e.querySelectorAll("h4").forEach(t=>{const a=document.createElement("li");s.appendChild(a);const r=document.createElement("a");r.setAttribute("href","#"),r.addEventListener("click",i=>{i.preventDefault(),u(s)(i)}),t.childNodes.forEach(i=>{i.nodeType===Node.TEXT_NODE?r.appendChild(document.createTextNode(i.textContent)):r.appendChild(i)}),r.classList.add("features-tabs-title"),a.appendChild(r),r.querySelectorAll(".tag").forEach(i=>{a.appendChild(i)});const n=document.createElement("div");n.classList.add("features-tabs-content"),a.appendChild(n);let l=t.nextElementSibling;for(;l&&l.tagName!=="H4";)n.appendChild(l),l=t.nextElementSibling;s.appendChild(a),t.remove()}),s}function p(e){const s=[...e.firstElementChild.children];e.classList.add(`features-${s.length}-cols`),[...e.children].forEach(a=>{[...a.children].forEach(r=>{const n=r.querySelector("picture");if(n){const l=n.closest("div");l&&l.children.length===1&&l.classList.add("features-img-col")}r.appendChild(h(r))})});const t=e.querySelectorAll("ul");t&&t.forEach(a=>{a.previousElementSibling.classList.add("feature-text")}),d(e,".feature-text")}export{p as default};
//# sourceMappingURL=features.js.map
