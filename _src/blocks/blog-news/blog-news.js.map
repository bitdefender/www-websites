{"version":3,"file":"blog-news.js","sources":["../../../src/blocks/blog-news/blog-news.js"],"sourcesContent":["import { matchHeights } from '../../scripts/utils/utils.js';\n\nasync function renderBlogGrid(block, endpoint, articlesNumber) {\n  const blogGrid = block.querySelector('.blog-grid');\n  try {\n    const response = await fetch(endpoint);\n    const rssText = await response.text();\n\n    const data = new window.DOMParser().parseFromString(rssText, 'text/xml');\n    const items = data.querySelectorAll('item');\n    let currentCount = 0;\n    items.forEach((item) => {\n      // eslint-disable-next-line no-plusplus\n      currentCount++;\n      if (currentCount > articlesNumber) return;\n      const link = item.querySelector('link').textContent;\n\n      const title = item.querySelector('title').textContent;\n      const media = item.querySelector('content');\n      const image = media.getAttribute('url');\n\n      // Create a blog card\n      const blogCard = document.createElement('a');\n      blogCard.setAttribute('href', link);\n      blogCard.classList.add('blog-card');\n\n      blogCard.innerHTML = `\n          <img src=\"${image}\" alt=\"${title}\">\n          <div class=\"blog-card-content\">\n              <p>${title}</p>\n              <a href=\"${link}\">Find out more</a>\n          </div>\n      `;\n\n      blogGrid.appendChild(blogCard);\n    });\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error(error);\n  }\n}\n\nexport default function decorate(block) {\n  const { endpoint, articlesNumber } = block.closest('.section').dataset;\n  const blogGrid = document.createElement('div');\n  block.appendChild(blogGrid);\n  blogGrid.classList.add('blog-grid');\n  renderBlogGrid(block, endpoint, articlesNumber);\n  matchHeights(block, 'p');\n}\n"],"names":[],"mappings":";;AAEA,eAAe,cAAc,CAAC,KAAK,EAAE,QAAQ,EAAE,cAAc,EAAE;AAC/D,EAAE,MAAM,QAAQ,GAAG,KAAK,CAAC,aAAa,CAAC,YAAY,CAAC;AACpD,EAAE,IAAI;AACN,IAAI,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,QAAQ,CAAC;AAC1C,IAAI,MAAM,OAAO,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;;AAEzC,IAAI,MAAM,IAAI,GAAG,IAAI,MAAM,CAAC,SAAS,EAAE,CAAC,eAAe,CAAC,OAAO,EAAE,UAAU,CAAC;AAC5E,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;AAC/C,IAAI,IAAI,YAAY,GAAG,CAAC;AACxB,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AAC5B;AACA,MAAM,YAAY,EAAE;AACpB,MAAM,IAAI,YAAY,GAAG,cAAc,EAAE;AACzC,MAAM,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,WAAW;;AAEzD,MAAM,MAAM,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,WAAW;AAC3D,MAAM,MAAM,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;AACjD,MAAM,MAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC;;AAE7C;AACA,MAAM,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC;AAClD,MAAM,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC;AACzC,MAAM,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC;;AAEzC,MAAM,QAAQ,CAAC,SAAS,GAAG;AAC3B,oBAAoB,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC;AAC3C;AACA,iBAAiB,EAAE,KAAK,CAAC;AACzB,uBAAuB,EAAE,IAAI,CAAC;AAC9B;AACA,MAAM,CAAC;;AAEP,MAAM,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC;AACpC,KAAK,CAAC;AACN,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB;AACA,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC;AACxB;AACA;;AAEe,SAAS,QAAQ,CAAC,KAAK,EAAE;AACxC,EAAE,MAAM,EAAE,QAAQ,EAAE,cAAc,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO;AACxE,EAAE,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;AAChD,EAAE,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC;AAC7B,EAAE,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC;AACrC,EAAE,cAAc,CAAC,KAAK,EAAE,QAAQ,EAAE,cAAc,CAAC;AACjD,EAAE,YAAY,CAAC,KAAK,EAAE,GAAG,CAAC;AAC1B;;;;"}