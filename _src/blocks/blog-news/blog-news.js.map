{"version":3,"file":"blog-news.js","sources":["../../../src/blocks/blog-news/blog-news.js"],"sourcesContent":["import { matchHeights } from '../../scripts/utils/utils.js';\n\nasync function renderBlogGrid(block, endpoint, articlesNumber) {\n  const blogGrid = block.querySelector('.blog-grid');\n  try {\n    const response = await fetch(endpoint);\n    const rssText = await response.text();\n\n    const data = new window.DOMParser().parseFromString(rssText, 'text/xml');\n    const items = data.querySelectorAll('item');\n    let currentCount = 0;\n    items.forEach((item) => {\n      // eslint-disable-next-line no-plusplus\n      currentCount++;\n      if (currentCount > articlesNumber) return;\n      const link = item.querySelector('link').textContent;\n\n      const title = item.querySelector('title').textContent;\n      const media = item.querySelector('content');\n      const image = media.getAttribute('url');\n\n      // Create a blog card\n      const blogCard = document.createElement('a');\n      blogCard.setAttribute('href', link);\n      blogCard.classList.add('blog-card');\n\n      blogCard.innerHTML = `\n          <img src=\"${image}\" alt=\"${title}\">\n          <div class=\"blog-card-content\">\n              <p>${title}</p>\n              <a href=\"${link}\">Find out more</a>\n          </div>\n      `;\n\n      blogGrid.appendChild(blogCard);\n    });\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error(error);\n  }\n}\n\nexport default function decorate(block) {\n  const { endpoint, articlesNumber } = block.closest('.section').dataset;\n  const blogGrid = document.createElement('div');\n  block.appendChild(blogGrid);\n  blogGrid.classList.add('blog-grid');\n  renderBlogGrid(block, endpoint, articlesNumber);\n  matchHeights(block, 'p');\n}\n"],"names":["renderBlogGrid","block","endpoint","articlesNumber","blogGrid","rssText","items","currentCount","item","link","title","image","blogCard","error","decorate","matchHeights"],"mappings":"4DAEA,eAAeA,EAAeC,EAAOC,EAAUC,EAAgB,CAC7D,MAAMC,EAAWH,EAAM,cAAc,YAAY,EACjD,GAAI,CAEF,MAAMI,EAAU,MADC,MAAM,MAAMH,CAAQ,GACN,KAAM,EAG/BI,EADO,IAAI,OAAO,UAAW,EAAC,gBAAgBD,EAAS,UAAU,EACpD,iBAAiB,MAAM,EAC1C,IAAIE,EAAe,EACnBD,EAAM,QAASE,GAAS,CAGtB,GADAD,IACIA,EAAeJ,EAAgB,OACnC,MAAMM,EAAOD,EAAK,cAAc,MAAM,EAAE,YAElCE,EAAQF,EAAK,cAAc,OAAO,EAAE,YAEpCG,EADQH,EAAK,cAAc,SAAS,EACtB,aAAa,KAAK,EAGhCI,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,aAAa,OAAQH,CAAI,EAClCG,EAAS,UAAU,IAAI,WAAW,EAElCA,EAAS,UAAY;AAAA,sBACLD,CAAK,UAAUD,CAAK;AAAA;AAAA,mBAEvBA,CAAK;AAAA,yBACCD,CAAI;AAAA;AAAA,QAIvBL,EAAS,YAAYQ,CAAQ,CACnC,CAAK,CACF,OAAQC,EAAO,CAEd,QAAQ,MAAMA,CAAK,CACvB,CACA,CAEe,SAASC,EAASb,EAAO,CACtC,KAAM,CAAE,SAAAC,EAAU,eAAAC,CAAgB,EAAGF,EAAM,QAAQ,UAAU,EAAE,QACzDG,EAAW,SAAS,cAAc,KAAK,EAC7CH,EAAM,YAAYG,CAAQ,EAC1BA,EAAS,UAAU,IAAI,WAAW,EAClCJ,EAAeC,EAAOC,EAAUC,CAAc,EAC9CY,EAAad,EAAO,GAAG,CACzB"}