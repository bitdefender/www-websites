{"version":3,"file":"questions-answers.js","sources":["../../../src/blocks/questions-answers/questions-answers.js"],"sourcesContent":["function expandItem(item) {\n  const [, content] = item.children;\n  content.style.height = `${content.scrollHeight}px`;\n  const transitionEndCallback = () => {\n    content.removeEventListener('transitionend', transitionEndCallback);\n    content.style.height = 'auto';\n  };\n  content.addEventListener('transitionend', transitionEndCallback);\n  item.classList.add('expanded');\n}\n\nfunction collapseItem(item) {\n  const [, content] = item.children;\n  content.style.height = `${content.scrollHeight}px`;\n  requestAnimationFrame(() => {\n    item.classList.remove('expanded');\n    content.style.height = 0;\n  });\n}\n\nfunction handleAccordionItemClick(item, items) {\n  if (!item.classList.contains('expanded')) {\n    items.filter((i) => i.classList.contains('expanded')).forEach((i) => collapseItem(i));\n    expandItem(item);\n  } else {\n    collapseItem(item);\n  }\n}\n\nexport default function decorate(block) {\n  const items = Array.from(block.querySelectorAll(':scope > div'));\n  items.forEach((item) => {\n    item.classList.add('questions-answers-item');\n    const [header, content] = item.children;\n    header.classList.add('question');\n\n    if (content) {\n      content.classList.add('answer');\n      // check if .accordion-item-content has a <p>\n      const p = content.querySelector('p');\n      // if it doesn't, add a <p> and move the content inside\n      if (!p) {\n        const newP = document.createElement('p');\n        newP.innerHTML = content.innerHTML;\n        content.innerHTML = '';\n        content.appendChild(newP);\n      }\n    }\n\n    if ([...block.classList].includes('action-only-on-header')) {\n      header.addEventListener('click', handleAccordionItemClick.bind(null, header.parentElement, items));\n    } else {\n      item.addEventListener('click', handleAccordionItemClick.bind(null, item, items));\n    }\n  });\n\n  if (block.classList.contains('first-open')) {\n    items[0].classList.add('expanded');\n  }\n}\n"],"names":["expandItem","item","content","transitionEndCallback","collapseItem","handleAccordionItemClick","items","i","decorate","block","header","newP"],"mappings":"AAAA,SAASA,EAAWC,EAAM,CACxB,KAAM,CAAG,CAAAC,CAAO,EAAID,EAAK,SACzBC,EAAQ,MAAM,OAAS,GAAGA,EAAQ,YAAY,KAC9C,MAAMC,EAAwB,IAAM,CAClCD,EAAQ,oBAAoB,gBAAiBC,CAAqB,EAClED,EAAQ,MAAM,OAAS,MACxB,EACDA,EAAQ,iBAAiB,gBAAiBC,CAAqB,EAC/DF,EAAK,UAAU,IAAI,UAAU,CAC/B,CAEA,SAASG,EAAaH,EAAM,CAC1B,KAAM,CAAG,CAAAC,CAAO,EAAID,EAAK,SACzBC,EAAQ,MAAM,OAAS,GAAGA,EAAQ,YAAY,KAC9C,sBAAsB,IAAM,CAC1BD,EAAK,UAAU,OAAO,UAAU,EAChCC,EAAQ,MAAM,OAAS,CAC3B,CAAG,CACH,CAEA,SAASG,EAAyBJ,EAAMK,EAAO,CACxCL,EAAK,UAAU,SAAS,UAAU,EAIrCG,EAAaH,CAAI,GAHjBK,EAAM,OAAQC,GAAMA,EAAE,UAAU,SAAS,UAAU,CAAC,EAAE,QAASA,GAAMH,EAAaG,CAAC,CAAC,EACpFP,EAAWC,CAAI,EAInB,CAEe,SAASO,EAASC,EAAO,CACtC,MAAMH,EAAQ,MAAM,KAAKG,EAAM,iBAAiB,cAAc,CAAC,EAC/DH,EAAM,QAASL,GAAS,CACtBA,EAAK,UAAU,IAAI,wBAAwB,EAC3C,KAAM,CAACS,EAAQR,CAAO,EAAID,EAAK,SAG/B,GAFAS,EAAO,UAAU,IAAI,UAAU,EAE3BR,IACFA,EAAQ,UAAU,IAAI,QAAQ,EAI1B,CAFMA,EAAQ,cAAc,GAAG,GAE3B,CACN,MAAMS,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,UAAYT,EAAQ,UACzBA,EAAQ,UAAY,GACpBA,EAAQ,YAAYS,CAAI,CAChC,CAGQ,CAAC,GAAGF,EAAM,SAAS,EAAE,SAAS,uBAAuB,EACvDC,EAAO,iBAAiB,QAASL,EAAyB,KAAK,KAAMK,EAAO,cAAeJ,CAAK,CAAC,EAEjGL,EAAK,iBAAiB,QAASI,EAAyB,KAAK,KAAMJ,EAAMK,CAAK,CAAC,CAErF,CAAG,EAEGG,EAAM,UAAU,SAAS,YAAY,GACvCH,EAAM,CAAC,EAAE,UAAU,IAAI,UAAU,CAErC"}