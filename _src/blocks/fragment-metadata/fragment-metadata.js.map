{"version":3,"file":"fragment-metadata.js","sources":["../../../src/blocks/fragment-metadata/fragment-metadata.js"],"sourcesContent":["import { readBlockConfig } from '../../scripts/lib-franklin.js';\nimport { openUrlForOs } from '../../scripts/utils/utils.js';\n\nexport default function decorate(block) {\n  const {\n    template,\n    'open-url-macos': urlMacos,\n    'open-url-windows': urlWindows,\n    'open-url-android': urlAndroid,\n    'open-url-ios': urlIos,\n  } = readBlockConfig(block);\n\n  if (template) {\n    // make sure that the added class is a string\n    // not a variable caught between '{' and '}'\n    const variableRegex = /^\\{([\\s\\S]*)\\}$/;\n    const variableMatch = template.match(variableRegex);\n    const classTemplate = variableMatch ? variableMatch[1] : template;\n\n    document.body.classList.add(classTemplate);\n  }\n\n  if (urlMacos || urlWindows || urlAndroid || urlIos) {\n    openUrlForOs(urlMacos, urlWindows, urlAndroid, urlIos);\n  }\n\n  // Remove the Fragments Metadata table\n  if (block.parentElement) {\n    const parentWrapper = block.parentElement;\n    if (parentWrapper) {\n      parentWrapper.remove();\n      parentWrapper.parentElement?.classList.remove('fragment-metadata-container');\n    }\n  }\n}\n"],"names":[],"mappings":";;;AAGe,SAAS,QAAQ,CAAC,KAAK,EAAE;AACxC,EAAE,MAAM;AACR,IAAI,QAAQ;AACZ,IAAI,gBAAgB,EAAE,QAAQ;AAC9B,IAAI,kBAAkB,EAAE,UAAU;AAClC,IAAI,kBAAkB,EAAE,UAAU;AAClC,IAAI,cAAc,EAAE,MAAM;AAC1B,GAAG,GAAG,eAAe,CAAC,KAAK,CAAC;;AAE5B,EAAE,IAAI,QAAQ,EAAE;AAChB;AACA;AACA,IAAI,MAAM,aAAa,GAAG,iBAAiB;AAC3C,IAAI,MAAM,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAC,aAAa,CAAC;AACvD,IAAI,MAAM,aAAa,GAAG,aAAa,GAAG,aAAa,CAAC,CAAC,CAAC,GAAG,QAAQ;;AAErE,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC;AAC9C;;AAEA,EAAE,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,MAAM,EAAE;AACtD,IAAI,YAAY,CAAC,QAAQ,EAAE,UAAU,EAAE,UAAU,EAAE,MAAM,CAAC;AAC1D;;AAEA;AACA,EAAE,IAAI,KAAK,CAAC,aAAa,EAAE;AAC3B,IAAI,MAAM,aAAa,GAAG,KAAK,CAAC,aAAa;AAC7C,IAAI,IAAI,aAAa,EAAE;AACvB,MAAM,aAAa,CAAC,MAAM,EAAE;AAC5B,MAAM,aAAa,CAAC,aAAa,EAAE,SAAS,CAAC,MAAM,CAAC,6BAA6B,CAAC;AAClF;AACA;AACA;;;;"}