{"version":3,"file":"fragment-metadata.js","sources":["../../../src/blocks/fragment-metadata/fragment-metadata.js"],"sourcesContent":["import { readBlockConfig } from '../../scripts/lib-franklin.js';\nimport { openUrlForOs } from '../../scripts/utils/utils.js';\n\nexport default function decorate(block) {\n  const {\n    template,\n    'open-url-macos': urlMacos,\n    'open-url-windows': urlWindows,\n    'open-url-android': urlAndroid,\n    'open-url-ios': urlIos,\n  } = readBlockConfig(block);\n\n  if (template) {\n    // make sure that the added class is a string\n    // not a variable caught between '{' and '}'\n    const variableRegex = /^\\{([\\s\\S]*)\\}$/;\n    const variableMatch = template.match(variableRegex);\n    const classTemplate = variableMatch ? variableMatch[1] : template;\n\n    document.body.classList.add(classTemplate);\n  }\n\n  if (urlMacos || urlWindows || urlAndroid || urlIos) {\n    openUrlForOs(urlMacos, urlWindows, urlAndroid, urlIos);\n  }\n\n  // Remove the Fragments Metadata table\n  if (block.parentElement) {\n    const parentWrapper = block.parentElement;\n    if (parentWrapper) {\n      parentWrapper.remove();\n      parentWrapper.parentElement?.classList.remove('fragment-metadata-container');\n    }\n  }\n}\n"],"names":["decorate","block","template","urlMacos","urlWindows","urlAndroid","urlIos","readBlockConfig","variableRegex","variableMatch","classTemplate","openUrlForOs","parentWrapper"],"mappings":"4HAGe,SAASA,EAASC,EAAO,CACtC,KAAM,CACJ,SAAAC,EACA,iBAAkBC,EAClB,mBAAoBC,EACpB,mBAAoBC,EACpB,eAAgBC,CACpB,EAAMC,EAAgBN,CAAK,EAEzB,GAAIC,EAAU,CAGZ,MAAMM,EAAgB,kBAChBC,EAAgBP,EAAS,MAAMM,CAAa,EAC5CE,EAAgBD,EAAgBA,EAAc,CAAC,EAAIP,EAEzD,SAAS,KAAK,UAAU,IAAIQ,CAAa,CAC7C,CAOE,IALIP,GAAYC,GAAcC,GAAcC,IAC1CK,EAAaR,EAAUC,EAAYC,EAAYC,CAAM,EAInDL,EAAM,cAAe,CACvB,MAAMW,EAAgBX,EAAM,cACxBW,IACFA,EAAc,OAAQ,EACtBA,EAAc,eAAe,UAAU,OAAO,6BAA6B,EAEjF,CACA"}