{"version":3,"file":"system-requirements.js","sources":["../../../src/blocks/system-requirements/system-requirements.js"],"sourcesContent":["function expandItem(item) {\n  const [, content] = item.children;\n  content.style.height = `${content.scrollHeight}px`;\n  const transitionEndCallback = () => {\n    content.removeEventListener('transitionend', transitionEndCallback);\n    content.style.height = 'auto';\n  };\n  content.addEventListener('transitionend', transitionEndCallback);\n  item.classList.add('expanded');\n}\n\nfunction collapseItem(item) {\n  const [, content] = item.children;\n  content.style.height = `${content.scrollHeight}px`;\n  requestAnimationFrame(() => {\n    item.classList.remove('expanded');\n    content.style.height = 0;\n  });\n}\n\nfunction handleAccordionItemClick(item, items) {\n  if (!item.classList.contains('expanded')) {\n    items.filter((i) => i.classList.contains('expanded')).forEach((i) => collapseItem(i));\n    expandItem(item);\n  } else {\n    collapseItem(item);\n  }\n}\n\nexport default function decorate(block, options) {\n  if (options) {\n    // eslint-disable-next-line no-param-reassign\n    block = block.querySelector('.block');\n    // const blockParent = block.closest('.section');\n    // blockParent.classList.add('we-container');\n  }\n\n  const items = Array.from(block.querySelectorAll(':scope > div'));\n  items.forEach((item) => {\n    item.classList.add('system-requirements-item');\n    const [header, content] = item.children;\n    header.classList.add('system');\n\n    if (content) {\n      content.classList.add('requirement');\n      // check if .accordion-item-content has a <p>\n      // const p = content.querySelector('ul li p');\n      // // if it doesn't, add a <p> and move the content inside\n      // if (!p) {\n      //   const newP = document.createElement('p');\n      //   newP.innerHTML = content.querySelector('ul li').innerHTML;\n      //   content.querySelector('ul li').innerHTML = '';\n      //   content.querySelector('ul li').appendChild(newP);\n      // }\n    }\n\n    if ([...block.classList].includes('action-only-on-header')) {\n      header.addEventListener('click', handleAccordionItemClick.bind(null, header.parentElement, items));\n    } else {\n      item.addEventListener('click', handleAccordionItemClick.bind(null, item, items));\n    }\n  });\n\n  if (block.classList.contains('first-open')) {\n    items[0].classList.add('expanded');\n  }\n\n  window.dispatchEvent(new CustomEvent('shadowDomLoaded'), {\n    bubbles: true,\n    composed: true, // This allows the event to cross the shadow DOM boundary\n  });\n}\n"],"names":["expandItem","item","content","transitionEndCallback","collapseItem","handleAccordionItemClick","items","i","decorate","block","options","header"],"mappings":"AAAA,SAASA,EAAWC,EAAM,CACxB,KAAM,CAAG,CAAAC,CAAO,EAAID,EAAK,SACzBC,EAAQ,MAAM,OAAS,GAAGA,EAAQ,YAAY,KAC9C,MAAMC,EAAwB,IAAM,CAClCD,EAAQ,oBAAoB,gBAAiBC,CAAqB,EAClED,EAAQ,MAAM,OAAS,MACxB,EACDA,EAAQ,iBAAiB,gBAAiBC,CAAqB,EAC/DF,EAAK,UAAU,IAAI,UAAU,CAC/B,CAEA,SAASG,EAAaH,EAAM,CAC1B,KAAM,CAAG,CAAAC,CAAO,EAAID,EAAK,SACzBC,EAAQ,MAAM,OAAS,GAAGA,EAAQ,YAAY,KAC9C,sBAAsB,IAAM,CAC1BD,EAAK,UAAU,OAAO,UAAU,EAChCC,EAAQ,MAAM,OAAS,CAC3B,CAAG,CACH,CAEA,SAASG,EAAyBJ,EAAMK,EAAO,CACxCL,EAAK,UAAU,SAAS,UAAU,EAIrCG,EAAaH,CAAI,GAHjBK,EAAM,OAAQC,GAAMA,EAAE,UAAU,SAAS,UAAU,CAAC,EAAE,QAASA,GAAMH,EAAaG,CAAC,CAAC,EACpFP,EAAWC,CAAI,EAInB,CAEe,SAASO,EAASC,EAAOC,EAAS,CAC3CA,IAEFD,EAAQA,EAAM,cAAc,QAAQ,GAKtC,MAAMH,EAAQ,MAAM,KAAKG,EAAM,iBAAiB,cAAc,CAAC,EAC/DH,EAAM,QAASL,GAAS,CACtBA,EAAK,UAAU,IAAI,0BAA0B,EAC7C,KAAM,CAACU,EAAQT,CAAO,EAAID,EAAK,SAC/BU,EAAO,UAAU,IAAI,QAAQ,EAEzBT,GACFA,EAAQ,UAAU,IAAI,aAAa,EAYjC,CAAC,GAAGO,EAAM,SAAS,EAAE,SAAS,uBAAuB,EACvDE,EAAO,iBAAiB,QAASN,EAAyB,KAAK,KAAMM,EAAO,cAAeL,CAAK,CAAC,EAEjGL,EAAK,iBAAiB,QAASI,EAAyB,KAAK,KAAMJ,EAAMK,CAAK,CAAC,CAErF,CAAG,EAEGG,EAAM,UAAU,SAAS,YAAY,GACvCH,EAAM,CAAC,EAAE,UAAU,IAAI,UAAU,EAGnC,OAAO,cAAc,IAAI,YAAY,iBAAiB,EAAG,CACvD,QAAS,GACT,SAAU,EACd,CAAG,CACH"}