{"version":3,"file":"system-requirements.js","sources":["../../../src/blocks/system-requirements/system-requirements.js"],"sourcesContent":["function expandItem(item) {\n  const [, content] = item.children;\n  content.style.height = `${content.scrollHeight}px`;\n  const transitionEndCallback = () => {\n    content.removeEventListener('transitionend', transitionEndCallback);\n    content.style.height = 'auto';\n  };\n  content.addEventListener('transitionend', transitionEndCallback);\n  item.classList.add('expanded');\n}\n\nfunction collapseItem(item) {\n  const [, content] = item.children;\n  content.style.height = `${content.scrollHeight}px`;\n  requestAnimationFrame(() => {\n    item.classList.remove('expanded');\n    content.style.height = 0;\n  });\n}\n\nfunction handleAccordionItemClick(item, items) {\n  if (!item.classList.contains('expanded')) {\n    items.filter((i) => i.classList.contains('expanded')).forEach((i) => collapseItem(i));\n    expandItem(item);\n  } else {\n    collapseItem(item);\n  }\n}\n\nexport default function decorate(block, options) {\n  if (options) {\n    // eslint-disable-next-line no-param-reassign\n    block = block.querySelector('.block');\n    // const blockParent = block.closest('.section');\n    // blockParent.classList.add('we-container');\n  }\n\n  const items = Array.from(block.querySelectorAll(':scope > div'));\n  items.forEach((item) => {\n    item.classList.add('system-requirements-item');\n    const [header, content] = item.children;\n    header.classList.add('system');\n\n    if (content) {\n      content.classList.add('requirement');\n      // check if .accordion-item-content has a <p>\n      // const p = content.querySelector('ul li p');\n      // // if it doesn't, add a <p> and move the content inside\n      // if (!p) {\n      //   const newP = document.createElement('p');\n      //   newP.innerHTML = content.querySelector('ul li').innerHTML;\n      //   content.querySelector('ul li').innerHTML = '';\n      //   content.querySelector('ul li').appendChild(newP);\n      // }\n    }\n\n    if ([...block.classList].includes('action-only-on-header')) {\n      header.addEventListener('click', handleAccordionItemClick.bind(null, header.parentElement, items));\n    } else {\n      item.addEventListener('click', handleAccordionItemClick.bind(null, item, items));\n    }\n  });\n\n  if (block.classList.contains('first-open')) {\n    items[0].classList.add('expanded');\n  }\n\n  window.dispatchEvent(new CustomEvent('shadowDomLoaded'), {\n    bubbles: true,\n    composed: true, // This allows the event to cross the shadow DOM boundary\n  });\n}\n"],"names":[],"mappings":"AAAA,SAAS,UAAU,CAAC,IAAI,EAAE;AAC1B,EAAE,MAAM,GAAG,OAAO,CAAC,GAAG,IAAI,CAAC,QAAQ;AACnC,EAAE,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC;AACpD,EAAE,MAAM,qBAAqB,GAAG,MAAM;AACtC,IAAI,OAAO,CAAC,mBAAmB,CAAC,eAAe,EAAE,qBAAqB,CAAC;AACvE,IAAI,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM;AACjC,GAAG;AACH,EAAE,OAAO,CAAC,gBAAgB,CAAC,eAAe,EAAE,qBAAqB,CAAC;AAClE,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC;AAChC;;AAEA,SAAS,YAAY,CAAC,IAAI,EAAE;AAC5B,EAAE,MAAM,GAAG,OAAO,CAAC,GAAG,IAAI,CAAC,QAAQ;AACnC,EAAE,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC;AACpD,EAAE,qBAAqB,CAAC,MAAM;AAC9B,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC;AACrC,IAAI,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC;AAC5B,GAAG,CAAC;AACJ;;AAEA,SAAS,wBAAwB,CAAC,IAAI,EAAE,KAAK,EAAE;AAC/C,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;AAC5C,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,YAAY,CAAC,CAAC,CAAC,CAAC;AACzF,IAAI,UAAU,CAAC,IAAI,CAAC;AACpB,GAAG,MAAM;AACT,IAAI,YAAY,CAAC,IAAI,CAAC;AACtB;AACA;;AAEe,SAAS,QAAQ,CAAC,KAAK,EAAE,OAAO,EAAE;AACjD,EAAE,IAAI,OAAO,EAAE;AACf;AACA,IAAI,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC;AACzC;AACA;AACA;;AAEA,EAAE,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC;AAClE,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AAC1B,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,0BAA0B,CAAC;AAClD,IAAI,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC,GAAG,IAAI,CAAC,QAAQ;AAC3C,IAAI,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC;;AAElC,IAAI,IAAI,OAAO,EAAE;AACjB,MAAM,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,IAAI,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,uBAAuB,CAAC,EAAE;AAChE,MAAM,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,wBAAwB,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AACxG,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,wBAAwB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;AACtF;AACA,GAAG,CAAC;;AAEJ,EAAE,IAAI,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;AAC9C,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC;AACtC;;AAEA,EAAE,MAAM,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,iBAAiB,CAAC,EAAE;AAC3D,IAAI,OAAO,EAAE,IAAI;AACjB,IAAI,QAAQ,EAAE,IAAI;AAClB,GAAG,CAAC;AACJ;;;;"}