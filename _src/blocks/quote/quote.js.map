{"version":3,"file":"quote.js","sources":["../../../src/blocks/quote/quote.js"],"sourcesContent":["import { createTag } from '../../scripts/utils/utils.js';\nimport { decorateIcons } from '../../scripts/lib-franklin.js';\n\nfunction createQuote(item) {\n  const paragraphs = Array.from(item.querySelectorAll('p'));\n  const quote = paragraphs.find((paragraph) => {\n    const strongOrEm = paragraph.querySelector('strong, em');\n    return !strongOrEm && paragraph.textContent.trim() !== '';\n  });\n\n  const author = item.querySelector('p > strong');\n  const stars = item.querySelector('p > em');\n  if (!quote) {\n    return null;\n  }\n\n  // Get the text content of the paragraph\n  const paragraphText = stars.textContent;\n\n  // Initialize a variable to count the asterisks\n  let asteriskCount = 0;\n\n  // Loop through the text and count asterisks\n  // eslint-disable-next-line no-plusplus\n  for (let i = 0; i < paragraphText.length; i++) {\n    if (paragraphText[i] === '*') {\n      asteriskCount += 1;\n    }\n  }\n  const starsContainer = createTag('div', { class: 'quote-stars-container' });\n  // eslint-disable-next-line no-plusplus\n  for (let i = 0; i < asteriskCount; i++) {\n    const star = createTag('span', { class: 'star' });\n    starsContainer.append(star);\n  }\n\n  return createTag(\n    'div',\n    {\n      class: 'quote-container',\n\n    },\n    `<div class=\"quote-img\">\n        <span class=\"icon icon-dark-blue-quote\"/>\n    </div>\n    <div class=\"quote-content\">\n        <p class=\"stars\">${starsContainer?.innerHTML}</p>\n        <p class=\"description\">${quote?.innerHTML}</p>\n        <p class=\"author\">${author?.innerHTML}</p>\n    </div>`,\n  );\n}\nexport default async function decorate(block) {\n  const quoteWrap = createTag('div', { class: 'quote-wrap' });\n  [...block.children].forEach((item) => {\n    const quote = createQuote(item);\n    if (quote) {\n      quoteWrap.append(quote);\n    }\n  });\n  block.replaceChildren(quoteWrap);\n\n  decorateIcons(block);\n}\n"],"names":[],"mappings":";;;AAGA,SAAS,WAAW,CAAC,IAAI,EAAE;AAC3B,EAAE,MAAM,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;AAC3D,EAAE,MAAM,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK;AAC/C,IAAI,MAAM,UAAU,GAAG,SAAS,CAAC,aAAa,CAAC,YAAY,CAAC;AAC5D,IAAI,OAAO,CAAC,UAAU,IAAI,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE;AAC7D,GAAG,CAAC;;AAEJ,EAAE,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC;AACjD,EAAE,MAAM,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;AAC5C,EAAE,IAAI,CAAC,KAAK,EAAE;AACd,IAAI,OAAO,IAAI;AACf;;AAEA;AACA,EAAE,MAAM,aAAa,GAAG,KAAK,CAAC,WAAW;;AAEzC;AACA,EAAE,IAAI,aAAa,GAAG,CAAC;;AAEvB;AACA;AACA,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACjD,IAAI,IAAI,aAAa,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;AAClC,MAAM,aAAa,IAAI,CAAC;AACxB;AACA;AACA,EAAE,MAAM,cAAc,GAAG,SAAS,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,uBAAuB,EAAE,CAAC;AAC7E;AACA,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,CAAC,EAAE,EAAE;AAC1C,IAAI,MAAM,IAAI,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;AACrD,IAAI,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC;AAC/B;;AAEA,EAAE,OAAO,SAAS;AAClB,IAAI,KAAK;AACT,IAAI;AACJ,MAAM,KAAK,EAAE,iBAAiB;;AAE9B,KAAK;AACL,IAAI,CAAC;AACL;AACA;AACA;AACA,yBAAyB,EAAE,cAAc,EAAE,SAAS,CAAC;AACrD,+BAA+B,EAAE,KAAK,EAAE,SAAS,CAAC;AAClD,0BAA0B,EAAE,MAAM,EAAE,SAAS,CAAC;AAC9C,UAAU,CAAC;AACX,GAAG;AACH;AACe,eAAe,QAAQ,CAAC,KAAK,EAAE;AAC9C,EAAE,MAAM,SAAS,GAAG,SAAS,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,YAAY,EAAE,CAAC;AAC7D,EAAE,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AACxC,IAAI,MAAM,KAAK,GAAG,WAAW,CAAC,IAAI,CAAC;AACnC,IAAI,IAAI,KAAK,EAAE;AACf,MAAM,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC;AAC7B;AACA,GAAG,CAAC;AACJ,EAAE,KAAK,CAAC,eAAe,CAAC,SAAS,CAAC;;AAElC,EAAE,aAAa,CAAC,KAAK,CAAC;AACtB;;;;"}