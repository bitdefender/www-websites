{"version":3,"file":"webview-table.js","sources":["../../../src/blocks/webview-table/webview-table.js"],"sourcesContent":["import { getLanguageCountryFromPath } from '../../scripts/scripts.js';\nimport { matchHeights } from '../../scripts/utils/utils.js';\n\nfunction replaceTableTextToProperCheckmars(block) {\n  block.querySelectorAll('div')\n    .forEach(async (div) => {\n      if (div.textContent.match(/^yes/i)) {\n        div.textContent = '';\n        const icon = document.createElement('div');\n        icon.classList.add('yes-check');\n        div.appendChild(icon);\n      } else if (div.textContent.match(/^no/i)) {\n        div.textContent = '';\n        const icon = document.createElement('div');\n        icon.classList.add('no-check');\n        div.appendChild(icon);\n      }\n    });\n}\n\nfunction buildTableHeader(block) {\n  const header = block.querySelector('div:nth-of-type(2)');\n\n  // Ensure the header exists before trying to modify it\n  if (header) {\n    header.classList.add('webview-comparison-header');\n  }\n}\n\nfunction addAccesibilityRoles(block) {\n  block.setAttribute('role', 'table');\n  const firstDiv = block.querySelector('div:first-of-type');\n  [...block.querySelectorAll('div')].filter((div) => !firstDiv.contains(div))\n    .forEach((div) => {\n      if (div.childElementCount > 1 && div.parentElement.getAttribute('role') === 'table') {\n        div.setAttribute('role', 'row');\n      } else if (div.childElementCount === 1 && div.innerHTML.indexOf('&lt;privacy-policy-text&gt;') !== -1) {\n        div.setAttribute('role', 'privacy-policy');\n        div.innerHTML = div.innerHTML.replace('&lt;privacy-policy-text&gt;', '');\n      } else if (!div.hasAttribute('role')) {\n        div.setAttribute('role', 'cell');\n      }\n    });\n\n  const header = block.querySelector('div:not(:first-child)');\n  [...header.children].forEach((headerColumns) => {\n    headerColumns.setAttribute('role', 'columnheader');\n  });\n}\n\nfunction renderPrices(block, metadata) {\n  const {\n    products, firstYearText, featuredProduct, currentProduct, saveText,\n  } = metadata;\n\n  const productsAsList = Array.from(products?.split(','));\n  const cells = block.querySelectorAll('div[role=\"cell\"]');\n  let index = 0; // Manual index increment\n\n  cells.forEach((cell) => {\n    // Only process cells that contain the {PRICEBOX} variable\n    if (cell.textContent.includes('{PRICEBOX}')) {\n      cell.parentElement.classList.add('price-row');\n      cell.querySelector('p')?.remove();\n      const [prodName, prodUsers, prodYears] = productsAsList[index]?.split('/') || [];\n\n      const buyBox = document.createElement('div');\n      buyBox.classList.add('buy-box', 'await-loader');\n\n      const savingsTag = document.createElement('div');\n      savingsTag.style.visibility = 'hidden';\n      savingsTag.classList.add('savings-tag-container');\n\n      // Determine if current product or featured product\n      const isFeatured = index + 1 === Number(featuredProduct);\n      const isCurrent = Number(currentProduct) === index + 1;\n      if (prodName && !isCurrent) {\n        cell.setAttribute('data-store-context', '');\n        cell.setAttribute('data-store-id', prodName);\n        cell.setAttribute('data-store-option', `${prodUsers}-${prodYears}`);\n        cell.setAttribute('data-store-department', 'consumer');\n        cell.setAttribute('data-store-event', 'product-loaded');\n      }\n      // Add featured logic if applicable\n      if (featuredProduct && isFeatured) {\n        block.querySelector(`div[role=\"columnheader\"]:nth-of-type(${Number(featuredProduct) + 1})`).classList.add('featured');\n        block.querySelectorAll('div[role=\"row\"]').forEach((row) => {\n          const featuredCell = row.querySelector(`div[role=\"cell\"]:nth-of-type(${Number(featuredProduct) + 1})`);\n          if (featuredCell) {\n            featuredCell.classList.add('featured');\n          }\n        });\n        block.setAttribute('data-store-context', '');\n        block.setAttribute('data-store-id', prodName);\n        block.setAttribute('data-store-option', `${prodUsers}-${prodYears}`);\n        block.setAttribute('data-store-department', 'consumer');\n        block.setAttribute('data-store-event', 'product-loaded');\n        savingsTag.innerHTML = `\n          <span class=\"saving-tag-text\" data-store-hide=\"no-price=discounted\">\n            <span data-store-discount=\"percentage\"></span> ${saveText || ''} \n          </span>\n        `;\n        savingsTag.style.visibility = 'visible';\n      }\n      // Populate buy box for non-current products\n      if (!isCurrent) {\n        buyBox.innerHTML = `\n          <div class=\"price-box\">\n            <div>\n              <span class=\"prod-oldprice\" data-store-price=\"full\" data-store-hide=\"no-price=discounted\"></span>\n            </div>\n            <div class=\"newprice-container mt-2\">\n              <span class=\"prod-newprice\"><span data-store-price=\"discounted||full\"></span></span>\n            </div>\n          </div>\n          <span class=\"under-price-text\">${firstYearText}</span>\n        `;\n        const buyLink = cell.querySelector('a[href*=\"#buylink\"]');\n        buyLink?.setAttribute('data-store-buy-link', '');\n      } else {\n        cell.classList.add('current');\n      }\n\n      cell.insertAdjacentElement('afterbegin', buyBox);\n      const tagCell = block.querySelector(`div[role=\"columnheader\"]:nth-of-type(${index + 2})`);\n      tagCell.insertAdjacentElement('afterbegin', savingsTag);\n\n      // eslint-disable-next-line no-plusplus\n      index++; // Increment index manually\n    }\n  });\n}\n\n// eslint-disable-next-line max-len\nfunction adjustFontSizeUntilTargetHeight(elementsSelector, targetElement, targetHeight, maxSize = 100, minSize = 10, step = 1, interval = 50) {\n  const elements = document.querySelectorAll(elementsSelector);\n\n  // Invalid selector or target element not found.\n  if (!elements.length || !targetElement) {\n    return;\n  }\n\n  let previousHeight = targetElement.offsetHeight;\n\n  function adjustSize() {\n    const currentHeight = targetElement.offsetHeight;\n\n    if (Math.abs(currentHeight - targetHeight) < 2) {\n      return; // Stop when the target height is reached\n    }\n\n    let fontChanged = false;\n\n    elements.forEach((el) => {\n      const currentSize = parseInt(window.getComputedStyle(el).fontSize, 10);\n\n      if (currentHeight < targetHeight && currentSize < maxSize) {\n        el.style.fontSize = `${currentSize + step}px`; // Increase size\n        fontChanged = true;\n      } else if (currentHeight > targetHeight && currentSize > minSize) {\n        el.style.fontSize = `${currentSize - step}px`; // Decrease size\n        fontChanged = true;\n      }\n    });\n\n    // Continue adjusting only if font size was changed\n    if (fontChanged) {\n      setTimeout(adjustSize, interval); // Slight delay for smooth adjustment\n    }\n  }\n\n  // Use MutationObserver to track height changes efficiently\n  const observer = new MutationObserver(() => {\n    const newHeight = targetElement.offsetHeight;\n    if (newHeight !== previousHeight) {\n      previousHeight = newHeight;\n      adjustSize();\n    }\n  });\n\n  observer.observe(targetElement, { attributes: true, childList: true, subtree: true });\n\n  adjustSize();\n}\n\nfunction getLanguage() {\n  // Try to get the language from the path\n  const langCountry = getLanguageCountryFromPath();\n  if (langCountry && langCountry.language && langCountry.country) {\n    return `${langCountry.language}-${langCountry.country}`;\n  }\n\n  // Try to get the language from the query parameter\n  const urlParams = new URLSearchParams(window.location.search);\n  const langFromQuery = urlParams.get('lang');\n  if (langFromQuery) {\n    return langFromQuery;\n  }\n\n  // Default to \"en-us\"\n  return 'en-us';\n}\n\nasync function checkAndReplacePrivacyPolicyLink(block) {\n  // Select the privacy-policy tag\n  const privacyPolicyTag = block.querySelector('[role=\"privacy-policy\"]');\n\n  if (privacyPolicyTag) {\n    // Select the link inside the privacy-policy tag\n    const privacyPolicyLink = privacyPolicyTag.querySelector('a');\n    const locale = getLanguage().toLowerCase();\n    if (privacyPolicyLink) {\n      privacyPolicyLink.href = privacyPolicyLink.href.replace('locale', locale);\n      privacyPolicyLink.setAttribute('target', '_blank');\n      const response = await fetch(privacyPolicyLink.href);\n      if (response.status === 404) {\n        // Replace the link with the en-us version\n        privacyPolicyLink.href = 'https://www.bitdefender.com/en-us/site/view/legal-privacy-policy-for-home-users-solutions.html';\n      }\n    }\n  }\n}\n\nexport default async function decorate(block) {\n  const metadata = block.closest('.section').dataset;\n  buildTableHeader(block);\n  addAccesibilityRoles(block);\n  replaceTableTextToProperCheckmars(block);\n  renderPrices(block, metadata);\n  matchHeights(block, '.savings-tag-container');\n  matchHeights(block, '.buy-box');\n\n  const url = new URL(window.location.href);\n  if (url.searchParams.has('theme') && url.searchParams.get('theme') === 'light') {\n    block.classList.add('light-mode');\n  }\n\n  // Check and replace privacy-policy link if it gives a 404\n  await checkAndReplacePrivacyPolicyLink(block);\n\n  const targetElement = document.querySelector('.webview-table');\n  adjustFontSizeUntilTargetHeight('.webview-table > div[role=\"row\"] > div:nth-child(1)', targetElement, 512);\n}\n"],"names":[],"mappings":";;;AAGA,SAAS,iCAAiC,CAAC,KAAK,EAAE;AAClD,EAAE,KAAK,CAAC,gBAAgB,CAAC,KAAK;AAC9B,KAAK,OAAO,CAAC,OAAO,GAAG,KAAK;AAC5B,MAAM,IAAI,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;AAC1C,QAAQ,GAAG,CAAC,WAAW,GAAG,EAAE;AAC5B,QAAQ,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;AAClD,QAAQ,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC;AACvC,QAAQ,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC;AAC7B,OAAO,MAAM,IAAI,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;AAChD,QAAQ,GAAG,CAAC,WAAW,GAAG,EAAE;AAC5B,QAAQ,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;AAClD,QAAQ,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC;AACtC,QAAQ,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC;AAC7B;AACA,KAAK,CAAC;AACN;;AAEA,SAAS,gBAAgB,CAAC,KAAK,EAAE;AACjC,EAAE,MAAM,MAAM,GAAG,KAAK,CAAC,aAAa,CAAC,oBAAoB,CAAC;;AAE1D;AACA,EAAE,IAAI,MAAM,EAAE;AACd,IAAI,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,2BAA2B,CAAC;AACrD;AACA;;AAEA,SAAS,oBAAoB,CAAC,KAAK,EAAE;AACrC,EAAE,KAAK,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC;AACrC,EAAE,MAAM,QAAQ,GAAG,KAAK,CAAC,aAAa,CAAC,mBAAmB,CAAC;AAC3D,EAAE,CAAC,GAAG,KAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC;AAC5E,KAAK,OAAO,CAAC,CAAC,GAAG,KAAK;AACtB,MAAM,IAAI,GAAG,CAAC,iBAAiB,GAAG,CAAC,IAAI,GAAG,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,OAAO,EAAE;AAC3F,QAAQ,GAAG,CAAC,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC;AACvC,OAAO,MAAM,IAAI,GAAG,CAAC,iBAAiB,KAAK,CAAC,IAAI,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,6BAA6B,CAAC,KAAK,EAAE,EAAE;AAC7G,QAAQ,GAAG,CAAC,YAAY,CAAC,MAAM,EAAE,gBAAgB,CAAC;AAClD,QAAQ,GAAG,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,6BAA6B,EAAE,EAAE,CAAC;AAChF,OAAO,MAAM,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE;AAC5C,QAAQ,GAAG,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC;AACxC;AACA,KAAK,CAAC;;AAEN,EAAE,MAAM,MAAM,GAAG,KAAK,CAAC,aAAa,CAAC,uBAAuB,CAAC;AAC7D,EAAE,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,aAAa,KAAK;AAClD,IAAI,aAAa,CAAC,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC;AACtD,GAAG,CAAC;AACJ;;AAEA,SAAS,YAAY,CAAC,KAAK,EAAE,QAAQ,EAAE;AACvC,EAAE,MAAM;AACR,IAAI,QAAQ,EAAE,aAAa,EAAE,eAAe,EAAE,cAAc,EAAE,QAAQ;AACtE,GAAG,GAAG,QAAQ;;AAEd,EAAE,MAAM,cAAc,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;AACzD,EAAE,MAAM,KAAK,GAAG,KAAK,CAAC,gBAAgB,CAAC,kBAAkB,CAAC;AAC1D,EAAE,IAAI,KAAK,GAAG,CAAC,CAAC;;AAEhB,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AAC1B;AACA,IAAI,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;AACjD,MAAM,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC;AACnD,MAAM,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE;AACvC,MAAM,MAAM,CAAC,QAAQ,EAAE,SAAS,EAAE,SAAS,CAAC,GAAG,cAAc,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE;;AAEtF,MAAM,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;AAClD,MAAM,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,cAAc,CAAC;;AAErD,MAAM,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;AACtD,MAAM,UAAU,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ;AAC5C,MAAM,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,uBAAuB,CAAC;;AAEvD;AACA,MAAM,MAAM,UAAU,GAAG,KAAK,GAAG,CAAC,KAAK,MAAM,CAAC,eAAe,CAAC;AAC9D,MAAM,MAAM,SAAS,GAAG,MAAM,CAAC,cAAc,CAAC,KAAK,KAAK,GAAG,CAAC;AAC5D,MAAM,IAAI,QAAQ,IAAI,CAAC,SAAS,EAAE;AAClC,QAAQ,IAAI,CAAC,YAAY,CAAC,oBAAoB,EAAE,EAAE,CAAC;AACnD,QAAQ,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,QAAQ,CAAC;AACpD,QAAQ,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;AAC3E,QAAQ,IAAI,CAAC,YAAY,CAAC,uBAAuB,EAAE,UAAU,CAAC;AAC9D,QAAQ,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,gBAAgB,CAAC;AAC/D;AACA;AACA,MAAM,IAAI,eAAe,IAAI,UAAU,EAAE;AACzC,QAAQ,KAAK,CAAC,aAAa,CAAC,CAAC,qCAAqC,EAAE,MAAM,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC;AAC7H,QAAQ,KAAK,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK;AACnE,UAAU,MAAM,YAAY,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC,6BAA6B,EAAE,MAAM,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAChH,UAAU,IAAI,YAAY,EAAE;AAC5B,YAAY,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC;AAClD;AACA,SAAS,CAAC;AACV,QAAQ,KAAK,CAAC,YAAY,CAAC,oBAAoB,EAAE,EAAE,CAAC;AACpD,QAAQ,KAAK,CAAC,YAAY,CAAC,eAAe,EAAE,QAAQ,CAAC;AACrD,QAAQ,KAAK,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;AAC5E,QAAQ,KAAK,CAAC,YAAY,CAAC,uBAAuB,EAAE,UAAU,CAAC;AAC/D,QAAQ,KAAK,CAAC,YAAY,CAAC,kBAAkB,EAAE,gBAAgB,CAAC;AAChE,QAAQ,UAAU,CAAC,SAAS,GAAG;AAC/B;AACA,2DAA2D,EAAE,QAAQ,IAAI,EAAE,CAAC;AAC5E;AACA,QAAQ,CAAC;AACT,QAAQ,UAAU,CAAC,KAAK,CAAC,UAAU,GAAG,SAAS;AAC/C;AACA;AACA,MAAM,IAAI,CAAC,SAAS,EAAE;AACtB,QAAQ,MAAM,CAAC,SAAS,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,EAAE,aAAa,CAAC;AACzD,QAAQ,CAAC;AACT,QAAQ,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC;AACjE,QAAQ,OAAO,EAAE,YAAY,CAAC,qBAAqB,EAAE,EAAE,CAAC;AACxD,OAAO,MAAM;AACb,QAAQ,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC;AACrC;;AAEA,MAAM,IAAI,CAAC,qBAAqB,CAAC,YAAY,EAAE,MAAM,CAAC;AACtD,MAAM,MAAM,OAAO,GAAG,KAAK,CAAC,aAAa,CAAC,CAAC,qCAAqC,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/F,MAAM,OAAO,CAAC,qBAAqB,CAAC,YAAY,EAAE,UAAU,CAAC;;AAE7D;AACA,MAAM,KAAK,EAAE,CAAC;AACd;AACA,GAAG,CAAC;AACJ;;AAEA;AACA,SAAS,+BAA+B,CAAC,gBAAgB,EAAE,aAAa,EAAE,YAAY,EAAE,OAAO,GAAG,GAAG,EAAE,OAAO,GAAG,EAAE,EAAE,IAAI,GAAG,CAAC,EAAE,QAAQ,GAAG,EAAE,EAAE;AAC9I,EAAE,MAAM,QAAQ,GAAG,QAAQ,CAAC,gBAAgB,CAAC,gBAAgB,CAAC;;AAE9D;AACA,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,aAAa,EAAE;AAC1C,IAAI;AACJ;;AAEA,EAAE,IAAI,cAAc,GAAG,aAAa,CAAC,YAAY;;AAEjD,EAAE,SAAS,UAAU,GAAG;AACxB,IAAI,MAAM,aAAa,GAAG,aAAa,CAAC,YAAY;;AAEpD,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,YAAY,CAAC,GAAG,CAAC,EAAE;AACpD,MAAM,OAAO;AACb;;AAEA,IAAI,IAAI,WAAW,GAAG,KAAK;;AAE3B,IAAI,QAAQ,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK;AAC7B,MAAM,MAAM,WAAW,GAAG,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC;;AAE5E,MAAM,IAAI,aAAa,GAAG,YAAY,IAAI,WAAW,GAAG,OAAO,EAAE;AACjE,QAAQ,EAAE,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,EAAE,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;AACtD,QAAQ,WAAW,GAAG,IAAI;AAC1B,OAAO,MAAM,IAAI,aAAa,GAAG,YAAY,IAAI,WAAW,GAAG,OAAO,EAAE;AACxE,QAAQ,EAAE,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,EAAE,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;AACtD,QAAQ,WAAW,GAAG,IAAI;AAC1B;AACA,KAAK,CAAC;;AAEN;AACA,IAAI,IAAI,WAAW,EAAE;AACrB,MAAM,UAAU,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;AACvC;AACA;;AAEA;AACA,EAAE,MAAM,QAAQ,GAAG,IAAI,gBAAgB,CAAC,MAAM;AAC9C,IAAI,MAAM,SAAS,GAAG,aAAa,CAAC,YAAY;AAChD,IAAI,IAAI,SAAS,KAAK,cAAc,EAAE;AACtC,MAAM,cAAc,GAAG,SAAS;AAChC,MAAM,UAAU,EAAE;AAClB;AACA,GAAG,CAAC;;AAEJ,EAAE,QAAQ,CAAC,OAAO,CAAC,aAAa,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;AAEvF,EAAE,UAAU,EAAE;AACd;;AAEA,SAAS,WAAW,GAAG;AACvB;AACA,EAAE,MAAM,WAAW,GAAG,0BAA0B,EAAE;AAClD,EAAE,IAAI,WAAW,IAAI,WAAW,CAAC,QAAQ,IAAI,WAAW,CAAC,OAAO,EAAE;AAClE,IAAI,OAAO,CAAC,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW,CAAC,OAAO,CAAC,CAAC;AAC3D;;AAEA;AACA,EAAE,MAAM,SAAS,GAAG,IAAI,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;AAC/D,EAAE,MAAM,aAAa,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC;AAC7C,EAAE,IAAI,aAAa,EAAE;AACrB,IAAI,OAAO,aAAa;AACxB;;AAEA;AACA,EAAE,OAAO,OAAO;AAChB;;AAEA,eAAe,gCAAgC,CAAC,KAAK,EAAE;AACvD;AACA,EAAE,MAAM,gBAAgB,GAAG,KAAK,CAAC,aAAa,CAAC,yBAAyB,CAAC;;AAEzE,EAAE,IAAI,gBAAgB,EAAE;AACxB;AACA,IAAI,MAAM,iBAAiB,GAAG,gBAAgB,CAAC,aAAa,CAAC,GAAG,CAAC;AACjE,IAAI,MAAM,MAAM,GAAG,WAAW,EAAE,CAAC,WAAW,EAAE;AAC9C,IAAI,IAAI,iBAAiB,EAAE;AAC3B,MAAM,iBAAiB,CAAC,IAAI,GAAG,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,MAAM,CAAC;AAC/E,MAAM,iBAAiB,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC;AACxD,MAAM,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC;AAC1D,MAAM,IAAI,QAAQ,CAAC,MAAM,KAAK,GAAG,EAAE;AACnC;AACA,QAAQ,iBAAiB,CAAC,IAAI,GAAG,gGAAgG;AACjI;AACA;AACA;AACA;;AAEe,eAAe,QAAQ,CAAC,KAAK,EAAE;AAC9C,EAAE,MAAM,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO;AACpD,EAAE,gBAAgB,CAAC,KAAK,CAAC;AACzB,EAAE,oBAAoB,CAAC,KAAK,CAAC;AAC7B,EAAE,iCAAiC,CAAC,KAAK,CAAC;AAC1C,EAAE,YAAY,CAAC,KAAK,EAAE,QAAQ,CAAC;AAC/B,EAAE,YAAY,CAAC,KAAK,EAAE,wBAAwB,CAAC;AAC/C,EAAE,YAAY,CAAC,KAAK,EAAE,UAAU,CAAC;;AAEjC,EAAE,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;AAC3C,EAAE,IAAI,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,OAAO,EAAE;AAClF,IAAI,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC;AACrC;;AAEA;AACA,EAAE,MAAM,gCAAgC,CAAC,KAAK,CAAC;;AAE/C,EAAE,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,gBAAgB,CAAC;AAChE,EAAE,+BAA+B,CAAC,qDAAqD,EAAE,aAAa,EAAE,GAAG,CAAC;AAC5G;;;;"}