{"version":3,"mappings":"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","names":["setDiscountedPriceAttribute","type","hideDecimals","prodName","priceAttribute","updateProductPrice","saveText","buyLinkSelector","billed","perPrice","priceElement","newPrice","oldPrice","billedPrice","createPlanSwitcher","radioButtons","cardNumber","prodsNames","prodsUsers","prodsYears","variant","planSwitcher","radioArray","radio","idx","radioText","plan","productName","prodUser","prodYear","checked","createFeatureList","featuresSet","table","tr","tdList","firstTdContent","secondTdContent","liClass","pillText","iconElement","icon","pillElement","count","match","checkAddOn","addOn","decorate","block","products","familyProducts","monthlyProducts","pid","mainProduct","addOnProducts","addOnMonthlyProducts","thirdRadioButtonProducts","addonProductName","blockParent","defaultContentWrapperElements","individualSwitchText","familySwitchText","element","switchBox","switchCheckbox","box","productsAsList","familyProductsAsList","combinedProducts","monthlyPricesAsList","thirdRadioButtonProductsAsList","addOnProductsAsList","addOnProductsInitial","addOnMonthlyProductsAsList","billedTexts","prod","key","mainTable","greenTag","title","blueTag","subtitle","buyLink","undeBuyLink","benefitsLists","billed2","buyLink2","subtitle2","prodUsers","prodYears","prodMonthlyName","prodMonthlyUsers","prodMonthlyYears","prodThirdRadioButtonName","prodThirdRadioButtonUsers","prodThirdRadioButtonYears","addOnProdName","addOnProdUsers","addOnProdYears","addOnProdMonthlyName","addOnProdMonthlyUsers","addOnProdMonthlyYears","featureList","planSwitcher2","newBlueTag","blueTagChildren","child","secondButton","billedText","storeEvent","checkIfNotProductPage","prodBox","titleHTML","hasAnchor","anchorHref","refactorTitle","prodEntry","priceBox","addOnPriceBox","checkmark","checkmarkList","li","checkBox","newLi","productObject","Store","ProductInfo","product","addOnProduct","addOnCost","formatPrice","addOnNewPrice","addOnOldPrice","addOnPercentSave","checkBoxSelector","args","decorateIcons","__vitePreload","list","matchHeights"],"ignoreList":[],"sources":["../../../src/blocks/new-prod-boxes/new-prod-boxes.js"],"sourcesContent":["/* eslint-disable prefer-const */\n/* eslint-disable no-undef */\n/* eslint-disable max-len */\nimport {\n  matchHeights, formatPrice,\n  checkIfNotProductPage,\n} from '../../scripts/utils/utils.js';\nimport { Store, ProductInfo } from '../../scripts/libs/store/index.js';\n\nfunction setDiscountedPriceAttribute(type, hideDecimals, prodName) {\n  let priceAttribute = 'discounted||full';\n\n  if (type === 'monthly') {\n    priceAttribute = hideDecimals === 'true' ? 'discounted-monthly-no-decimal||full-monthly' : 'discounted-monthly||full-monthly';\n    if (prodName.endsWith('m')) {\n      priceAttribute = hideDecimals === 'true' ? 'discounted-no-decimal||full' : 'discounted||full';\n    }\n  }\n\n  return priceAttribute;\n}\n\nasync function updateProductPrice(prodName, saveText, buyLinkSelector = null, billed = null, type = null, hideDecimals = null, perPrice = '') {\n  let priceElement = document.createElement('div');\n  let newPrice = document.createElement('span');\n\n  let priceAttribute = setDiscountedPriceAttribute(type, hideDecimals, prodName);\n  newPrice.setAttribute('data-store-price', priceAttribute);\n\n  let oldPrice = 'data-store-price=\"full\"';\n  let billedPrice = 'data-store-price=\"discounted||full\"';\n  if (hideDecimals === 'true') {\n    oldPrice = 'data-store-price=\"full-no-decimal\"';\n    billedPrice = 'data-store-price=\"discounted-no-decimal||full-no-decimal\"';\n  }\n\n  priceElement.innerHTML = `\n      <div class=\"hero-aem__price mt-3\">\n        <div>\n          <span class=\"prod-oldprice\" ${oldPrice} data-store-hide=\"no-price=discounted\"></span>\n          <span class=\"prod-save\" data-store-hide=\"no-price=discounted\">${saveText} <span data-store-discount=\"percentage\"></span> </span>\n        </div>\n        <div class=\"newprice-container mt-2\">\n          <span class=\"prod-newprice\"> ${newPrice.outerHTML}  ${perPrice && `<sup class=\"per-m\">${perPrice.textContent.replace('0', '')}</sup>`}</span>\n        </div>\n        ${billed ? `<div class=\"billed\">${billed.innerHTML.replace('0', `<span class=\"newprice-2\" ${billedPrice}></span>`)}</div>` : ''}\n        <a data-store-buy-link href=\"#\" class=\"button primary no-arrow\">${buyLinkSelector?.innerText}</a>\n      </div>`;\n  return priceElement;\n}\n\nfunction createPlanSwitcher(radioButtons, cardNumber, prodsNames, prodsUsers, prodsYears, variant = 'default') {\n  const planSwitcher = document.createElement('div');\n  planSwitcher.classList.add('plan-switcher');\n  planSwitcher.classList.toggle('addon', variant === 'addon');\n\n  let radioArray = ['yearly', 'monthly', '3-rd-button'];\n  if (variant === 'addon') {\n    radioArray = ['add-on-yearly', 'add-on-monthly'];\n  }\n\n  Array.from(radioButtons.children).forEach((radio, idx) => {\n    let radioText = radio.textContent;\n    let plan = radioArray[idx];\n    let productName = prodsNames[idx];\n    let prodUser = prodsUsers[idx];\n    let prodYear = prodsYears[idx];\n    let checked = idx === 0 ? 'checked' : '';\n    let defaultCheck = radio.textContent.match(/\\[checked\\]/g);\n    if (defaultCheck) {\n      radioText = radioText.replace('[checked]', '');\n      checked = 'checked';\n    }\n\n    if (productName) {\n      planSwitcher.innerHTML += `\n        <input data-store-click-set-product data-store-product-id=\"${productName}\" data-store-product-option=\"${prodUser}-${prodYear}\" data-store-product-department=\"consumer\" type=\"radio\" id=\"${plan}-${productName.trim()}\" name=\"${cardNumber}-${variant}\" value=\"${cardNumber}-${plan}-${productName.trim()}\" ${checked}>\n        <label for=\"${plan}-${productName.trim()}\" class=\"radio-label\">${radioText}</label><br>\n      `;\n    }\n  });\n\n  return planSwitcher;\n}\n\nfunction createFeatureList(featuresSet) {\n  return Array.from(featuresSet).map((table) => {\n    const trList = Array.from(table.querySelectorAll('tr'));\n    const liString = trList.map((tr) => {\n      const tdList = Array.from(tr.querySelectorAll('td'));\n      let firstTdContent = tdList.length > 0 && tdList[0].textContent.trim() !== '' ? `${tdList[0].innerHTML}` : '';\n      const secondTdContent = tdList.length > 1 && tdList[1].textContent.trim() !== '' ? `<span class=\"white-pill-content\">${tdList[1].innerHTML}</span>` : '';\n      let liClass = '';\n\n      if (firstTdContent === '') {\n        liClass += 'd-none';\n      }\n\n      if (firstTdContent.indexOf('?pill') !== -1) {\n        let pillText = firstTdContent.match(/\\?pill (\\w+)/);\n        let iconElement = firstTdContent.match(/<span class=\"[^\"]*\">(.*?)<\\/span>/);\n        if (pillText) {\n          let icon = tdList[0].querySelector('span');\n          const pillElement = document.createElement('span');\n          pillElement.classList.add('blue-pill');\n          pillElement.innerHTML = `${pillText[1]}${iconElement ? iconElement[0] : ''}`;\n          firstTdContent = firstTdContent.replace(pillText[0], `${pillElement.outerHTML}`);\n          if (icon) {\n            let count = 0;\n            firstTdContent = firstTdContent.replace(new RegExp(icon.outerHTML, 'g'), (match) => {\n              count += 1;\n              return (count === 2) ? '' : match;\n            });\n          }\n        }\n      }\n\n      if (firstTdContent.indexOf('&lt;pill') !== -1 || firstTdContent.indexOf('&lt;') !== -1) {\n        liClass += ' has_arrow';\n        firstTdContent = firstTdContent.replace('&lt;-', '');\n      }\n\n      if (firstTdContent.indexOf('-&gt;') !== -1 || firstTdContent.indexOf('&gt;') !== -1) {\n        liClass += ' has_arrow_right';\n        firstTdContent = firstTdContent.replace('-&gt;', '<span class=\"arrow-right\"></span>');\n      }\n\n      if (firstTdContent.indexOf('[checkmark]') !== -1) {\n        firstTdContent = firstTdContent.replace('[checkmark]', '<span class=\"checkmark\"></span>');\n      }\n\n      if (firstTdContent.indexOf('[add-on]') !== -1) {\n        firstTdContent = firstTdContent.replace('[add-on]', '');\n      }\n\n      if (firstTdContent.indexOf('&lt;&lt;add-on-newprice&gt;&gt;') !== -1) {\n        firstTdContent = firstTdContent.replace('&lt;&lt;add-on-newprice&gt;&gt;', '<span class=\"add-on-newprice\"></span>');\n      }\n      if (firstTdContent.indexOf('&lt;&lt;add-on-oldprice&gt;&gt;') !== -1) {\n        firstTdContent = firstTdContent.replace('&lt;&lt;add-on-oldprice&gt;&gt;', '<span class=\"add-on-oldprice\"></span>');\n      }\n\n      if (firstTdContent.indexOf('&lt;&lt;add-on-percent-save&gt;&gt;') !== -1) {\n        firstTdContent = firstTdContent.replace('&lt;&lt;add-on-percent-save&gt;&gt;', '<span class=\"add-on-percent-save\"></span>');\n      }\n\n      if (firstTdContent.indexOf('[[') !== -1) {\n        firstTdContent = firstTdContent.replace('[[', '(');\n      }\n\n      if (firstTdContent.indexOf(']]') !== -1) {\n        firstTdContent = firstTdContent.replace(']]', ')');\n      }\n\n      const liContent = `<li class=\"${liClass}\">${firstTdContent}${secondTdContent}</li>`;\n      return liContent;\n    }).join(' ');\n\n    return `<ul>${liString}</ul>`;\n  });\n}\n\n// Function to check if content contains [add-on] text\nfunction checkAddOn(featuresSet) {\n  let addOn = false;\n  // eslint-disable-next-line array-callback-return\n  Array.from(featuresSet).map((table) => {\n    const trList = Array.from(table.querySelectorAll('tr'));\n    // eslint-disable-next-line array-callback-return\n    trList.map((tr) => {\n      const tdList = Array.from(tr.querySelectorAll('td'));\n      let firstTdContent = tdList.length > 0 && tdList[0].textContent.trim() !== '' ? `${tdList[0].innerHTML}` : '';\n      if (firstTdContent.indexOf('[add-on]') !== -1) {\n        addOn = true;\n      }\n    });\n  });\n\n  return addOn;\n}\n\nexport default async function decorate(block) {\n  const {\n    // eslint-disable-next-line no-unused-vars\n    products, familyProducts, monthlyProducts, pid, mainProduct,\n    addOnProducts, addOnMonthlyProducts, type, hideDecimals, thirdRadioButtonProducts, saveText, addonProductName,\n  } = block.closest('.section').dataset;\n\n  const blockParent = block.closest('.section');\n  blockParent.classList.add('we-container');\n\n  let defaultContentWrapperElements = block.closest('.section').querySelector('.default-content-wrapper')?.children;\n  let individualSwitchText;\n  let familySwitchText;\n  if (defaultContentWrapperElements) {\n    [...defaultContentWrapperElements].forEach((element) => {\n      if (element.innerHTML.includes('&lt;slider-1 ')) {\n        element.innerHTML = element.innerHTML.replace('&lt;slider-1 ', '');\n        individualSwitchText = element.innerHTML;\n        element.remove();\n      }\n      if (element.innerHTML.includes('&lt;slider-2 ')) {\n        element.innerHTML = element.innerHTML.replace('&lt;slider-2 ', '');\n        familySwitchText = element.innerHTML;\n        element.remove();\n      }\n    });\n  }\n\n  let switchBox = document.createElement('div');\n  if (individualSwitchText && familySwitchText) {\n    switchBox.classList.add('switchBox');\n    switchBox.innerHTML = `\n      <label class=\"switch\">\n        <input type=\"checkbox\" id=\"switchCheckbox\">\n        <span class=\"slider round\">\n\n        </span>\n        <span class=\"label right\">${individualSwitchText}</span>\n        <span class=\"label left\">${familySwitchText}</span>\n      </label>\n    `;\n\n    // Get the checkbox inside the switchBox\n    let switchCheckbox = switchBox.querySelector('#switchCheckbox');\n    // Add an event listener to the checkbox\n    switchCheckbox.addEventListener('change', () => {\n      if (switchCheckbox.checked) {\n        let familyBoxes = block.querySelectorAll('.family-box');\n        familyBoxes.forEach((box) => {\n          box.style.display = 'block';\n        });\n\n        let individualBoxes = block.querySelectorAll('.individual-box');\n        individualBoxes.forEach((box) => {\n          box.style.display = 'none';\n        });\n      } else {\n        let familyBoxes = block.querySelectorAll('.family-box');\n        familyBoxes.forEach((box) => {\n          box.style.display = 'none';\n        });\n\n        let individualBoxes = block.querySelectorAll('.individual-box');\n        individualBoxes.forEach((box) => {\n          box.style.display = 'block';\n        });\n      }\n    });\n  }\n\n  const productsAsList = products && products.replaceAll(' ', '').split(',');\n  const familyProductsAsList = familyProducts && familyProducts.replaceAll(' ', '').split(',');\n  const combinedProducts = productsAsList.concat(familyProductsAsList);\n  const monthlyPricesAsList = monthlyProducts && monthlyProducts.replaceAll(' ', '').split(',');\n  const thirdRadioButtonProductsAsList = thirdRadioButtonProducts && thirdRadioButtonProducts.replaceAll(' ', '').split(',');\n  const addOnProductsAsList = addOnProducts && addOnProducts.replaceAll(' ', '').split(',');\n  const addOnProductsInitial = addOnProductsAsList && addOnProductsAsList.slice(0, productsAsList.length);\n  const addOnMonthlyProductsAsList = addOnMonthlyProducts && addOnMonthlyProducts.replaceAll(' ', '').split(',');\n  const billedTexts = [];\n\n  if (productsAsList.length >= 5) {\n    block.classList.add('five-cards');\n  }\n\n  if (combinedProducts.length) {\n    [...block.children].map(async (prod, key) => {\n      const mainTable = prod.querySelector('tbody');\n      const [greenTag, title, blueTag, subtitle, radioButtons, perPrice, billed, buyLink, undeBuyLink, benefitsLists, billed2, buyLink2, subtitle2] = [...mainTable.querySelectorAll(':scope > tr')];\n      const [prodName, prodUsers, prodYears] = combinedProducts[key].split('/');\n      const [prodMonthlyName, prodMonthlyUsers, prodMonthlyYears] = monthlyPricesAsList ? monthlyPricesAsList[key].split('/') : [];\n      const [prodThirdRadioButtonName, prodThirdRadioButtonUsers, prodThirdRadioButtonYears] = thirdRadioButtonProductsAsList ? thirdRadioButtonProductsAsList[key].split('/') : [];\n      const [addOnProdName, addOnProdUsers, addOnProdYears] = addOnProductsAsList ? addOnProductsAsList[key].split('/') : [];\n      const [addOnProdMonthlyName, addOnProdMonthlyUsers, addOnProdMonthlyYears] = addOnMonthlyProductsAsList ? addOnMonthlyProductsAsList[key].split('/') : [];\n      const featuresSet = benefitsLists.querySelectorAll('table');\n      const featureList = createFeatureList(featuresSet);\n      billedTexts.push(billed);\n      let addOn = checkAddOn(featuresSet);\n      let buyLinkSelector = prod.querySelector('a[href*=\"#buylink\"]');\n      if (buyLinkSelector) {\n        buyLinkSelector.classList.add('button', 'primary');\n      } else {\n        buyLinkSelector = buyLink.querySelector('a');\n      }\n\n      let planSwitcher = document.createElement('div');\n      if (radioButtons && monthlyProducts) {\n        let prodsNames = [prodName, prodMonthlyName, prodThirdRadioButtonName];\n        let prodsUsers = [prodUsers, prodMonthlyUsers, prodThirdRadioButtonUsers];\n        let prodsYears = [prodYears, prodMonthlyYears, prodThirdRadioButtonYears];\n        planSwitcher = createPlanSwitcher(radioButtons, key, prodsNames, prodsUsers, prodsYears);\n      }\n      let planSwitcher2 = document.createElement('div');\n      if (addOn && addOnProducts && addOnMonthlyProducts) {\n        let prodsNames = [addOnProdName, addOnProdMonthlyName];\n        let prodsUsers = [addOnProdUsers, addOnProdMonthlyUsers];\n        let prodsYears = [addOnProdYears, addOnProdMonthlyYears];\n        planSwitcher2 = createPlanSwitcher(radioButtons, key, prodsNames, prodsUsers, prodsYears, 'addon');\n      }\n\n      let newBlueTag = document.createElement('div');\n      if (blueTag) {\n        let blueTagChildren = blueTag.children;\n        blueTagChildren = Array.from(blueTagChildren);\n        blueTagChildren.forEach((child) => {\n          // create a different blueTag element\n          newBlueTag.innerHTML += `<div class=\"blueTag\">${child.innerHTML}</div>`;\n        });\n      }\n\n      let secondButton = buyLink?.querySelectorAll('a')[1];\n      if (secondButton) {\n        secondButton.classList.add('button', 'secondary', 'no-arrow');\n      }\n\n      // default billedText will be the first one\n      let billedText = billed?.children[0];\n      // default billed text changes if we have the [checked] flag in the planSwitcher\n      Array.from(radioButtons?.children)?.forEach((radio, idx) => {\n        if (radio.textContent.match(/\\[checked\\]/g)) {\n          billedText = billed.children[idx];\n        }\n      });\n\n      // set the store event on the component\n      let storeEvent = 'main-product-loaded';\n      if (checkIfNotProductPage()) {\n        storeEvent = 'product-loaded';\n      }\n      const prodBox = document.createElement('div');\n\n      let titleHTML = '';\n      const hasAnchor = title.querySelector('a');\n      if (title.textContent.trim()) {\n        if (hasAnchor) {\n          const anchorHref = hasAnchor.getAttribute('href');\n          const refactorTitle = title.textContent.replace(/(Bitdefender)(?!\\s*<br>)/i, '$1<br>');\n          titleHTML = `<h4><a href=\"${anchorHref}\" title=\"${title.textContent}\">${refactorTitle}</a></h4>`;\n        } else {\n          titleHTML = `<h4>${title.innerHTML}</h4>`;\n        }\n      }\n\n      prodBox.innerHTML = `\n          <div class=\"prod_box${greenTag.innerText.trim() && ' hasGreenTag'} ${key < productsAsList.length ? 'individual-box' : 'family-box'}\"\n          data-store-context data-store-id=\"${prodName}\" data-store-option=\"${prodUsers}-${prodYears}\" data-store-department=\"consumer\" ${productsAsList.some((prodEntry) => prodEntry.includes(prodName)) ? `data-store-event=\"${storeEvent}\"` : ''}>\n            <div class=\"inner_prod_box\">\n              ${greenTag.innerText.trim() ? `<div class=\"greenTag2\">${greenTag.innerText.trim()}</div>` : ''}\n              ${titleHTML}\n\n              <div class=\"blueTagsWrapper\">${newBlueTag.innerText.trim() ? `${newBlueTag.innerHTML.trim()}` : ''}</div>\n              ${subtitle.innerText.trim() ? `<p class=\"subtitle${subtitle.innerText.trim().split(/\\s+/).length > 8 ? ' fixed_height' : ''}\">${subtitle.innerHTML}</p>` : ''}\n              <hr />\n              ${subtitle2?.innerText.trim() ? `<p class=\"subtitle-2${subtitle2.innerText.trim().split(/\\s+/).length > 8 ? ' fixed_height' : ''}\">${subtitle2.innerText.trim()}</p>` : ''}\n              ${radioButtons ? planSwitcher.outerHTML : ''}\n              <div class=\"hero-aem__prices await-loader\"></div>\n              ${secondButton ? secondButton.outerHTML : ''}\n              ${undeBuyLink.innerText.trim() ? `<div class=\"undeBuyLink\">${undeBuyLink.innerText.trim()}</div>` : ''}\n              <hr />\n              ${benefitsLists.innerText.trim() ? `<div class=\"benefitsLists\">${featureList}</div>` : ''}\n              <div class=\"add-on-product\" style=\"display: none;\">\n                ${billed2 ? '<hr>' : ''}\n                ${planSwitcher2.outerHTML ? planSwitcher2.outerHTML : ''}\n                ${addonProductName ? `<h4>${addonProductName}</h4>` : ''}\n                <div class=\"hero-aem__prices__addon\"></div>\n              </div>\n            </div>\n          </div>`;\n      block.children[key].outerHTML = prodBox.innerHTML;\n      let priceBox = await updateProductPrice(prodName, saveText, buyLink.querySelector('a'), billedText, type, hideDecimals, perPrice);\n      block.children[key].querySelector('.hero-aem__prices').appendChild(priceBox);\n      let addOnPriceBox;\n      if (addOn && addOnProducts) {\n        addOnPriceBox = await updateProductPrice(addOnProdName, saveText, buyLink2.querySelector('a'), billed2, type, hideDecimals, perPrice);\n        block.children[key].querySelector('.hero-aem__prices__addon').appendChild(addOnPriceBox);\n      }\n\n      let checkmark = block.children[key].querySelector('.checkmark');\n      if (checkmark) {\n        let checkmarkList = checkmark.closest('ul');\n        checkmarkList.classList.add('checkmark-list');\n\n        let li = checkmark.closest('li');\n        li.removeChild(checkmark);\n\n        let checkBox = document.createElement('input');\n        checkBox.setAttribute('type', 'checkbox');\n        checkBox.classList.add('checkmark');\n\n        // rewrite the list element so flexbox can work\n        let newLi = document.createElement('li');\n        newLi.innerHTML = `\n          ${checkBox.outerHTML}\n          <div>${li.innerHTML}</div>`;\n        li.replaceWith(newLi);\n\n        block.children[key].querySelector('.add-on-product').setAttribute('data-store-context', '');\n        block.children[key].querySelector('.add-on-product').setAttribute('data-store-id', addOnProdName);\n        block.children[key].querySelector('.add-on-product').setAttribute('data-store-option', `${addOnProdUsers}-${addOnProdYears}`);\n        block.children[key].querySelector('.add-on-product').setAttribute('data-store-department', 'consumer');\n        if (addOnProductsInitial && addOnProductsInitial.some((prodEntry) => prodEntry.includes(addOnProdName))) {\n          block.children[key].querySelector('.add-on-product').setAttribute('data-store-event', storeEvent);\n        }\n\n        let productObject = await Store.getProducts([new ProductInfo(prodName), new ProductInfo(addOnProdName)]);\n        let product = productObject[prodName];\n        let addOnProduct = productObject[addOnProdName];\n        if (addOnProduct) {\n          let addOnCost = addOnProduct.getOption(addOnProdUsers, addOnProdYears).getDiscountedPrice('value') - product.getOption(prodUsers, prodYears).getDiscountedPrice('value');\n          addOnCost = formatPrice(addOnCost, product.getCurrency());\n\n          let addOnNewPrice = newLi.querySelector('.add-on-newprice');\n          addOnNewPrice.textContent = addOnCost;\n          let addOnOldPrice = newLi.querySelector('.add-on-oldprice');\n          addOnOldPrice.textContent = formatPrice(addOnProduct.getOption(addOnProdUsers, addOnProdYears).getPrice('value'), addOnProduct.getCurrency());\n          let addOnPercentSave = newLi.querySelector('.add-on-percent-save');\n          addOnPercentSave.textContent = `${addOnPriceBox.querySelector('.prod-save').textContent} ${addOnProduct.getOption(addOnProdUsers, addOnProdYears).getDiscount('percentageWithProcent')}`;\n\n          let checkBoxSelector = newLi.querySelector('.checkmark');\n          checkBoxSelector.addEventListener('change', () => {\n            if (checkBoxSelector.checked) {\n              checkmarkList.classList.add('checked');\n              block.children[key].querySelector('.add-on-product').style.display = 'block';\n            } else {\n              checkmarkList.classList.remove('checked');\n              block.children[key].querySelector('.add-on-product').style.display = 'none';\n            }\n          });\n        }\n      }\n    });\n  }\n\n  if (individualSwitchText && familySwitchText) {\n    block.parentNode.insertBefore(switchBox, block);\n  }\n\n  // handling of the billedText below the price\n  [...block.children].forEach((box, key) => {\n    box.querySelectorAll('.plan-switcher input').forEach((radio, idx) => {\n      radio.addEventListener('change', () => {\n        let billedText = billedTexts[key].children[idx]?.innerHTML;\n        if (billedText) {\n          box.querySelector('.billed').innerHTML = billedText;\n        }\n      });\n    });\n  });\n\n  window.hj = window.hj || function initHotjar(...args) {\n    (hj.q = hj.q || []).push(...args);\n  };\n  hj('event', 'new-prod-boxes');\n\n  // decorate icons if the component is being called from www-websites\n  const isInLandingPages = window.location.href.includes('www-landing-pages') || window.location.href.includes('bitdefender.com/pages');\n  if (!isInLandingPages) {\n    const { decorateIcons } = await import('../../scripts/lib-franklin.js');\n    decorateIcons(block.closest('.section'));\n  }\n\n  if (blockParent.classList.contains('same-height-lists')) {\n    const prodCard = block.querySelector('.prod_box');\n    const featureLists = prodCard?.querySelectorAll('ul');\n    featureLists?.forEach((list, idx) => {\n      matchHeights(block, `div > ul:nth-of-type(${idx + 1})`);\n    });\n  }\n\n  matchHeights(block, '.subtitle');\n  matchHeights(block, '.subtitle-2');\n  matchHeights(block, 'h2');\n  matchHeights(block, 'h4');\n  matchHeights(block, '.plan-switcher');\n  matchHeights(block, '.blueTagsWrapper');\n}\n"],"file":"blocks/new-prod-boxes/new-prod-boxes.js"}