{"version":3,"file":"video-carousel.js","sources":["../../../src/blocks/video-carousel/video-carousel.js"],"sourcesContent":["function createCarousel(block, videos, titles) {\n  const carouselContainer = document.createElement('div');\n  carouselContainer.classList.add('carousel-container');\n\n  const carouselTrack = document.createElement('div');\n  carouselTrack.classList.add('carousel-track');\n\n  videos.forEach((video, index) => {\n    const carouselItem = document.createElement('div');\n    carouselItem.classList.add('carousel-item');\n\n    // Create an iframe element for embedding YouTube video\n    const iframeElement = document.createElement('iframe');\n    iframeElement.setAttribute('src', `${video}`);\n    iframeElement.setAttribute('frameborder', '0');\n    iframeElement.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture');\n    iframeElement.setAttribute('allowfullscreen', '');\n\n    const videoTitle = document.createElement('div');\n    videoTitle.classList.add('video-title');\n    videoTitle.textContent = titles[index];\n\n    carouselItem.appendChild(iframeElement);\n    carouselItem.appendChild(videoTitle);\n    carouselTrack.appendChild(carouselItem);\n    carouselTrack.scroll({\n      behavior: 'smooth',\n    });\n  });\n\n  carouselContainer.appendChild(carouselTrack);\n  block.appendChild(carouselContainer);\n\n  // Carousel navigation logic\n  const carouselNav = document.createElement('div');\n  carouselNav.classList.add('carousel-navigation');\n\n  videos.forEach((_, index) => {\n    const dot = document.createElement('div');\n    dot.classList.add('carousel-dot');\n    if (index === 0) dot.classList.add('active');\n    // eslint-disable-next-line no-use-before-define\n    dot.addEventListener('click', () => moveToSlide(index));\n    carouselNav.appendChild(dot);\n  });\n\n  block.appendChild(carouselNav);\n\n  let currentIndex = 0;\n  function moveToSlide(index) {\n    const dots = document.querySelectorAll('.carousel-dot');\n    dots[currentIndex].classList.remove('active');\n    dots[index].classList.add('active');\n\n    currentIndex = index;\n    // eslint-disable-next-line no-unsafe-optional-chaining\n    carouselTrack.style.transform = `translateX(-${block.querySelector('.carousel-item')?.offsetWidth * index}px)`;\n  }\n}\n\nexport default function decorate(block) {\n  const videos = Object.values(block.closest('.section').dataset).filter((value) => value.includes('https://www.youtube.com/embed/'));\n  const titles = Object.keys(block.closest('.section').dataset)\n    .filter((key) => key.includes('title'))\n    .map((key) => block.closest('.section').dataset[key]);\n  if (videos) {\n    createCarousel(block, videos, titles);\n  }\n}\n"],"names":["createCarousel","block","videos","titles","carouselContainer","carouselTrack","video","index","carouselItem","iframeElement","videoTitle","carouselNav","_","dot","moveToSlide","currentIndex","dots","decorate","value","key"],"mappings":"AAAA,SAASA,EAAeC,EAAOC,EAAQC,EAAQ,CAC7C,MAAMC,EAAoB,SAAS,cAAc,KAAK,EACtDA,EAAkB,UAAU,IAAI,oBAAoB,EAEpD,MAAMC,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,UAAU,IAAI,gBAAgB,EAE5CH,EAAO,QAAQ,CAACI,EAAOC,IAAU,CAC/B,MAAMC,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,UAAU,IAAI,eAAe,EAG1C,MAAMC,EAAgB,SAAS,cAAc,QAAQ,EACrDA,EAAc,aAAa,MAAO,GAAGH,CAAK,EAAE,EAC5CG,EAAc,aAAa,cAAe,GAAG,EAC7CA,EAAc,aAAa,QAAS,0FAA0F,EAC9HA,EAAc,aAAa,kBAAmB,EAAE,EAEhD,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,UAAU,IAAI,aAAa,EACtCA,EAAW,YAAcP,EAAOI,CAAK,EAErCC,EAAa,YAAYC,CAAa,EACtCD,EAAa,YAAYE,CAAU,EACnCL,EAAc,YAAYG,CAAY,EACtCH,EAAc,OAAO,CACnB,SAAU,QAChB,CAAK,CACL,CAAG,EAEDD,EAAkB,YAAYC,CAAa,EAC3CJ,EAAM,YAAYG,CAAiB,EAGnC,MAAMO,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,UAAU,IAAI,qBAAqB,EAE/CT,EAAO,QAAQ,CAACU,EAAGL,IAAU,CAC3B,MAAMM,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAU,IAAI,cAAc,EAC5BN,IAAU,GAAGM,EAAI,UAAU,IAAI,QAAQ,EAE3CA,EAAI,iBAAiB,QAAS,IAAMC,EAAYP,CAAK,CAAC,EACtDI,EAAY,YAAYE,CAAG,CAC/B,CAAG,EAEDZ,EAAM,YAAYU,CAAW,EAE7B,IAAII,EAAe,EACnB,SAASD,EAAYP,EAAO,CAC1B,MAAMS,EAAO,SAAS,iBAAiB,eAAe,EACtDA,EAAKD,CAAY,EAAE,UAAU,OAAO,QAAQ,EAC5CC,EAAKT,CAAK,EAAE,UAAU,IAAI,QAAQ,EAElCQ,EAAeR,EAEfF,EAAc,MAAM,UAAY,eAAeJ,EAAM,cAAc,gBAAgB,GAAG,YAAcM,CAAK,KAC7G,CACA,CAEe,SAASU,EAAShB,EAAO,CACtC,MAAMC,EAAS,OAAO,OAAOD,EAAM,QAAQ,UAAU,EAAE,OAAO,EAAE,OAAQiB,GAAUA,EAAM,SAAS,gCAAgC,CAAC,EAC5Hf,EAAS,OAAO,KAAKF,EAAM,QAAQ,UAAU,EAAE,OAAO,EACzD,OAAQkB,GAAQA,EAAI,SAAS,OAAO,CAAC,EACrC,IAAKA,GAAQlB,EAAM,QAAQ,UAAU,EAAE,QAAQkB,CAAG,CAAC,EAClDjB,GACFF,EAAeC,EAAOC,EAAQC,CAAM,CAExC"}