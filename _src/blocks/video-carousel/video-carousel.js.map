{"version":3,"file":"video-carousel.js","sources":["../../../src/blocks/video-carousel/video-carousel.js"],"sourcesContent":["function createCarousel(block, videos, titles) {\n  const carouselContainer = document.createElement('div');\n  carouselContainer.classList.add('carousel-container');\n\n  const carouselTrack = document.createElement('div');\n  carouselTrack.classList.add('carousel-track');\n\n  videos.forEach((video, index) => {\n    const carouselItem = document.createElement('div');\n    carouselItem.classList.add('carousel-item');\n\n    // Create an iframe element for embedding YouTube video\n    const iframeElement = document.createElement('iframe');\n    iframeElement.setAttribute('src', `${video}`);\n    iframeElement.setAttribute('frameborder', '0');\n    iframeElement.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture');\n    iframeElement.setAttribute('allowfullscreen', '');\n\n    const videoTitle = document.createElement('div');\n    videoTitle.classList.add('video-title');\n    videoTitle.textContent = titles[index];\n\n    carouselItem.appendChild(iframeElement);\n    carouselItem.appendChild(videoTitle);\n    carouselTrack.appendChild(carouselItem);\n    carouselTrack.scroll({\n      behavior: 'smooth',\n    });\n  });\n\n  carouselContainer.appendChild(carouselTrack);\n  block.appendChild(carouselContainer);\n\n  // Carousel navigation logic\n  const carouselNav = document.createElement('div');\n  carouselNav.classList.add('carousel-navigation');\n\n  videos.forEach((_, index) => {\n    const dot = document.createElement('div');\n    dot.classList.add('carousel-dot');\n    if (index === 0) dot.classList.add('active');\n    // eslint-disable-next-line no-use-before-define\n    dot.addEventListener('click', () => moveToSlide(index));\n    carouselNav.appendChild(dot);\n  });\n\n  block.appendChild(carouselNav);\n\n  let currentIndex = 0;\n  function moveToSlide(index) {\n    const dots = document.querySelectorAll('.carousel-dot');\n    dots[currentIndex].classList.remove('active');\n    dots[index].classList.add('active');\n\n    currentIndex = index;\n    // eslint-disable-next-line no-unsafe-optional-chaining\n    carouselTrack.style.transform = `translateX(-${block.querySelector('.carousel-item')?.offsetWidth * index}px)`;\n  }\n}\n\nexport default function decorate(block) {\n  const videos = Object.values(block.closest('.section').dataset).filter((value) => value.includes('https://www.youtube.com/embed/'));\n  const titles = Object.keys(block.closest('.section').dataset)\n    .filter((key) => key.includes('title'))\n    .map((key) => block.closest('.section').dataset[key]);\n  if (videos) {\n    createCarousel(block, videos, titles);\n  }\n}\n"],"names":[],"mappings":"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"}