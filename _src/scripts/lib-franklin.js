import"../packages/repobit/dex-utils/dist/src/index.js";import I from"./page.js";import E from"../packages/repobit/dex-utils/dist/src/user-agent/index.js";import{init as R}from"../packages/sentry/browser/build/npm/esm/sdk.js";import{browserTracingIntegration as k}from"../packages/sentry/browser/build/npm/esm/tracing/browserTracingIntegration.js";import{replayIntegration as B}from"../packages/sentry-internal/replay/build/npm/esm/index.js";const q="sticky-navigation-item",ne=["localhost",".aem.page",".aem.live"],U="stickyNavName";function c(o,n={}){const e="aem-rum";c.baseURL=c.baseURL||new URL(window.RUM_BASE==null?"https://rum.aem.page":window.RUM_BASE,window.location),c.defer=c.defer||[];const t=r=>{c[r]=c[r]||((...s)=>c.defer.push({fnname:r,args:s}))};c.drain=c.drain||((r,s)=>{c[r]=s,c.defer.filter(({fnname:i})=>r===i).forEach(({fnname:i,args:a})=>c[i](...a))}),c.always=c.always||[],c.always.on=(r,s)=>{c.always[r]=s},c.on=(r,s)=>{c.cases[r]=s},t("observe"),t("cwv");try{if(window.hlx=window.hlx||{},!window.hlx.rum){const l=new URLSearchParams(window.location.search).get("rum")==="on"?1:100,d=Array.from({length:75},(x,M)=>String.fromCharCode(48+M)).filter(x=>/\d|[A-Z]/i.test(x)).filter(()=>Math.random()*75>70).join(""),u=Math.random(),b=u*l<1,S=window.performance?window.performance.timeOrigin:Date.now(),v={full:()=>window.location.href,origin:()=>window.location.origin,path:()=>window.location.href.replace(/\?.*$/,"")},f=sessionStorage.getItem(e)?JSON.parse(sessionStorage.getItem(e)):{};f.pages=(f.pages?f.pages:0)+1+(Math.floor(Math.random()*20)-10),sessionStorage.setItem(e,JSON.stringify(f)),window.hlx.rum={weight:l,id:d,random:u,isSelected:b,firstReadTime:S,sampleRUM:c,sanitizeURL:v[window.hlx.RUM_MASK_URL||"path"],rumSessionStorage:f}}const{weight:r,id:s,firstReadTime:i}=window.hlx.rum;if(window.hlx&&window.hlx.rum&&window.hlx.rum.isSelected){const a=["weight","id","referer","checkpoint","t","source","target","cwv","CLS","FID","LCP","INP","TTFB"],l=(d=n)=>{const u=Math.round(window.performance?window.performance.now():Date.now()-i),b=JSON.stringify({weight:r,id:s,referer:window.hlx.rum.sanitizeURL(),checkpoint:o,t:u,...n},a),S=new URL(`.rum/${r}`,c.baseURL).href;navigator.sendBeacon(S,b),console.debug(`ping:${o}`,d)};c.cases=c.cases||{cwv:()=>c.cwv(n)||!0,lazy:()=>{const d=document.createElement("script");return d.src="https://rum.aem.page/.rum/@adobe/helix-rum-enhancer@^1/src/index.js",document.head.appendChild(d),!0}},l(n),c.cases[o]&&c.cases[o]()}c.always[o]&&c.always[o](n)}catch{}}async function A(o){return new Promise((n,e)=>{if(document.querySelector(`head > link[href="${o}"]`))n();else{const t=document.createElement("link");t.rel="stylesheet",t.href=o,t.onload=n,t.onerror=e,document.head.append(t)}})}function g(o){const n=o&&o.includes(":")?"property":"name";return[...document.head.querySelectorAll(`meta[${n}="${o}"]`)].map(t=>t.content).join(", ")||""}function m(o){return typeof o=="string"?o.toLowerCase().replace(/[^\w\u4e00-\u9fa5]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""):""}function C(o){return m(o).replace(/-([a-z])/g,n=>n[1].toUpperCase())}function _(o){return[...document.head.querySelectorAll(`meta[property^="${o}:"],meta[name^="${o}-"]`)].reduce((n,e)=>{const t=m(e.name?e.name.substring(o.length+1):e.getAttribute("property").split(":")[1]);return n[t]=e.getAttribute("content"),n},{})}const h={};async function O(o){const n=[...o.querySelectorAll("span.icon")];await Promise.all(n.map(async e=>{const t=Array.from(e.classList).find(r=>r.startsWith("icon-")).substring(5);if(!h[t]){h[t]=!0;try{const s=await fetch(`/common/icons/${t}.svg`);if(!s.ok){h[t]=!1;return}const i=await s.text();h[t]={html:i}}catch(r){h[t]=!1,console.error(r)}}})),n.forEach(e=>{const t=Array.from(e.classList).find(s=>s.startsWith("icon-")).substring(5),r=e.firstElementChild?.tagName==="A"?e.firstElementChild:e;try{const s=e.parentElement;s?.tagName==="A"&&!s?.hasAttribute("aria-label")&&s.setAttribute("aria-label",t)}catch(s){console.error(`Error setting aria-label for icon ${t}:`,s)}r.innerHTML=h[t].html})}let N=Promise.resolve();async function D(o){N=N.then(()=>O(o)),await N}async function oe(o){const n=[{regex:/\[#(.*?)#\]/g,className:"dark-blue"},{regex:/\[{(.*?)}\]/g,className:"light-blue"},{regex:/\[blue-round(.*?)blue-round\]/g,className:"light-blue-round"},{regex:/\[\$(.*?)\$\]/g,className:"green"}];function e(r){let s=r,i=!1;return n.forEach(a=>{let l=a.regex.exec(s);for(;l!==null;)s=s.replace(l[0],`<span class="tag tag-${a.className}">${l[1]}</span>`),i=!0,a.regex.lastIndex=0,l=a.regex.exec(s)}),{nodeValue:s,replaced:i}}function t(r){if(r.nodeType===Node.TEXT_NODE){const s=r.nodeValue,{nodeValue:i}=e(s);if(i!==s){const a=document.createElement("span");a.innerHTML=i,r.parentNode.replaceChild(a,r)}}else r.nodeType===Node.ELEMENT_NODE&&r.childNodes.forEach(t)}t(o)}function y(o){const n=o.classList[0];if(n){o.classList.add("block"),o.dataset.blockName=n,o.dataset.blockStatus="initialized",o.parentElement.classList.add(`${n}-wrapper`);const t=o.closest(".section");t&&t.classList.add(`${n}-container`)}}function H(o){const n={};return o.querySelectorAll(":scope > div").forEach(e=>{if(e.children){const t=[...e.children];if(t[1]){const r=t[1],s=m(t[0].textContent);let i="";if(r.querySelector("a")){const a=[...r.querySelectorAll("a")];a.length===1?i=a[0].href:i=a.map(l=>l.href)}else if(r.querySelector("img")){const a=[...r.querySelectorAll("img")];a.length===1?i=a[0].src:i=a.map(l=>l.src)}else if(r.querySelector("p")){const a=[...r.querySelectorAll("p")];a.length===1?i=a[0].textContent:i=a.map(l=>l.textContent)}else i=e.children[1].textContent;n[s]=i}}}),n}function se(o){o.querySelectorAll(":scope > div").forEach(n=>{const e=[];let t=!1;[...n.children].forEach(s=>{if(s.tagName==="DIV"||!t){const i=document.createElement("div");e.push(i),t=s.tagName!=="DIV",t&&i.classList.add("default-content-wrapper")}e[e.length-1].append(s)}),e.forEach(s=>n.append(s)),n.classList.add("section"),n.dataset.sectionStatus="initialized",n.style.display="none";const r=n.querySelector("div.section-metadata");if(r){const s=H(r);Object.keys(s).forEach(i=>{i==="style"?s.style.split(",").map(l=>m(l.trim())).forEach(l=>n.classList.add(l)):i===q?(n.id=`section-${m(s[i])}`,n.dataset[U]=s[i]):i==="id"?n.id=s[i]:n.dataset[C(i)]=s[i]}),r.parentNode.remove()}})}function L(o){const n=[...o.querySelectorAll(":scope > div.section")];for(let e=0;e<n.length;e+=1){const t=n[e];if(t.dataset.sectionStatus!=="loaded")if(t.querySelector('.block[data-block-status="initialized"], .block[data-block-status="loading"]')){t.dataset.sectionStatus="loading";break}else t.dataset.sectionStatus="loaded",t.style.display=null}}function re(o){o.querySelectorAll("div.section > div > div").forEach(y)}function $(o,n){const e=Array.isArray(n)?n:[[n]],t=document.createElement("div");return t.classList.add(o),e.forEach(r=>{const s=document.createElement("div");r.forEach(i=>{const a=document.createElement("div");(i.elems?i.elems:[i]).forEach(d=>{d&&(typeof d=="string"?a.innerHTML+=d:a.appendChild(d))}),s.appendChild(a)}),t.appendChild(s)}),t}function z(o){const{blockName:n}=o.dataset,e=`${window.hlx.codeBasePath}/blocks/${n}/${n}.css`,t=`${window.hlx.codeBasePath}/blocks/${n}/${n}.js`,r={blockName:n,cssPath:e,jsPath:t};return(window.hlx.patchBlockConfig||[]).filter(s=>typeof s=="function").reduce((s,i)=>i(s,r),{blockName:n,cssPath:e,jsPath:t})}async function T(o,n,e,...t){const r=e?A(e):Promise.resolve(),s=n?new Promise(i=>{(async()=>{let a;try{a=await import(n),a.default&&await a.default.apply(null,t)}catch(l){console.log(`failed to load module for ${o}`,l)}i(a)})()}):Promise.resolve();return Promise.all([r,s]).then(([,i])=>i)}async function w(o){const n=o.dataset.blockStatus;if(n!=="loading"&&n!=="loaded"){o.dataset.blockStatus="loading";const{blockName:e,cssPath:t,jsPath:r}=z(o);try{await T(e,r,t,o)}catch(s){console.log(`failed to load block ${e}`,s)}o.dataset.blockStatus="loaded"}}async function ie(o){L(o);const n=[...o.querySelectorAll("div.block")];for(let e=0;e<n.length;e+=1)await w(n[e]),L(o)}function j(o,n="",e=!1,t=[{media:"(min-width: 600px)",width:"2000"},{width:"750"}]){const r=new URL(o,window.location.href),s=document.createElement("picture"),{pathname:i}=r,a=i.substring(i.lastIndexOf(".")+1);return t.forEach(l=>{const d=document.createElement("source");l.media&&d.setAttribute("media",l.media),d.setAttribute("type","image/webp"),d.setAttribute("srcset",`${i}?width=${l.width}&format=webply&optimize=medium`),s.appendChild(d)}),t.forEach((l,d)=>{if(d<t.length-1){const u=document.createElement("source");l.media&&u.setAttribute("media",l.media),u.setAttribute("srcset",`${i}?width=${l.width}&format=${a}&optimize=medium`),s.appendChild(u)}else{const u=document.createElement("img");u.setAttribute("loading",e?"eager":"lazy"),u.setAttribute("alt",n),s.appendChild(u),u.setAttribute("src",`${i}?width=${l.width}&format=${a}&optimize=medium`)}}),s}function ae(o,n,e){const t=o.querySelector("img");t&&(t.setAttribute("width",n),t.setAttribute("height",e))}function ce(o,n){const e=n.map(t=>t.toLowerCase());o.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(t=>{const r=t.tagName.toLowerCase();if(e.indexOf(r)===-1){let s=parseInt(r.charAt(1),10)-1;for(;e.indexOf(`h${s}`)===-1&&s>0;)s-=1;if(s===0)for(;e.indexOf(`h${s}`)===-1&&s<7;)s+=1;s!==7&&(t.outerHTML=`<h${s} id="${t.id}">${t.textContent}</h${s}>`)}})}function le(){const o=(r,s)=>{s.split(",").forEach(i=>{r.classList.add(m(i.trim()))})},n=I.getParamValue("theme");n&&n==="dark"&&o(document.body,"dark-mode");const e=g("template");e&&o(document.body,e);const t=g("theme");t&&o(document.body,t)}function W(o){const n=e=>e.innerHTML.startsWith("<")?`${e.querySelector("span.icon")?.outerHTML||""}<span class="button-text">${e.textContent}</span>`:`<span class="button-text">${e.textContent}</span>${e.querySelector("span.icon")?.outerHTML||""}`;o.querySelectorAll("a").forEach(e=>{if(!(e.closest(".nav-brand")||e.closest(".nav-sections"))&&(e.title=e.title||e.textContent,e.href!==e.textContent)){const t=e.parentElement,r=e.parentElement.parentElement,s=e.parentElement.parentElement?.parentElement;if(!e.querySelector("img")){if(e.innerText?.includes("[hide-mobile]")){if(E.os==="ios"||E.os==="android"){e.remove();return}const i=e.innerText;e.innerText=i.replace("[hide-mobile]","")}if(t.childNodes.length===1&&t.tagName==="STRONG"&&r.childNodes.length===1&&r.tagName==="P"){e.className="button primary",r.classList.add("button-container"),t.replaceWith(e),e.innerHTML=n(e);return}if(t.childNodes.length===1&&t.tagName==="EM"&&r.childNodes.length===1&&r.tagName==="STRONG"&&s?.childNodes.length===1&&s?.tagName==="P"){e.className="button secondary",s.classList.add("button-container"),t.replaceWith(e),e.innerHTML=n(e);return}if(t.childNodes.length===1&&t.tagName==="P"&&e.href.includes("/fragments/")){e.className="button modal",t.classList.add("button-container");return}if(t.childNodes.length===1&&t.tagName==="P"&&e.href.includes("central.bitdefender")){e.className="button central",t.classList.add("button-container");return}if(t.childNodes.length===3&&t.tagName==="P"&&e.nextElementSibling?.tagName==="EM"){e.className="button",t.classList.add("button-container"),e.innerHTML=n(e),e.dataset.modal=e.nextSibling.textContent.trim().slice(1,-1),e.nextSibling.remove();return}if(t.childNodes.length===1&&t.tagName==="P"&&t.innerText.startsWith("?")){e.className="info-button modal",t.classList.add("info-button-container"),e.textContent=e.textContent.slice(1).trim(),e.title=e.title.slice(1).trim();return}if(t.childNodes.length===1&&t.tagName==="P"&&t.innerText.startsWith("->")){e.className="button link-arrow-right",t.classList.add("button-container"),e.textContent=e.textContent.slice(2).trim(),e.title=e.title.slice(2).trim();return}t.childNodes.length===1&&(t.tagName==="P"||t.tagName==="DIV")&&(e.className="button",t.classList.add("button-container"),e.innerHTML=n(e)),t.tagName==="TD"&&t.closest("table.ratings")&&(e.className="button",t.classList.add("button-container"),e.innerHTML=n(e))}}})}async function de(o){const n=document.querySelector(".block");n&&o.includes(n.dataset.blockName)&&await w(n),document.body.style.display=null;const t=document.querySelector("main img");await new Promise(r=>{t&&!t.complete?(t.setAttribute("loading","eager"),t.addEventListener("load",r),t.addEventListener("error",r)):r()})}function ue(o){const n=$("header","");return o.append(n),y(n),w(n)}function me(o){const n=$("footer","");return o.append(n),y(n),w(n)}function P(o,n){const e=n?o:o.split("/").splice(o.endsWith("/")?-2:-1,1)[0].replace(/\.js/,""),t={load:"eager",...typeof n=="string"||!n?{url:(n||o).replace(/\/$/,"")}:n};return t.options||={},{id:e,config:t}}const p={createOptimizedPicture:j,getAllMetadata:_,getMetadata:g,decorateBlock:y,decorateButtons:W,decorateIcons:D,loadBlock:w,loadCSS:A,sampleRUM:c,toCamelCase:C,toClassName:m};class V{#e;constructor(){this.#e=new Map}add(n,e){const{id:t,config:r}=P(n,e);this.#e.set(t,r)}get(n){return this.#e.get(n)}includes(n){return!!this.#e.has(n)}async load(n){return[...this.#e.entries()].filter(([,e])=>e.condition&&!e.condition(document,e.options,p)).map(([e])=>this.#e.delete(e)),Promise.all([...this.#e.entries()].filter(([,e])=>(!e.condition||e.condition(document,e.options,p))&&n===e.load&&e.url).map(async([e,t])=>{try{const r=await T(e,t.url.endsWith(".js")?t.url:`${t.url}/${e}.js`,t.url.endsWith(".js")?null:`${t.url}/${e}.css`,document,t.options,p)||{};this.#e.set(e,{...t,...r})}catch{console.error("Could not load specified plugin",e)}}))}async run(n){return[...this.#e.values()].reduce((e,t)=>t[n]&&(!t.condition||t.condition(document,t.options,p))?e.then(()=>t[n](document,t.options,p)):e,Promise.resolve())}}class K{add(n,e){if(Array.isArray(n)){n.forEach(s=>window.hlx.templates.add(s));return}const{id:t,config:r}=P(n,e);r.condition=()=>m(g("template"))===t,window.hlx.plugins.add(t,r)}get(n){return window.hlx.plugins.get(n)}includes(n){return window.hlx.plugins.includes(n)}}function F(){window.hlx=window.hlx||{},window.hlx.RUM_MASK_URL="full",window.hlx.codeBasePath="",window.hlx.lighthouse=new URLSearchParams(window.location.search).get("lighthouse")==="on",window.hlx.patchBlockConfig=[],window.hlx.plugins=new V,window.hlx.templates=new K;const o=document.querySelector('script[src$="/_src/scripts/scripts.js"]');if(o)try{[window.hlx.codeBasePath]=new URL(o.src).pathname.split("/scripts/scripts.js")}catch(n){console.log(n)}}function G(){R({dsn:"https://453d79512df247d7983074696546ca60@o4504802466004992.ingest.us.sentry.io/4505244512288768",sendDefaultPii:!1,release:"www-websites@1.0.0",integrations:[k(),B()],tracesSampleRate:.05,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,allowUrls:["www.bitdefender.com"]})}function Y(){G(),F(),c("top"),window.addEventListener("load",()=>c("load")),window.addEventListener("unhandledrejection",o=>{c("error",{source:o.reason.sourceURL,target:o.reason.line})}),window.addEventListener("error",o=>{c("error",{source:o.filename,target:o.lineno})})}Y();export{ne as ALL_FRANKLIN_DEV_SUBDOMAINS,U as STICKY_NAVIGATION_DATASET_KEY,$ as buildBlock,j as createOptimizedPicture,y as decorateBlock,re as decorateBlocks,W as decorateButtons,D as decorateIcons,se as decorateSections,oe as decorateTags,le as decorateTemplateAndTheme,p as executionContext,_ as getAllMetadata,g as getMetadata,w as loadBlock,ie as loadBlocks,A as loadCSS,me as loadFooter,ue as loadHeader,ce as normalizeHeadings,H as readBlockConfig,c as sampleRUM,ae as setImageDimensions,F as setup,C as toCamelCase,m as toClassName,L as updateSectionsStatus,de as waitForLCP};
//# sourceMappingURL=lib-franklin.js.map
