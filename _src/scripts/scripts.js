const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["scripts/delayed.js","scripts/lib-franklin.js","packages/repobit/dex-utils/dist/src/index.js","packages/repobit/dex-utils/dist/src/cookies.js","packages/js-cookie/dist/js.cookie.mjs.js","packages/repobit/dex-utils/dist/src/user.js","packages/repobit/dex-constants/dist/src/index.js","packages/repobit/dex-utils/dist/src/user-agent/index.js","packages/repobit/dex-utils/dist/src/user-agent/cssua.js","scripts/page.js","packages/repobit/dex-utils/dist/src/page.js","packages/sentry/browser/build/npm/esm/sdk.js","packages/sentry/browser/build/npm/esm/client.js","packages/sentry/browser/build/npm/esm/eventbuilder.js","packages/sentry/core/build/esm/utils-hoist/is.js","packages/sentry/core/build/esm/utils-hoist/misc.js","packages/sentry/core/build/esm/utils-hoist/object.js","packages/sentry/core/build/esm/debug-build.js","packages/sentry/core/build/esm/utils-hoist/browser.js","packages/sentry/core/build/esm/utils-hoist/worldwide.js","packages/sentry/core/build/esm/utils-hoist/logger.js","packages/sentry/core/build/esm/carrier.js","packages/sentry/core/build/esm/utils-hoist/version.js","packages/sentry/core/build/esm/utils-hoist/string.js","packages/sentry/core/build/esm/currentScopes.js","packages/sentry/core/build/esm/asyncContext/index.js","packages/sentry/core/build/esm/asyncContext/stackStrategy.js","packages/sentry/core/build/esm/defaultScopes.js","packages/sentry/core/build/esm/scope.js","packages/sentry/core/build/esm/session.js","packages/sentry/core/build/esm/utils-hoist/time.js","packages/sentry/core/build/esm/utils/merge.js","packages/sentry/core/build/esm/utils/spanOnScope.js","packages/sentry/core/build/esm/utils-hoist/propagationContext.js","packages/sentry/core/build/esm/utils-hoist/normalize.js","packages/sentry/core/build/esm/utils-hoist/stacktrace.js","packages/sentry/core/build/esm/utils-hoist/syncpromise.js","packages/sentry/browser/build/npm/esm/helpers.js","packages/sentry/core/build/esm/exports.js","packages/sentry/core/build/esm/utils/prepareEvent.js","packages/sentry/core/build/esm/constants.js","packages/sentry/core/build/esm/eventProcessors.js","packages/sentry/core/build/esm/utils-hoist/debug-ids.js","packages/sentry/core/build/esm/utils/applyScopeDataToEvent.js","packages/sentry/core/build/esm/tracing/dynamicSamplingContext.js","packages/sentry/core/build/esm/semanticAttributes.js","packages/sentry/core/build/esm/utils/hasSpansEnabled.js","packages/sentry/core/build/esm/utils/spanUtils.js","packages/sentry/core/build/esm/tracing/spanstatus.js","packages/sentry/core/build/esm/tracing/utils.js","packages/sentry/core/build/esm/utils-hoist/tracing.js","packages/sentry/core/build/esm/utils/parseSampleRate.js","packages/sentry/core/build/esm/utils-hoist/baggage.js","packages/sentry/core/build/esm/utils-hoist/dsn.js","packages/sentry/core/build/esm/client.js","packages/sentry/core/build/esm/api.js","packages/sentry/core/build/esm/envelope.js","packages/sentry/core/build/esm/utils-hoist/envelope.js","packages/sentry/core/build/esm/integration.js","packages/sentry/core/build/esm/utils/eventUtils.js","packages/sentry/core/build/esm/utils/transactionEvent.js","packages/sentry/core/build/esm/utils-hoist/clientreport.js","packages/sentry/core/build/esm/utils/sdkMetadata.js","packages/sentry/core/build/esm/logs/exports.js","packages/sentry/core/build/esm/logs/envelope.js","packages/sentry/core/build/esm/utils/ipAddress.js","packages/sentry/core/build/esm/utils-hoist/env.js","packages/sentry/browser/build/npm/esm/debug-build.js","packages/sentry/browser/build/npm/esm/integrations/breadcrumbs.js","packages/sentry/core/build/esm/utils-hoist/instrument/console.js","packages/sentry/core/build/esm/utils-hoist/instrument/handlers.js","packages/sentry-internal/browser-utils/build/esm/instrument/dom.js","packages/sentry-internal/browser-utils/build/esm/types.js","packages/sentry-internal/browser-utils/build/esm/instrument/xhr.js","packages/sentry/core/build/esm/utils-hoist/instrument/fetch.js","packages/sentry/core/build/esm/utils-hoist/supports.js","packages/sentry-internal/browser-utils/build/esm/instrument/history.js","packages/sentry/core/build/esm/utils-hoist/breadcrumb-log-level.js","packages/sentry/core/build/esm/breadcrumbs.js","packages/sentry/core/build/esm/utils-hoist/severity.js","packages/sentry/core/build/esm/utils-hoist/url.js","packages/sentry/browser/build/npm/esm/integrations/browserapierrors.js","packages/sentry/browser/build/npm/esm/integrations/browsersession.js","packages/sentry/browser/build/npm/esm/integrations/globalhandlers.js","packages/sentry/core/build/esm/utils-hoist/instrument/globalError.js","packages/sentry/core/build/esm/utils-hoist/instrument/globalUnhandledRejection.js","packages/sentry/browser/build/npm/esm/integrations/httpcontext.js","packages/sentry/browser/build/npm/esm/integrations/linkederrors.js","packages/sentry/core/build/esm/utils-hoist/aggregate-errors.js","packages/sentry/browser/build/npm/esm/stack-parsers.js","packages/sentry/browser/build/npm/esm/transports/fetch.js","packages/sentry-internal/browser-utils/build/esm/getNativeImplementation.js","packages/sentry-internal/browser-utils/build/esm/debug-build.js","packages/sentry/core/build/esm/transports/base.js","packages/sentry/core/build/esm/utils-hoist/promisebuffer.js","packages/sentry/core/build/esm/utils-hoist/ratelimit.js","packages/sentry/core/build/esm/sdk.js","packages/sentry/core/build/esm/integrations/eventFilters.js","packages/sentry/core/build/esm/integrations/functiontostring.js","packages/sentry/core/build/esm/integrations/dedupe.js","packages/sentry/browser/build/npm/esm/tracing/browserTracingIntegration.js","packages/sentry/browser/build/npm/esm/tracing/backgroundtab.js","packages/sentry/browser/build/npm/esm/tracing/linkedTraces.js","packages/sentry/browser/build/npm/esm/tracing/request.js","packages/sentry/core/build/esm/fetch.js","packages/sentry/core/build/esm/tracing/sentryNonRecordingSpan.js","packages/sentry/core/build/esm/tracing/trace.js","packages/sentry/core/build/esm/tracing/logSpans.js","packages/sentry/core/build/esm/tracing/sampling.js","packages/sentry/core/build/esm/tracing/sentrySpan.js","packages/sentry/core/build/esm/tracing/measurement.js","packages/sentry/core/build/esm/utils/traceData.js","packages/sentry-internal/browser-utils/build/esm/metrics/instrument.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/getCLS.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/bindReporter.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/initMetric.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/generateUniqueID.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/getActivationStart.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/getNavigationEntry.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/observe.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/onHidden.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/runOnce.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/onFCP.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/getVisibilityWatcher.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/whenActivated.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/getFID.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/getINP.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/interactions.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/polyfills/interactionCountPolyfill.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/lib/whenIdle.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/getLCP.js","packages/sentry-internal/browser-utils/build/esm/metrics/web-vitals/onTTFB.js","packages/sentry-internal/browser-utils/build/esm/metrics/utils.js","packages/sentry/core/build/esm/tracing/errors.js","packages/sentry/core/build/esm/tracing/idleSpan.js","packages/sentry-internal/browser-utils/build/esm/metrics/browserMetrics.js","packages/sentry-internal/browser-utils/build/esm/metrics/cls.js","packages/sentry-internal/browser-utils/build/esm/metrics/inp.js","packages/sentry-internal/replay/build/npm/esm/index.js","packages/sentry/core/build/esm/utils-hoist/isBrowser.js","packages/sentry/core/build/esm/utils-hoist/node.js","packages/sentry-internal/browser-utils/build/esm/networkUtils.js","packages/sentry/core/build/esm/utils/isSentryRequestUrl.js","scripts/breadcrumbs.js","scripts/utils/utils.js","packages/repobit/dex-data-layer/dist/src/adobe-data-layer-service/index.js","packages/repobit/dex-data-layer/dist/src/events/page-loaded-event/index.js","packages/repobit/dex-data-layer/dist/src/events/product-loaded-event/index.js","_virtual/cjs.js","_virtual/_commonjsHelpers.js","packages/deepmerge/dist/cjs.js","packages/repobit/dex-data-layer/dist/src/events/button-click-event/index.js","scripts/libs/constants.js","packages/repobit/dex-utils/dist/src/utils.js"])))=>i.map(i=>d[i]);
import{__vitePreload as x}from"../_virtual/preload-helper.js";import P from"../packages/repobit/dex-launch/dist/src/index.js";import{AdobeDataLayerService as N}from"../packages/repobit/dex-data-layer/dist/src/adobe-data-layer-service/index.js";import"../packages/repobit/dex-utils/dist/src/index.js";import{PageLoadedEvent as _}from"../packages/repobit/dex-data-layer/dist/src/events/page-loaded-event/index.js";import{adobeMcAppendVisitorId as I,target as w}from"./target.js";import M from"./page.js";import{getMetadata as m,decorateTemplateAndTheme as T,loadCSS as h,waitForLCP as B,loadHeader as $,loadBlocks as g,loadFooter as O,sampleRUM as p,decorateButtons as k,decorateIcons as F,decorateTags as U,decorateSections as V,decorateBlocks as z}from"./lib-franklin.js";import{resolveNonProductsDataLayer as L}from"./libs/data-layer.js";import{StoreResolver as E}from"./libs/store/resolver/resolver.js";import"./libs/store/store.js";import{pushTrialDownloadToDataLayer as R,getPageExperimentKey as S,generateLDJsonSchema as H,GLOBAL_EVENTS as W,createTag as j}from"./utils/utils.js";import{Constants as G}from"./libs/constants.js";const K=["hero","password-generator"],ge=["en"];window.hlx.plugins.add("rum-conversion",{load:"lazy",url:"../plugins/rum-conversion/src/index.js"});window.hlx.plugins.add("experimentation",{condition:()=>m("experiment"),options:{prodHost:"www.bitdefender.com"},url:"../plugins/experimentation/src/index.js"});window.ADOBE_MC_EVENT_LOADED=!1;function f(e){const o=document.createElement("div");o.setAttribute(`data-${e}-detector`,""),document.body.append(o)}function v(e,o){const a=document.createElement("meta");a.setAttribute("name",e),a.setAttribute("content",o),document.head.append(a)}function Le(){const e=window.location.pathname;return{language:e.split("/")[1].split("-")[0],country:e.split("/")[1].split("-")[1]}}function y(e){const{pathname:o}=window.location,t=o.charAt(o.length-1)==="/";let n=o.split("/");if(t)return`${n.join("/")}${e}`;const l=o.startsWith("/pages/")?3:2;return n=n.slice(0,l+1),`${n.join("/")}/${e}`}function J(e){e.querySelectorAll("picture").forEach(o=>{if(!o.closest("div.block")&&o.parentElement.tagName!=="DIV"){const a=o.parentNode.nextElementSibling;if(a){const t=a.querySelector("a"),n=t?.textContent;if(t&&n.startsWith("https://")&&n.includes("fragments")){t.innerHTML="",t.className="video-placeholder",t.appendChild(o);const l=document.createElement("span");l.className="video-placeholder-play",t.appendChild(l),t.addEventListener("click",async d=>{d.preventDefault();const s=await b(n,"video-modal");document.body.append(s)});const r=t.parentElement;r.childNodes.length===1&&(r.tagName==="P"||r.tagName==="DIV")&&r.classList.add("modal-video-container");return}if(t&&n.startsWith("https://")){t.innerHTML="",t.className="linked-image";const l=o.parentNode;t.append(o),l.children.length===0&&l.parentNode.removeChild(l);const r=t.parentElement;r.childNodes.length===1&&(r.tagName==="P"||r.tagName==="DIV")&&r.classList.add("linked-image-container")}}}})}function A(e){k(e),F(e),U(e),J(e),V(e),z(e)}async function b(e,o,a){const t=document.createElement("div");if(t.classList.add("modal-container"),a){const i=e.split("/").pop();t.classList.add(i)}const n=document.createElement("div");n.classList.add("modal-content");const l=await fetch(`${e}.plain.html`);if(!l.ok)return console.error(`modal url cannot be loaded: ${e}`),t;const r=await l.text();n.innerHTML=r,A(n),await g(n),t.append(n),o&&t.classList.add(o);const d=()=>{if(a){t.classList.add("global-display-none");return}t.remove()},s=document.createElement("div");return s.classList.add("modal-close"),s.addEventListener("click",d),n.append(s),t}async function Q(e){e.querySelectorAll("a.button.modal").forEach(o=>{o.addEventListener("click",async a=>{a.preventDefault();const t=o.dataset.stopAutomaticModalRefresh==="true";if(t){const l=o.href.split("/").pop(),r=document.querySelector(`div.modal-container.${l}`);if(r){r.classList.remove("global-display-none");return}}const n=await b(o.href,void 0,t);document.body.append(n),await E.resolve(n),n.querySelectorAll(".await-loader").forEach(l=>{l.classList.remove("await-loader")})})})}function C(e){if(e.querySelectorAll(".columns div div").length===2){const o=e.querySelector(".columns div div:last-child");o.classList.add("right-col"),e.querySelector(".columns div div:last-child").classList.add("right-col");const a=e.querySelector(".columns div div:first-child");a.classList.add("left-col"),e.querySelectorAll(".right-column").forEach(t=>o.append(t)),e.querySelectorAll(".left-column").forEach(t=>a.append(t))}}function X(e){if(e.querySelectorAll(".hero div div").length===2){const o=e.querySelector(".hero div div:last-child");o.classList.add("right-col"),e.querySelector(".hero div div:last-child").classList.add("right-col");const a=e.querySelector(".hero div div:first-child");a.classList.add("left-col"),e.querySelectorAll(".right-column").forEach(t=>o.append(t)),e.querySelectorAll(".left-column").forEach(t=>a.append(t))}}function Y(e){e.querySelectorAll("div.section.two-columns").forEach(o=>{X(o),C(o)})}function Z(e){C(e);const o=j("div",{class:"full-width"},"");[...e.children].forEach(a=>o.append(a)),e.append(o)}function ee(e){e.querySelectorAll("div.section.cta, div.section.footer-cta").forEach(Z)}async function q(){const e=window.location.pathname.indexOf("/drafts/")===-1,o=()=>{document.dispatchEvent(new Event(W.ADOBE_MC_LOADED)),window.ADOBE_MC_EVENT_LOADED=!0};if(e)try{await P.load(M.environment),o()}catch{w.abort()}else w.abort(),o()}async function te(e){S()&&(q(),await L()),v("nav",`${y("nav")}`),v("footer",`${y("footer")}`),T();const o=m("template");m("template")!==""&&h(`${window.hlx.codeBasePath}/scripts/template-factories/${o}.css`);const t=e.querySelector("main");t&&(A(t),ee(t),Y(t),Q(t),document.body.classList.add("appear","franklin"),window.location.href.indexOf("scuderiaferrari")!==-1&&document.body.classList.add("sferrari"),await B(K))}async function oe(e){const o=e.querySelector("main"),a=window.location.pathname.indexOf("/fragments/")===-1,t=window.location.pathname.indexOf("/webview/")===-1;e.querySelector("header").style.height="0px",a&&t&&(e.querySelector("header").style.height="initial",$(e.querySelector("header"))),S()||(q(),await L()),await g(o);const{hash:n}=window.location,l=n?e.getElementById(n.substring(1)):!1;n&&l&&l.scrollIntoView(),a&&t&&O(e.querySelector("footer")),H(),h(`${window.hlx.codeBasePath}/styles/lazy-styles.css`),window.hlx.plugins.run("loadLazy");const r=m("template");m("template")!==""&&h(`${window.hlx.codeBasePath}/scripts/template-factories/${r}-lazy.css`).catch(()=>{}),p("lazy"),p.observe(o.querySelectorAll("div[data-block-name]")),p.observe(o.querySelectorAll("picture > img"))}function ae(){document.querySelectorAll(".dropdown-slider").forEach(e=>{const o=e.querySelectorAll(".title"),a=e.querySelectorAll(".loading-bar");let t=0,n;function l(i){const c=a[i];c.style.width="0";let u=0;const D=setInterval(()=>{u+=1,c.style.width=`${u}%`,u>=100&&clearInterval(D)},30)}function r(){o.forEach((i,c)=>{c===t?(i.parentNode.classList.add("active"),i.closest(".dropdown-slider").setAttribute("style",`min-height: ${i.parentNode.querySelector(".description").offsetHeight+50}px`),a.length&&l(c)):i.parentNode.classList.remove("active")}),t=(t+1)%o.length}function d(){n=setInterval(r,4e3)}function s(){clearInterval(n)}r(),a.length&&(setTimeout(()=>{d()},1e3),o.forEach((i,c)=>{i.addEventListener("click",()=>{s(),t=c,l(c),r(),d()})}))})}function ne(){window.setTimeout(()=>(window.hlx.plugins.load("delayed"),window.hlx.plugins.run("loadDelayed"),ae(),x(()=>import("./delayed.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153]))),3e3)}async function le(){await window.hlx.plugins.load("eager"),new URLSearchParams(window.location.search).get("theme")==="dark"&&window.location.href.includes("canvas")&&(document.body.style="background-color: #141517"),await te(document),await window.hlx.plugins.load("lazy"),await G.PRODUCT_ID_MAPPINGS_CALL,await oe(document),await E.resolve();const o=document.querySelectorAll(".await-loader");document.dispatchEvent(new Event("bd_page_ready")),window.bd_page_ready=!0,o.forEach(t=>{t.classList.remove("await-loader")}),document.querySelectorAll(".loader-circle").forEach(t=>{t.classList.remove("loader-circle")}),I("main"),R(),N.push(new _),ne()}f("mobile");f("tablet");f("desktop");le();export{ge as SUPPORTED_LANGUAGES,v as createMetadata,b as createModal,A as decorateMain,J as default,Q as detectModalButtons,Le as getLanguageCountryFromPath,y as getLocalizedResourceUrl,q as loadTrackers};
//# sourceMappingURL=scripts.js.map
