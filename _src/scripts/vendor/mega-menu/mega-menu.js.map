{"version":3,"file":"mega-menu.js","sources":["../../../../src/scripts/vendor/mega-menu/mega-menu.js"],"sourcesContent":["import { throttle } from \"@repobit/dex-utils\";\n\nconst isHoverableDevice = window.matchMedia(\n  '(hover: hover) and (pointer: fine)'\n).matches;\n\nconst Config = {\n  selectors: {\n    container: '.mega-menu__container',\n    viewAllButtons: '.navigation__view-all',\n    popupContainer: '.mega-menu__popup-container',\n    popupLink: '.mega-menu__popup-container .mega-menu__right-link',\n    popupActive: '.popup-active',\n    menuLink: '.mega-menu__l2-link',\n    menuItem: '.mega-menu__l2-item',\n    mobileBack: '.mega-menu__back-button',\n    mobileBackL2: '.mega-menu__back-button-l2',\n    mobileTrigger: '.mega-menu__button',\n    l2active: '.mega-menu__l2-item.active',\n    l2item: '.mega-menu__l2-item',\n    viewAll: '.navigation--view-all',\n    navLinks: '.navigation__links',\n    menuItemFirst: '.mega-menu__item',\n    navHeaderLink: '.navigation__header-link',\n    navContainer: '.navigation__container',\n    itemOpened: '.mega-menu--item-opened',\n    quickLinks: '.navigation__quick-links .navigation__list',\n    qucikLinksMobileContainer: '.mega-menu__quick-links-mobile',\n    thirdLevelContent: '.mega-menu__third-level-content',\n    categoryLinks: '.mega-menu__category-links',\n    navigationHeader: '.navigation__heading',\n    menuLinkRoot: '.mega-menu__link',\n    navigation: '.navigation',\n    menuLinkText: '.mega-menu__l2-link-text',\n    firstLevel: '.mega-menu__first-level',\n    navigationItems: '.navigation__list .navigation__item',\n    menuList: '.mega-menu__list'\n  },\n  classes: {\n    popupActive: 'popup-active',\n    menuOpened: 'mega-menu--active',\n    viewAll: 'navigation--view-all',\n    itemOpened: 'mega-menu--item-opened',\n    navigationHeader: 'navigation__heading',\n    navHeaderLink: 'navigation__header-link',\n    navHeaderText: 'navigation__header-text',\n    menuItemFirst: 'mega-menu__item',\n    menuLinkText: 'mega-menu__l2-link-text',\n    navigation: 'navigation',\n    megamenuNoL3: 'mega-menu__no-l3',\n    firstLevelItemText: 'mega-menu__link-text'\n  }\n}\n\nconst isMobile = () => {return window.innerWidth < 1200};\n\nfunction initMegaMenu (container) {\n  let prevWidth = window.innerWidth;\n\n  const setMobileRightLinksOffset = () => {\n    const firstLevelEl = container.querySelector(Config.selectors.firstLevel);\n    const firstLevelHeight = firstLevelEl.getBoundingClientRect().height + 1; // add 1px border bottom\n\n    container.style.setProperty('--right-links-offset', `${firstLevelHeight}px` );\n  }\n\n  const closeViewAllLinks = () => {\n    const viewAllLinks = container.querySelectorAll(Config.selectors.viewAll);\n\n    Array.from(viewAllLinks).forEach((el) => {\n      el.classList.remove(Config.classes.viewAll);\n    });\n  }\n\n  const closeOpenedItems = () => {\n    const activeElement = container.querySelector(Config.selectors.l2active);\n\n    if (activeElement) {\n      activeElement.classList.remove('active');\n      return activeElement;\n    }\n  }\n\n  const closePopUps = (currentTarget) => {\n    container.querySelectorAll(Config.selectors.popupContainer)\n      .forEach(popUpMenu => {\n        if (popUpMenu !== currentTarget) {\n          popUpMenu.classList.remove('popup-active')\n        }\n      });\n  }\n\n  const toggleMobileMenu = () => {\n    if (!container.classList.contains(Config.classes.menuOpened)) {\n      window.addEventListener('resize', this.windowResizeEvent = throttle(() => {\n        const curentWidth = window.innerWidth;\n        if (curentWidth !== prevWidth) {\n          container.classList.remove(Config.classes.menuOpened);\n          closeOpenedItems();\n          closeViewAllLinks();\n          window.removeEventListener('resize', this.windowResizeEvent);\n          prevWidth = curentWidth;\n        }\n      }))\n    } else {\n      window.removeEventListener('resize', this.windowResizeEvent);\n    }\n\n    container.classList.toggle(Config.classes.menuOpened);\n    closeOpenedItems();\n    closeViewAllLinks();\n  }\n\n\n  const viewAllHandler = (viewAllButtons) => {\n    Array.from(viewAllButtons).forEach((el) => {\n      el.addEventListener('click', (event) => {\n        const target = event.target;\n        const subMenuTarget = target.closest(Config.selectors.navLinks);\n        subMenuTarget.classList.add(Config.classes.viewAll);\n      });\n    });\n  }\n\n  const addQuickLinksToMobile = () => {\n    const thirdLevelContainers = container.querySelectorAll(Config.selectors.thirdLevelContent);\n\n    Array.from(thirdLevelContainers).forEach((el) => {\n      const quickLinksMobileContainer = el.querySelector(Config.selectors.qucikLinksMobileContainer);\n      // get quick links\n      const quickLinks = el.querySelector(Config.selectors.quickLinks);\n      // get category link\n      const categoryLinks = el.querySelector(Config.selectors.categoryLinks);\n\n      if (quickLinks) {\n        quickLinksMobileContainer.appendChild(quickLinks.cloneNode(true));\n      }\n\n      if (categoryLinks) {\n        quickLinksMobileContainer.appendChild(categoryLinks.cloneNode(true));\n      }\n    });\n  }\n\n  const getMenuItem = (el) => {\n    const target = el.closest(Config.selectors.menuItem);\n    if (target) {\n      return target;\n    } else {\n      return el;\n    }\n  }\n\n  const closeMenu = (el) => {\n    el.classList.remove('active');\n    this.isClosed = true;\n  }\n\n  const openMenu = (el) => {\n    el.classList.add('active');\n    this.isClosed = false;\n  }\n\n  this.isClosed = true;\n\n  const addEvents = () => {\n    // Menu Trigger Mobile Bind\n    const hambugerButton = container.querySelector(Config.selectors.mobileTrigger);\n    hambugerButton.addEventListener('click', ()=>{ toggleMobileMenu() })\n\n    // L2 Navigation Bind\n    const menuElements = container.querySelectorAll(Config.selectors.menuLink);\n\n    Array.from(menuElements).forEach((el) => {\n      el.addEventListener('click', (event) => {\n        if(isHoverableDevice && window.innerWidth > 1199) {\n          return;\n        }\n\n        event.stopPropagation();\n        const targetEl = event.target;\n\n        if (!targetEl.classList.contains(Config.classes.menuLinkText)) {\n          event.preventDefault();\n          const targetMenu = getMenuItem(targetEl);\n\n          closePopUps();\n          if (this.isClosed || closeOpenedItems() !== targetMenu) {\n            openMenu(targetMenu);\n          } else {\n            closeMenu(targetMenu);\n          }\n        }\n      });\n    });\n\n    // Mobile Back Bind\n    const mobileBackButtonSecondLevel = container.querySelectorAll(Config.selectors.mobileBackL2);\n\n    if (mobileBackButtonSecondLevel) {\n      Array.from(mobileBackButtonSecondLevel).forEach((el) => {\n        el.addEventListener('click', (event) => {\n          const targetMenu = getMenuItem(event.target);\n\n          closeMenu(targetMenu);\n        });\n      });\n    }\n\n\n    // Mobile Back to First Level Bind\n    const mobileBackButtonFirstLevel = container.querySelectorAll(Config.selectors.mobileBack);\n\n    Array.from(mobileBackButtonFirstLevel).forEach((el) => {\n      el.addEventListener('click', (event) => {\n        const backButton = event.target;\n        const menu = backButton.closest(Config.selectors.menuItemFirst);\n        menu.classList.remove(Config.classes.itemOpened);\n        event.stopPropagation();\n        const noProperty = !container.style.getPropertyValue('--right-links-offset');\n        if (noProperty) {\n          setMobileRightLinksOffset();\n        }\n      });\n    });\n\n\n    // Root top Navigation on Mobile\n    const activeTopLink = container.querySelector(Config.selectors.itemOpened);\n\n    if (activeTopLink) {\n      activeTopLink.addEventListener('click', (event) => {\n        const targetEl = event.target;\n        const menuLink = activeTopLink.querySelector(Config.selectors.menuLinkRoot);\n\n        if(isMobile() && (menuLink === targetEl || menuLink.contains(targetEl))) {\n          event.preventDefault();\n          closePopUps();\n        }\n        const topItem = activeTopLink.closest(Config.selectors.menuItemFirst);\n        topItem.classList.add(Config.classes.itemOpened);\n      });\n    } else {\n      const menuItemsFirstLevel = container.querySelectorAll(Config.selectors.menuItemFirst);\n\n      Array.from(menuItemsFirstLevel).forEach((el) => {\n        el.addEventListener('click', (event) => {\n          const target = event.target;\n          let menuItem = null;\n\n          if (target.classList.contains(Config.classes.firstLevelItemText)) {\n            return;\n          }\n\n          if (target.classList.contains(Config.classes.menuItemFirst)) {\n            menuItem = target;\n          } else {\n            menuItem = target.closest(Config.selectors.menuItemFirst)\n          }\n\n          const menuLink = menuItem.querySelector(Config.selectors.menuLinkRoot);\n          const childrenList = menuItem.querySelector(Config.selectors.menuList);\n\n          if (!childrenList) {\n            return;\n          }\n\n          if (isMobile() && (menuLink === target || menuLink.contains(target))) {\n            event.preventDefault();\n            menuItem.classList.add(Config.classes.itemOpened);\n          }\n        });\n      });\n    }\n\n    // Accordion Mobile\n\n    const acordeonLinks = container.querySelectorAll(Config.selectors.navHeaderLink);\n\n    Array.from(acordeonLinks).forEach((el) => {\n      el.addEventListener('click', (event) => {\n        const target = event.target;\n        if (!target.classList.contains(Config.selectors.navHeaderText) && isMobile()) {\n          event.preventDefault();\n          const targetAcordion = target.closest(Config.selectors.navContainer);\n          targetAcordion.classList.toggle('active');\n        }\n      });\n    });\n\n    //viewAllButtons Mobile\n    const viewAllButtons = container.querySelectorAll(Config.selectors.viewAllButtons);\n    viewAllHandler(viewAllButtons);\n\n    // popup Menu right\n    const popupMenus = container.querySelectorAll(Config.selectors.popupLink);\n\n    Array.from(popupMenus).forEach((el) => {\n      el.addEventListener('click', (event) => {\n        event.stopPropagation();\n        const target = event.target;\n        const popupContainer = target.closest(Config.selectors.popupContainer);\n        closePopUps(popupContainer);\n        popupContainer.classList.toggle(Config.classes.popupActive);\n        // toggleWindowEvent();\n      });\n    });\n\n    document.addEventListener('click', window.toggleGlobal = () => {\n      if(isMobile()) {\n        return;\n      }\n      closePopUps();\n      closeOpenedItems();\n    });\n  }\n\n  const addAnalytics = () => {\n\n    // Set correct 'id' attribute structure at Navigation subcomponents\n    const navigationComponents = megamenuEl.querySelectorAll(\".navigation__links\")\n\n    Array.from(navigationComponents).forEach((el) => {\n      const headingId = el.getAttribute(\"id\");\n      const parentNavigationContainer = el.closest(\".navigation\");\n      const parentId = el.closest(\".mega-menu__third-level\")?.getAttribute(\"id\") ||\n        el.closest(\".mega-menu__second-level-right\").getAttribute(\"id\");\n\n      if (headingId && parentId && parentNavigationContainer) {\n        parentNavigationContainer.setAttribute(\"id\", parentId);\n        el.setAttribute(\"id\", parentId + \"|\" + headingId);\n      }\n    });\n\n  }\n\n  const adjustPopupStructure = () => {\n    // Modifies the structure for links inside a Popup Container > the <li/> and <a/> tags are siblings\n    const topRightPopupElements = document.querySelectorAll(\n      Config.selectors.popupContainer\n    );\n\n    topRightPopupElements.forEach((rightElement) => {\n      const navigationItems = rightElement.querySelectorAll(\n        Config.selectors.navigationItems\n      );\n      navigationItems.forEach(function (item, index) {\n        const newDiv = document.createElement(\"div\");\n        newDiv.className = \"navigation__item\";\n\n        const anchor = item.querySelector(\".navigation__link\");\n        anchor.className = \"navigation__anchor\";\n        newDiv.appendChild(anchor);\n\n        const liElement = document.createElement(\"li\");\n        liElement.className = \"navigation__link link-\" + index;\n        liElement.innerHTML = anchor.innerHTML;\n        anchor.innerHTML = \"\";\n        newDiv.appendChild(liElement);\n\n        item.parentNode.replaceChild(newDiv, item);\n      });\n    });\n  };\n\n  adjustPopupStructure();\n  addEvents();\n  addAnalytics();\n  addQuickLinksToMobile();\n}\n\n// const megamenuEl = document.querySelector('.mega-menu__container');\n//\n// if (megamenuEl) {\n//   new initMegaMenu(megamenuEl);\n// }\n\nconst shadowRoot = document.querySelector('body > div:first-child').shadowRoot;\nconst megamenuEl = shadowRoot.querySelector('.mega-menu__container');\n\nif (megamenuEl) {\n  new initMegaMenu(megamenuEl);\n}\n"],"names":["isHoverableDevice","Config","isMobile","initMegaMenu","container","prevWidth","setMobileRightLinksOffset","firstLevelHeight","closeViewAllLinks","viewAllLinks","el","closeOpenedItems","activeElement","closePopUps","currentTarget","popUpMenu","toggleMobileMenu","throttle","curentWidth","viewAllHandler","viewAllButtons","event","addQuickLinksToMobile","thirdLevelContainers","quickLinksMobileContainer","quickLinks","categoryLinks","getMenuItem","target","closeMenu","openMenu","addEvents","menuElements","targetEl","targetMenu","mobileBackButtonSecondLevel","mobileBackButtonFirstLevel","activeTopLink","menuLink","menuItemsFirstLevel","menuItem","acordeonLinks","popupMenus","popupContainer","addAnalytics","navigationComponents","megamenuEl","headingId","parentNavigationContainer","parentId","rightElement","item","index","newDiv","anchor","liElement","shadowRoot"],"mappings":"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"}