{"version":3,"file":"mega-menu.js","sources":["../../../../src/scripts/vendor/mega-menu/mega-menu.js"],"sourcesContent":["import { throttle } from \"@repobit/dex-utils\";\n\nconst isHoverableDevice = window.matchMedia(\n  '(hover: hover) and (pointer: fine)'\n).matches;\n\nconst Config = {\n  selectors: {\n    container: '.mega-menu__container',\n    viewAllButtons: '.navigation__view-all',\n    popupContainer: '.mega-menu__popup-container',\n    popupLink: '.mega-menu__popup-container .mega-menu__right-link',\n    popupActive: '.popup-active',\n    menuLink: '.mega-menu__l2-link',\n    menuItem: '.mega-menu__l2-item',\n    mobileBack: '.mega-menu__back-button',\n    mobileBackL2: '.mega-menu__back-button-l2',\n    mobileTrigger: '.mega-menu__button',\n    l2active: '.mega-menu__l2-item.active',\n    l2item: '.mega-menu__l2-item',\n    viewAll: '.navigation--view-all',\n    navLinks: '.navigation__links',\n    menuItemFirst: '.mega-menu__item',\n    navHeaderLink: '.navigation__header-link',\n    navContainer: '.navigation__container',\n    itemOpened: '.mega-menu--item-opened',\n    quickLinks: '.navigation__quick-links .navigation__list',\n    qucikLinksMobileContainer: '.mega-menu__quick-links-mobile',\n    thirdLevelContent: '.mega-menu__third-level-content',\n    categoryLinks: '.mega-menu__category-links',\n    navigationHeader: '.navigation__heading',\n    menuLinkRoot: '.mega-menu__link',\n    navigation: '.navigation',\n    menuLinkText: '.mega-menu__l2-link-text',\n    firstLevel: '.mega-menu__first-level',\n    navigationItems: '.navigation__list .navigation__item',\n    menuList: '.mega-menu__list'\n  },\n  classes: {\n    popupActive: 'popup-active',\n    menuOpened: 'mega-menu--active',\n    viewAll: 'navigation--view-all',\n    itemOpened: 'mega-menu--item-opened',\n    navigationHeader: 'navigation__heading',\n    navHeaderLink: 'navigation__header-link',\n    navHeaderText: 'navigation__header-text',\n    menuItemFirst: 'mega-menu__item',\n    menuLinkText: 'mega-menu__l2-link-text',\n    navigation: 'navigation',\n    megamenuNoL3: 'mega-menu__no-l3',\n    firstLevelItemText: 'mega-menu__link-text'\n  }\n}\n\nconst isMobile = () => {return window.innerWidth < 1200};\n\nfunction initMegaMenu (container) {\n  let prevWidth = window.innerWidth;\n\n  const setMobileRightLinksOffset = () => {\n    const firstLevelEl = container.querySelector(Config.selectors.firstLevel);\n    const firstLevelHeight = firstLevelEl.getBoundingClientRect().height + 1; // add 1px border bottom\n\n    container.style.setProperty('--right-links-offset', `${firstLevelHeight}px` );\n  }\n\n  const closeViewAllLinks = () => {\n    const viewAllLinks = container.querySelectorAll(Config.selectors.viewAll);\n\n    Array.from(viewAllLinks).forEach((el) => {\n      el.classList.remove(Config.classes.viewAll);\n    });\n  }\n\n  const closeOpenedItems = () => {\n    const activeElement = container.querySelector(Config.selectors.l2active);\n\n    if (activeElement) {\n      activeElement.classList.remove('active');\n      return activeElement;\n    }\n  }\n\n  const closePopUps = (currentTarget) => {\n    container.querySelectorAll(Config.selectors.popupContainer)\n      .forEach(popUpMenu => {\n        if (popUpMenu !== currentTarget) {\n          popUpMenu.classList.remove('popup-active')\n        }\n      });\n  }\n\n  const toggleMobileMenu = () => {\n    if (!container.classList.contains(Config.classes.menuOpened)) {\n      window.addEventListener('resize', this.windowResizeEvent = throttle(() => {\n        const curentWidth = window.innerWidth;\n        if (curentWidth !== prevWidth) {\n          container.classList.remove(Config.classes.menuOpened);\n          closeOpenedItems();\n          closeViewAllLinks();\n          window.removeEventListener('resize', this.windowResizeEvent);\n          prevWidth = curentWidth;\n        }\n      }))\n    } else {\n      window.removeEventListener('resize', this.windowResizeEvent);\n    }\n\n    container.classList.toggle(Config.classes.menuOpened);\n    closeOpenedItems();\n    closeViewAllLinks();\n  }\n\n\n  const viewAllHandler = (viewAllButtons) => {\n    Array.from(viewAllButtons).forEach((el) => {\n      el.addEventListener('click', (event) => {\n        const target = event.target;\n        const subMenuTarget = target.closest(Config.selectors.navLinks);\n        subMenuTarget.classList.add(Config.classes.viewAll);\n      });\n    });\n  }\n\n  const addQuickLinksToMobile = () => {\n    const thirdLevelContainers = container.querySelectorAll(Config.selectors.thirdLevelContent);\n\n    Array.from(thirdLevelContainers).forEach((el) => {\n      const quickLinksMobileContainer = el.querySelector(Config.selectors.qucikLinksMobileContainer);\n      // get quick links\n      const quickLinks = el.querySelector(Config.selectors.quickLinks);\n      // get category link\n      const categoryLinks = el.querySelector(Config.selectors.categoryLinks);\n\n      if (quickLinks) {\n        quickLinksMobileContainer.appendChild(quickLinks.cloneNode(true));\n      }\n\n      if (categoryLinks) {\n        quickLinksMobileContainer.appendChild(categoryLinks.cloneNode(true));\n      }\n    });\n  }\n\n  const getMenuItem = (el) => {\n    const target = el.closest(Config.selectors.menuItem);\n    if (target) {\n      return target;\n    } else {\n      return el;\n    }\n  }\n\n  const closeMenu = (el) => {\n    el.classList.remove('active');\n    this.isClosed = true;\n  }\n\n  const openMenu = (el) => {\n    el.classList.add('active');\n    this.isClosed = false;\n  }\n\n  this.isClosed = true;\n\n  const addEvents = () => {\n    // Menu Trigger Mobile Bind\n    const hambugerButton = container.querySelector(Config.selectors.mobileTrigger);\n    hambugerButton.addEventListener('click', ()=>{ toggleMobileMenu() })\n\n    // L2 Navigation Bind\n    const menuElements = container.querySelectorAll(Config.selectors.menuLink);\n\n    Array.from(menuElements).forEach((el) => {\n      el.addEventListener('click', (event) => {\n        if(isHoverableDevice && window.innerWidth > 1199) {\n          return;\n        }\n\n        event.stopPropagation();\n        const targetEl = event.target;\n\n        if (!targetEl.classList.contains(Config.classes.menuLinkText)) {\n          event.preventDefault();\n          const targetMenu = getMenuItem(targetEl);\n\n          closePopUps();\n          if (this.isClosed || closeOpenedItems() !== targetMenu) {\n            openMenu(targetMenu);\n          } else {\n            closeMenu(targetMenu);\n          }\n        }\n      });\n    });\n\n    // Mobile Back Bind\n    const mobileBackButtonSecondLevel = container.querySelectorAll(Config.selectors.mobileBackL2);\n\n    if (mobileBackButtonSecondLevel) {\n      Array.from(mobileBackButtonSecondLevel).forEach((el) => {\n        el.addEventListener('click', (event) => {\n          const targetMenu = getMenuItem(event.target);\n\n          closeMenu(targetMenu);\n        });\n      });\n    }\n\n\n    // Mobile Back to First Level Bind\n    const mobileBackButtonFirstLevel = container.querySelectorAll(Config.selectors.mobileBack);\n\n    Array.from(mobileBackButtonFirstLevel).forEach((el) => {\n      el.addEventListener('click', (event) => {\n        const backButton = event.target;\n        const menu = backButton.closest(Config.selectors.menuItemFirst);\n        menu.classList.remove(Config.classes.itemOpened);\n        event.stopPropagation();\n        const noProperty = !container.style.getPropertyValue('--right-links-offset');\n        if (noProperty) {\n          setMobileRightLinksOffset();\n        }\n      });\n    });\n\n\n    // Root top Navigation on Mobile\n    const activeTopLink = container.querySelector(Config.selectors.itemOpened);\n\n    if (activeTopLink) {\n      activeTopLink.addEventListener('click', (event) => {\n        const targetEl = event.target;\n        const menuLink = activeTopLink.querySelector(Config.selectors.menuLinkRoot);\n\n        if(isMobile() && (menuLink === targetEl || menuLink.contains(targetEl))) {\n          event.preventDefault();\n          closePopUps();\n        }\n        const topItem = activeTopLink.closest(Config.selectors.menuItemFirst);\n        topItem.classList.add(Config.classes.itemOpened);\n      });\n    } else {\n      const menuItemsFirstLevel = container.querySelectorAll(Config.selectors.menuItemFirst);\n\n      Array.from(menuItemsFirstLevel).forEach((el) => {\n        el.addEventListener('click', (event) => {\n          const target = event.target;\n          let menuItem = null;\n\n          if (target.classList.contains(Config.classes.firstLevelItemText)) {\n            return;\n          }\n\n          if (target.classList.contains(Config.classes.menuItemFirst)) {\n            menuItem = target;\n          } else {\n            menuItem = target.closest(Config.selectors.menuItemFirst)\n          }\n\n          const menuLink = menuItem.querySelector(Config.selectors.menuLinkRoot);\n          const childrenList = menuItem.querySelector(Config.selectors.menuList);\n\n          if (!childrenList) {\n            return;\n          }\n\n          if (isMobile() && (menuLink === target || menuLink.contains(target))) {\n            event.preventDefault();\n            menuItem.classList.add(Config.classes.itemOpened);\n          }\n        });\n      });\n    }\n\n    // Accordion Mobile\n\n    const acordeonLinks = container.querySelectorAll(Config.selectors.navHeaderLink);\n\n    Array.from(acordeonLinks).forEach((el) => {\n      el.addEventListener('click', (event) => {\n        const target = event.target;\n        if (!target.classList.contains(Config.selectors.navHeaderText) && isMobile()) {\n          event.preventDefault();\n          const targetAcordion = target.closest(Config.selectors.navContainer);\n          targetAcordion.classList.toggle('active');\n        }\n      });\n    });\n\n    //viewAllButtons Mobile\n    const viewAllButtons = container.querySelectorAll(Config.selectors.viewAllButtons);\n    viewAllHandler(viewAllButtons);\n\n    // popup Menu right\n    const popupMenus = container.querySelectorAll(Config.selectors.popupLink);\n\n    Array.from(popupMenus).forEach((el) => {\n      el.addEventListener('click', (event) => {\n        event.stopPropagation();\n        const target = event.target;\n        const popupContainer = target.closest(Config.selectors.popupContainer);\n        closePopUps(popupContainer);\n        popupContainer.classList.toggle(Config.classes.popupActive);\n        // toggleWindowEvent();\n      });\n    });\n\n    document.addEventListener('click', window.toggleGlobal = () => {\n      if(isMobile()) {\n        return;\n      }\n      closePopUps();\n      closeOpenedItems();\n    });\n  }\n\n  const addAnalytics = () => {\n\n    // Set correct 'id' attribute structure at Navigation subcomponents\n    const navigationComponents = megamenuEl.querySelectorAll(\".navigation__links\")\n\n    Array.from(navigationComponents).forEach((el) => {\n      const headingId = el.getAttribute(\"id\");\n      const parentNavigationContainer = el.closest(\".navigation\");\n      const parentId = el.closest(\".mega-menu__third-level\")?.getAttribute(\"id\") ||\n        el.closest(\".mega-menu__second-level-right\").getAttribute(\"id\");\n\n      if (headingId && parentId && parentNavigationContainer) {\n        parentNavigationContainer.setAttribute(\"id\", parentId);\n        el.setAttribute(\"id\", parentId + \"|\" + headingId);\n      }\n    });\n\n  }\n\n  const adjustPopupStructure = () => {\n    // Modifies the structure for links inside a Popup Container > the <li/> and <a/> tags are siblings\n    const topRightPopupElements = document.querySelectorAll(\n      Config.selectors.popupContainer\n    );\n\n    topRightPopupElements.forEach((rightElement) => {\n      const navigationItems = rightElement.querySelectorAll(\n        Config.selectors.navigationItems\n      );\n      navigationItems.forEach(function (item, index) {\n        const newDiv = document.createElement(\"div\");\n        newDiv.className = \"navigation__item\";\n\n        const anchor = item.querySelector(\".navigation__link\");\n        anchor.className = \"navigation__anchor\";\n        newDiv.appendChild(anchor);\n\n        const liElement = document.createElement(\"li\");\n        liElement.className = \"navigation__link link-\" + index;\n        liElement.innerHTML = anchor.innerHTML;\n        anchor.innerHTML = \"\";\n        newDiv.appendChild(liElement);\n\n        item.parentNode.replaceChild(newDiv, item);\n      });\n    });\n  };\n\n  adjustPopupStructure();\n  addEvents();\n  addAnalytics();\n  addQuickLinksToMobile();\n}\n\n// const megamenuEl = document.querySelector('.mega-menu__container');\n//\n// if (megamenuEl) {\n//   new initMegaMenu(megamenuEl);\n// }\n\nconst shadowRoot = document.querySelector('body > div:first-child').shadowRoot;\nconst megamenuEl = shadowRoot.querySelector('.mega-menu__container');\n\nif (megamenuEl) {\n  new initMegaMenu(megamenuEl);\n}\n"],"names":[],"mappings":"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"}