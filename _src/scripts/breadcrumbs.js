import{decorateBlockWithRegionId as m,getDomain as p,fetchIndex as f,fixExcelFilterZeroes as h,createTag as b}from"./utils/utils.js";function g(e){return e.startsWith("/")?e:`/${e}`}function l(e,o,u,n){const t=e.find(a=>a.path.replace(/^\/[^/]+/,"")===o.replace(/^\/[^/]+/,""));return t&&t.breadcrumbtitle&&t.breadcrumbtitle!=="0"?t.breadcrumbtitle:t&&t.title&&t.title!=="0"?t.title:n?document.title:u}function x(e){return b("a",{href:e.url_path?e.url_path:"#"},e.name)}async function $(e){const{pathname:o}=window.location,u="/",n=p(),t=o.split("/").filter(r=>r!==n).reduce((r,i,c,s)=>(c<s.length-1?r.push(`${i}/`):i!==""&&r.push(i),r),[]),a=(await f("query-index")).data;h(a);const d=r=>g(t.slice(1,r+2).join(u));[{name:"Home",url_path:`/${n}/`},...t.slice(1,-1).map((r,i)=>{const c=d(i);return{name:l(a,`/${n}${c}`,r,!1),url_path:`/${n}${c}`}}),{name:l(a,o,t[t.length-1],!0)}].forEach(r=>{r.name&&e.append(x(r))})}async function y(){const e=document.querySelector(".breadcrumb");m(e,"Hero|Breadcrumb"),e&&await $(e)}export{y as loadBreadcrumbs};
//# sourceMappingURL=breadcrumbs.js.map
