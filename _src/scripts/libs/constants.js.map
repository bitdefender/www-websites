{"version":3,"file":"constants.js","sources":["../../../src/scripts/libs/constants.js"],"sourcesContent":["import page from \"../page.js\";\n\nexport class Constants {\n\tstatic DEV_BASE_URL = ['localhost', 'stage', '.hlx.', '.aem.'].some((domain) => \n\t  window.location.hostname.includes(domain)) ? 'https://www.bitdefender.com' : '';\n  \n\tstatic FINGERPRINT_LOCAL_STORAGE_NAME = 'rhvID';\n  \n\tstatic NO_FINGERPRINT_COOKIE_NAME = 'fgpnoneBD';\n  \n\tstatic LOGIN_LOGGED_USER_EXPIRY_COOKIE_NAME = 'bdcslue';\n  \n\tstatic ZUROA_LOCALES = ['nl-nl', 'nl-be', 'de-de', 'de-at'];\n  \n\tstatic DEV_DOMAINS = ['localhost', 'stage', '.hlx.', '.aem.'];\n  \n\tstatic PRODUCT_ID_MAPPINGS_CALL = this.#getVlaicuProductIdsMapping();\n  \n\t  /**\n\t  * @typedef {Object} VlaicuDataEntry\n\t  * @property {string} websiteId\n\t  * @property {string} storeBundleId\n\t  * @property {boolean} isMonthlyProduct\n\t  * @property {string} campaign\n\t  */\n  \n\t  /**\n\t  *\n\t  * @typedef {{\n\t  *\t\t[key: string]: VlaicuDataEntry\n\t  * }} VlaicuData\n\t  */\n  \n\t  /**\n\t   * @typedef {{\n\t   * \tcampaign: string\n\t   * }} VlaicuDataCampaign\n\t   */\n  \n\t  /**\n\t  * @type {VlaicuData & VlaicuDataCampaign | null}\n\t  */\n\tstatic PRODUCT_ID_MAPPINGS = null;\n  \n\tstatic WRONG_DEVICES_PRODUCT_IDS = {\n\t\t  'pass_sp': {\n\t\t\t  contentDevices: 1,\n\t\t\t  providerDevices: 4,\n\t\t  },\n\t\t  'pass_spm': {\n\t\t\t  contentDevices: 1,\n\t\t\t  providerDevices: 4,\n\t\t  },\n\t\t  'vpn': {\n\t\t\t  contentDevices: 10,\n\t\t\t  providerDevices: 1,\n\t\t  },\n\t\t  'vpn-monthly': {\n\t\t\t  contentDevices: 10,\n\t\t\t  providerDevices: 1,\n\t\t  }\n\t  };\n  \n\tstatic DISABLE_TARGET_PARAMS = {\n\t  key: \"dotest\",\n\t  value: \"1\"\n\t};\n  \n\tstatic TARGET_EXPERIMENT_METADATA_KEY = \"target-experiment-location\";\n  \n\tstatic ADOBE_TARGET_SESSION_ID_PARAM = \"adobeTargetSessionId\";\n  \n\tstatic TARGET_TENANT = \"bitdefender\";\n  \n\tstatic PUBLIC_URL_ORIGIN = ['www.', 'stage.'].some(domain => window.location.hostname.includes(domain))\n\t  ? '' : 'https://www.bitdefender.com';\n\t\n\tstatic LOGIN_URL_ORIGIN = ['www.', 'stage.'].some(domain => window.location.hostname.includes(domain))\n\t  ? window.location.origin : 'https://www.bitdefender.com';\n  \n\tstatic NO_PROMOTION = \"\";\n\n\tstatic NONE_PRODUCT_PAGES = [\"renewal\", \"consumer\"];\n\n\tstatic LAUNCH_EVENTS = {\n\t\tLIBRARY_LOADED: \"at-library-loaded\",\n    \tLAUNCH_FAILED_TO_LOAD: \"launchCannotLoad\"\n\t}\n\n\t// TODO: please remove this once SOHO starts working correctly on zuora and de domains\n\tstatic SOHO_CORNER_CASES_LOCALSE = [\"de-de\", \"de-at\", \"de-ch\"];\n  \n\t/**\n\t * fetch all the product id mappings for Vlaicu from websites\n\t */\n\tstatic async #getVlaicuProductIdsMapping() {\n\t\t  try {\n\t\t\t  const nameForVlaicuConfig = this.ZUROA_LOCALES.includes(page.locale) ? \"vlaicuconfigzuora\" : \"vlaicuconfig\";\n\t\t\t  const response = await fetch(`/common/vlaicuconfig/${nameForVlaicuConfig}.json`);\n\t\t\t  if (!response.ok) {\n\t\t\t\t  console.error(`Failed to fetch data.`);\n\t\t\t\t  return;\n\t\t\t  }\n  \n\t\t\t  /**\n\t\t\t  * @type {{\n\t\t\t  * \twebsiteId: string,\n\t\t\t  * \tbundleId: string,\n\t\t\t  * \tisMonthlyProduct: boolean,\n\t\t\t  * \tcampaign: string\n\t\t\t  * }[]}\n\t\t\t  */\n\t\t\t  const data = (await response.json())?.data;\n\t\t\t  if (!data) {\n\t\t\t\t  return;\n\t\t\t  }\n  \n\t\t\t  const vlaicuProductIdsMapping = data.reduce((accumulator, currentValue) => {\n\t\t\t\t  accumulator[currentValue.websiteId] = {\n\t\t\t\t\t  ...currentValue,\n\t\t\t\t\t  isMonthlyProduct: currentValue.isMonthlyProduct === \"false\" ? false : true\n\t\t\t\t  };\n\t\t\t\t  return accumulator;\n\t\t\t  }, {});\n\t\t\t  vlaicuProductIdsMapping.campaign = data[0].campaign || this.NO_PROMOTION;\n  \n\t\t\t  this.PRODUCT_ID_MAPPINGS = vlaicuProductIdsMapping;\n\t\t  } catch(e) {\n\t\t\t  console.error(`Failed to fetch data.`);\n\t\t\t  return;\n\t\t  }\n\t};\n  }\n"],"names":["Constants","domain","#getVlaicuProductIdsMapping","nameForVlaicuConfig","page","response","data","vlaicuProductIdsMapping","accumulator","currentValue"],"mappings":"0BAEO,MAAMA,CAAU,CACtB,OAAO,aAAe,CAAC,YAAa,QAAS,QAAS,OAAO,EAAE,KAAMC,GACnE,OAAO,SAAS,SAAS,SAASA,CAAM,CAAC,EAAI,8BAAgC,GAE/E,OAAO,+BAAiC,QAExC,OAAO,2BAA6B,YAEpC,OAAO,qCAAuC,UAE9C,OAAO,cAAgB,CAAC,QAAS,QAAS,QAAS,OAAO,EAE1D,OAAO,YAAc,CAAC,YAAa,QAAS,QAAS,OAAO,EAE5D,OAAO,yBAA2B,KAAKC,GAA6B,EA0BpE,OAAO,oBAAsB,KAE7B,OAAO,0BAA4B,CAChC,QAAW,CACV,eAAgB,EAChB,gBAAiB,CACjB,EACD,SAAY,CACX,eAAgB,EAChB,gBAAiB,CACjB,EACD,IAAO,CACN,eAAgB,GAChB,gBAAiB,CACjB,EACD,cAAe,CACd,eAAgB,GAChB,gBAAiB,CACtB,CACI,EAEH,OAAO,sBAAwB,CAC7B,IAAK,SACL,MAAO,GACR,EAED,OAAO,+BAAiC,6BAExC,OAAO,8BAAgC,uBAEvC,OAAO,cAAgB,cAEvB,OAAO,kBAAoB,CAAC,OAAQ,QAAQ,EAAE,KAAKD,GAAU,OAAO,SAAS,SAAS,SAASA,CAAM,CAAC,EAClG,GAAK,8BAET,OAAO,iBAAmB,CAAC,OAAQ,QAAQ,EAAE,KAAKA,GAAU,OAAO,SAAS,SAAS,SAASA,CAAM,CAAC,EACjG,OAAO,SAAS,OAAS,8BAE7B,OAAO,aAAe,GAEtB,OAAO,mBAAqB,CAAC,UAAW,UAAU,EAElD,OAAO,cAAgB,CACtB,eAAgB,oBACb,sBAAuB,kBAC5B,EAGC,OAAO,0BAA4B,CAAC,QAAS,QAAS,OAAO,EAK7D,YAAaC,IAA8B,CACxC,GAAI,CACH,MAAMC,EAAsB,KAAK,cAAc,SAASC,EAAK,MAAM,EAAI,oBAAsB,eACvFC,EAAW,MAAM,MAAM,wBAAwBF,CAAmB,OAAO,EAC/E,GAAI,CAACE,EAAS,GAAI,CACjB,QAAQ,MAAM,uBAAuB,EACrC,MACN,CAUK,MAAMC,GAAQ,MAAMD,EAAS,KAAM,IAAG,KACtC,GAAI,CAACC,EACJ,OAGD,MAAMC,EAA0BD,EAAK,OAAO,CAACE,EAAaC,KACzDD,EAAYC,EAAa,SAAS,EAAI,CACrC,GAAGA,EACH,iBAAkBA,EAAa,mBAAqB,OACpD,EACMD,GACL,EAAE,EACLD,EAAwB,SAAWD,EAAK,CAAC,EAAE,UAAY,KAAK,aAE5D,KAAK,oBAAsBC,CAC3B,MAAU,CACV,QAAQ,MAAM,uBAAuB,EACrC,MACL,CACE,CACF"}