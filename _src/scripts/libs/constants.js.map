{"version":3,"file":"constants.js","sources":["../../../src/scripts/libs/constants.js"],"sourcesContent":["import page from \"../page.js\";\n\nexport class Constants {\n\tstatic DEV_BASE_URL = ['localhost', 'stage', '.hlx.', '.aem.'].some((domain) => \n\t  window.location.hostname.includes(domain)) ? 'https://www.bitdefender.com' : '';\n  \n\tstatic FINGERPRINT_LOCAL_STORAGE_NAME = 'rhvID';\n  \n\tstatic NO_FINGERPRINT_COOKIE_NAME = 'fgpnoneBD';\n  \n\tstatic LOGIN_LOGGED_USER_EXPIRY_COOKIE_NAME = 'bdcslue';\n  \n\tstatic ZUROA_LOCALES = ['nl-nl', 'nl-be', 'de-de', 'de-at'];\n  \n\tstatic DEV_DOMAINS = ['localhost', 'stage', '.hlx.', '.aem.'];\n  \n\tstatic PRODUCT_ID_MAPPINGS_CALL = this.#getVlaicuProductIdsMapping();\n  \n\t  /**\n\t  * @typedef {Object} VlaicuDataEntry\n\t  * @property {string} websiteId\n\t  * @property {string} storeBundleId\n\t  * @property {boolean} isMonthlyProduct\n\t  * @property {string} campaign\n\t  */\n  \n\t  /**\n\t  *\n\t  * @typedef {{\n\t  *\t\t[key: string]: VlaicuDataEntry\n\t  * }} VlaicuData\n\t  */\n  \n\t  /**\n\t   * @typedef {{\n\t   * \tcampaign: string\n\t   * }} VlaicuDataCampaign\n\t   */\n  \n\t  /**\n\t  * @type {VlaicuData & VlaicuDataCampaign | null}\n\t  */\n\tstatic PRODUCT_ID_MAPPINGS = null;\n  \n\tstatic WRONG_DEVICES_PRODUCT_IDS = {\n\t\t  'pass_sp': {\n\t\t\t  contentDevices: 1,\n\t\t\t  providerDevices: 4,\n\t\t  },\n\t\t  'pass_spm': {\n\t\t\t  contentDevices: 1,\n\t\t\t  providerDevices: 4,\n\t\t  },\n\t\t  'vpn': {\n\t\t\t  contentDevices: 10,\n\t\t\t  providerDevices: 1,\n\t\t  },\n\t\t  'vpn-monthly': {\n\t\t\t  contentDevices: 10,\n\t\t\t  providerDevices: 1,\n\t\t  }\n\t  };\n  \n\tstatic DISABLE_TARGET_PARAMS = {\n\t  key: \"dotest\",\n\t  value: \"1\"\n\t};\n  \n\tstatic TARGET_EXPERIMENT_METADATA_KEY = \"target-experiment-location\";\n  \n\tstatic ADOBE_TARGET_SESSION_ID_PARAM = \"adobeTargetSessionId\";\n  \n\tstatic TARGET_TENANT = \"bitdefender\";\n  \n\tstatic PUBLIC_URL_ORIGIN = ['www.', 'stage.'].some(domain => window.location.hostname.includes(domain))\n\t  ? '' : 'https://www.bitdefender.com';\n\t\n\tstatic LOGIN_URL_ORIGIN = ['www.', 'stage.'].some(domain => window.location.hostname.includes(domain))\n\t  ? window.location.origin : 'https://www.bitdefender.com';\n  \n\tstatic NO_PROMOTION = \"\";\n\n\tstatic NONE_PRODUCT_PAGES = [\"renewal\", \"consumer\"];\n\n\tstatic LAUNCH_EVENTS = {\n\t\tLIBRARY_LOADED: \"at-library-loaded\",\n    \tLAUNCH_FAILED_TO_LOAD: \"launchCannotLoad\"\n\t}\n\n\t// TODO: please remove this once SOHO starts working correctly on zuora and de domains\n\tstatic SOHO_CORNER_CASES_LOCALSE = [\"de-de\", \"de-at\", \"de-ch\"];\n  \n\t/**\n\t * fetch all the product id mappings for Vlaicu from websites\n\t */\n\tstatic async #getVlaicuProductIdsMapping() {\n\t\t  try {\n\t\t\t  const nameForVlaicuConfig = this.ZUROA_LOCALES.includes(page.locale) ? \"vlaicuconfigzuora\" : \"vlaicuconfig\";\n\t\t\t  const response = await fetch(`/common/vlaicuconfig/${nameForVlaicuConfig}.json`);\n\t\t\t  if (!response.ok) {\n\t\t\t\t  console.error(`Failed to fetch data.`);\n\t\t\t\t  return;\n\t\t\t  }\n  \n\t\t\t  /**\n\t\t\t  * @type {{\n\t\t\t  * \twebsiteId: string,\n\t\t\t  * \tbundleId: string,\n\t\t\t  * \tisMonthlyProduct: boolean,\n\t\t\t  * \tcampaign: string\n\t\t\t  * }[]}\n\t\t\t  */\n\t\t\t  const data = (await response.json())?.data;\n\t\t\t  if (!data) {\n\t\t\t\t  return;\n\t\t\t  }\n  \n\t\t\t  const vlaicuProductIdsMapping = data.reduce((accumulator, currentValue) => {\n\t\t\t\t  accumulator[currentValue.websiteId] = {\n\t\t\t\t\t  ...currentValue,\n\t\t\t\t\t  isMonthlyProduct: currentValue.isMonthlyProduct === \"false\" ? false : true\n\t\t\t\t  };\n\t\t\t\t  return accumulator;\n\t\t\t  }, {});\n\t\t\t  vlaicuProductIdsMapping.campaign = data[0].campaign || this.NO_PROMOTION;\n  \n\t\t\t  this.PRODUCT_ID_MAPPINGS = vlaicuProductIdsMapping;\n\t\t  } catch(e) {\n\t\t\t  console.error(`Failed to fetch data.`);\n\t\t\t  return;\n\t\t  }\n\t};\n  }\n"],"names":[],"mappings":"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"}