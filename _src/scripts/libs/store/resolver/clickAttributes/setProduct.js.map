{"version":3,"file":"setProduct.js","sources":["../../../../../../src/scripts/libs/store/resolver/clickAttributes/setProduct.js"],"sourcesContent":["/**\n * @param {HTMLElement} button \n * @param {import(\"../resolver\").Context} context \n */\nexport const resolve = (button, context) => {\n    if (button.dataset.storeClickSetProduct === undefined) { return; }\n    \n    if (button.nodeName === \"SELECT\" && button.dataset.storeClickSetProduct === '') {\n        button.addEventListener(\"change\", (e) => {\n            context.product = e.target.selectedOptions[0].dataset.storeProductId;\n            context.option = e.target.selectedOptions[0].dataset.storeProductOption || context.option.getVariation();\n        });\n        return;\n    }\n\n    //TO BE REFACTORED\n    switch (button.nodeName) {\n        case \"LABEL\":\n            const innerInput = button.querySelector(\"input\");\n            if (innerInput && innerInput.checked) {\n                context.product = button.dataset.storeProductId;\n                context.option = button.dataset.storeProductOption || context.option.getVariation();\n            }\n            break;\n        default:\n            if (button.checked) {\n                context.product = button.dataset.storeProductId;\n                context.option = button.dataset.storeProductOption || context.option.getVariation();\n            }\n            break;\n    }\n\n    button.addEventListener(\"click\", () => {\n        context.product = button.dataset.storeProductId;\n        context.option = button.dataset.storeProductOption || context.option.getVariation();\n    });\n}"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACY,MAAC,OAAO,GAAG,CAAC,MAAM,EAAE,OAAO,KAAK;AAC5C,IAAI,IAAI,MAAM,CAAC,OAAO,CAAC,oBAAoB,KAAK,SAAS,EAAE,EAAE,OAAO;AACpE;AACA,IAAI,IAAI,MAAM,CAAC,QAAQ,KAAK,QAAQ,IAAI,MAAM,CAAC,OAAO,CAAC,oBAAoB,KAAK,EAAE,EAAE;AACpF,QAAQ,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK;AACjD,YAAY,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,cAAc;AAChF,YAAY,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,kBAAkB,IAAI,OAAO,CAAC,MAAM,CAAC,YAAY,EAAE;AACpH,SAAS,CAAC;AACV,QAAQ;AACR;;AAEA;AACA,IAAI,QAAQ,MAAM,CAAC,QAAQ;AAC3B,QAAQ,KAAK,OAAO;AACpB,YAAY,MAAM,UAAU,GAAG,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC;AAC5D,YAAY,IAAI,UAAU,IAAI,UAAU,CAAC,OAAO,EAAE;AAClD,gBAAgB,OAAO,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,cAAc;AAC/D,gBAAgB,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,kBAAkB,IAAI,OAAO,CAAC,MAAM,CAAC,YAAY,EAAE;AACnG;AACA,YAAY;AACZ,QAAQ;AACR,YAAY,IAAI,MAAM,CAAC,OAAO,EAAE;AAChC,gBAAgB,OAAO,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,cAAc;AAC/D,gBAAgB,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,kBAAkB,IAAI,OAAO,CAAC,MAAM,CAAC,YAAY,EAAE;AACnG;AACA,YAAY;AACZ;;AAEA,IAAI,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;AAC3C,QAAQ,OAAO,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,cAAc;AACvD,QAAQ,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,kBAAkB,IAAI,OAAO,CAAC,MAAM,CAAC,YAAY,EAAE;AAC3F,KAAK,CAAC;AACN;;;;"}