{"version":3,"file":"addClass.js","sources":["../../../../../../src/scripts/libs/store/resolver/staticAttributes/addClass.js"],"sourcesContent":["/**\n * @param {HTMLElement} element \n * @param {import(\"../resolver\").Context} context \n */\nexport const resolve = (element, context) => {\n    if (element.dataset.storeAddClass === undefined) { return; }\n\n    const constraintsList = element.dataset.storeAddClass.split(';');\n\n    for (const constraint of constraintsList) {\n        const [conditionsList, classList] = constraint.split('=');\n        const classes = classList.split(',');\n        const conditions = conditionsList.split(',');\n        let passed = true;\n\n        for (const condition of conditions) {\n            switch (condition) {\n                case 'minDevicesReached':\n                    const [minDevices] = context.product.getMinMaxDeviceNumbers();\n\n                    if (minDevices !== context.devices) {\n                        passed = false;\n                    }\n                    break;\n                case 'maxDevicesReached':\n                    const [, maxDevices] = context.product.getMinMaxDeviceNumbers();\n\n                    if (maxDevices !== context.devices) {\n                        passed = false;\n                    }\n                    break;\n            }\n\n            if (!passed) {\n                break;\n            }\n        }\n\n        if (passed) {\n            element.classList.add(...classes);\n        } else {\n            element.classList.remove(...classes);\n        }\n    }\n}"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACY,MAAC,OAAO,GAAG,CAAC,OAAO,EAAE,OAAO,KAAK;AAC7C,IAAI,IAAI,OAAO,CAAC,OAAO,CAAC,aAAa,KAAK,SAAS,EAAE,EAAE,OAAO;;AAE9D,IAAI,MAAM,eAAe,GAAG,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC;;AAEpE,IAAI,KAAK,MAAM,UAAU,IAAI,eAAe,EAAE;AAC9C,QAAQ,MAAM,CAAC,cAAc,EAAE,SAAS,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC;AACjE,QAAQ,MAAM,OAAO,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC;AAC5C,QAAQ,MAAM,UAAU,GAAG,cAAc,CAAC,KAAK,CAAC,GAAG,CAAC;AACpD,QAAQ,IAAI,MAAM,GAAG,IAAI;;AAEzB,QAAQ,KAAK,MAAM,SAAS,IAAI,UAAU,EAAE;AAC5C,YAAY,QAAQ,SAAS;AAC7B,gBAAgB,KAAK,mBAAmB;AACxC,oBAAoB,MAAM,CAAC,UAAU,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,sBAAsB,EAAE;;AAEjF,oBAAoB,IAAI,UAAU,KAAK,OAAO,CAAC,OAAO,EAAE;AACxD,wBAAwB,MAAM,GAAG,KAAK;AACtC;AACA,oBAAoB;AACpB,gBAAgB,KAAK,mBAAmB;AACxC,oBAAoB,MAAM,GAAG,UAAU,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,sBAAsB,EAAE;;AAEnF,oBAAoB,IAAI,UAAU,KAAK,OAAO,CAAC,OAAO,EAAE;AACxD,wBAAwB,MAAM,GAAG,KAAK;AACtC;AACA,oBAAoB;AACpB;;AAEA,YAAY,IAAI,CAAC,MAAM,EAAE;AACzB,gBAAgB;AAChB;AACA;;AAEA,QAAQ,IAAI,MAAM,EAAE;AACpB,YAAY,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;AAC7C,SAAS,MAAM;AACf,YAAY,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC;AAChD;AACA;AACA;;;;"}