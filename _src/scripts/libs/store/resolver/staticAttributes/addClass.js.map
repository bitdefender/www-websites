{"version":3,"file":"addClass.js","sources":["../../../../../../src/scripts/libs/store/resolver/staticAttributes/addClass.js"],"sourcesContent":["/**\n * @param {HTMLElement} element \n * @param {import(\"../resolver\").Context} context \n */\nexport const resolve = (element, context) => {\n    if (element.dataset.storeAddClass === undefined) { return; }\n\n    const constraintsList = element.dataset.storeAddClass.split(';');\n\n    for (const constraint of constraintsList) {\n        const [conditionsList, classList] = constraint.split('=');\n        const classes = classList.split(',');\n        const conditions = conditionsList.split(',');\n        let passed = true;\n\n        for (const condition of conditions) {\n            switch (condition) {\n                case 'minDevicesReached':\n                    const [minDevices] = context.product.getMinMaxDeviceNumbers();\n\n                    if (minDevices !== context.devices) {\n                        passed = false;\n                    }\n                    break;\n                case 'maxDevicesReached':\n                    const [, maxDevices] = context.product.getMinMaxDeviceNumbers();\n\n                    if (maxDevices !== context.devices) {\n                        passed = false;\n                    }\n                    break;\n            }\n\n            if (!passed) {\n                break;\n            }\n        }\n\n        if (passed) {\n            element.classList.add(...classes);\n        } else {\n            element.classList.remove(...classes);\n        }\n    }\n}"],"names":["resolve","element","context","constraintsList","constraint","conditionsList","classList","classes","conditions","passed","condition","minDevices","maxDevices"],"mappings":"AAIY,MAACA,EAAU,CAACC,EAASC,IAAY,CACzC,GAAID,EAAQ,QAAQ,gBAAkB,OAAa,OAEnD,MAAME,EAAkBF,EAAQ,QAAQ,cAAc,MAAM,GAAG,EAE/D,UAAWG,KAAcD,EAAiB,CACtC,KAAM,CAACE,EAAgBC,CAAS,EAAIF,EAAW,MAAM,GAAG,EAClDG,EAAUD,EAAU,MAAM,GAAG,EAC7BE,EAAaH,EAAe,MAAM,GAAG,EAC3C,IAAII,EAAS,GAEb,UAAWC,KAAaF,EAAY,CAChC,OAAQE,EAAS,CACb,IAAK,oBACD,KAAM,CAACC,CAAU,EAAIT,EAAQ,QAAQ,uBAAwB,EAEzDS,IAAeT,EAAQ,UACvBO,EAAS,IAEb,MACJ,IAAK,oBACD,KAAM,CAAG,CAAAG,CAAU,EAAIV,EAAQ,QAAQ,uBAAwB,EAE3DU,IAAeV,EAAQ,UACvBO,EAAS,IAEb,KACpB,CAEY,GAAI,CAACA,EACD,KAEhB,CAEYA,EACAR,EAAQ,UAAU,IAAI,GAAGM,CAAO,EAEhCN,EAAQ,UAAU,OAAO,GAAGM,CAAO,CAE/C,CACA"}