{"version":3,"file":"price.js","sources":["../../../../../../src/scripts/libs/store/resolver/staticAttributes/price.js"],"sourcesContent":["import { Store } from \"../../store.js\";\nimport { writeValue } from \"../resolver.js\";\n\n/**\n * @param {HTMLElement} element \n * @param {import(\"../resolver.js\").Context} context \n */\nexport const resolve = (element, context) => {\n    const option = context.option;\n\n    if (!element.dataset.storePrice || !option) { return; }\n\n    for (const atom of element.dataset.storePrice.split(\"||\")) {\n        switch (atom) {\n            case \"full\":\n                if (!option.getPrice(\"valueWithCurrency\")) { continue; }\n                writeValue(element, option.getPrice(\"valueWithCurrency\"));\n                return;\n            case \"full-no-decimal\":\n                if (!option.getPrice(\"valueWithCurrency\").replace('.00', '')) { continue; }\n                writeValue(element, option.getPrice(\"valueWithCurrency\").replace('.00', ''));\n                return;\n            case \"discounted\":\n                if (!option.getDiscountedPrice(\"valueWithCurrency\")) { continue; }\n                writeValue(element, option.getDiscountedPrice(\"valueWithCurrency\"));\n                return;\n            case \"discounted-no-decimal\":\n                if (!option.getDiscountedPrice(\"valueWithCurrency\").replace('.00', '')) { continue; }\n                writeValue(element, option.getDiscountedPrice(\"valueWithCurrency\").replace('.00', ''));\n                return;\n            case \"full-monthly\":\n                if (!option.getPrice(\"monthlyWithCurrency\")) { continue; }\n                writeValue(element, option.getPrice(\"monthlyWithCurrency\"));\n                return;\n            case \"discounted-monthly\":\n                if (!option.getDiscountedPrice(\"monthlyWithCurrency\")) { continue; }\n                writeValue(element, option.getDiscountedPrice(\"monthlyWithCurrency\"));\n                return;\n            case \"discounted-monthly-no-decimal\":\n                if (!option.getDiscountedPrice(\"monthlyWithCurrency\").replace('.00', '')) { continue; }\n                writeValue(element, option.getDiscountedPrice(\"monthlyWithCurrency\").replace('.00', ''));\n                return;\n            case \"smallest-monthly\":\n                let smallestPrice = Number.MAX_SAFE_INTEGER;\n                for (const { product } of context.contexts) {\n                    if (product.getSmallestPrice(\"monthly\") < smallestPrice) {\n                        smallestPrice = product.getSmallestPrice(\"monthly\");\n                    }\n                }\n                if (smallestPrice === Number.MAX_SAFE_INTEGER) {\n                    smallestPrice = \"\";\n                }\n                writeValue(element, `${Store.placeSymbol(smallestPrice, option.getCurrency())}`);\n                return;\n        }\n    }\n}"],"names":["resolve","element","context","option","atom","writeValue","smallestPrice","product","Store"],"mappings":"mFAOY,MAACA,EAAU,CAACC,EAASC,IAAY,CACzC,MAAMC,EAASD,EAAQ,OAEvB,GAAI,GAACD,EAAQ,QAAQ,YAAc,CAACE,GAEpC,UAAWC,KAAQH,EAAQ,QAAQ,WAAW,MAAM,IAAI,EACpD,OAAQG,EAAI,CACR,IAAK,OACD,GAAI,CAACD,EAAO,SAAS,mBAAmB,EAAK,SAC7CE,EAAWJ,EAASE,EAAO,SAAS,mBAAmB,CAAC,EACxD,OACJ,IAAK,kBACD,GAAI,CAACA,EAAO,SAAS,mBAAmB,EAAE,QAAQ,MAAO,EAAE,EAAK,SAChEE,EAAWJ,EAASE,EAAO,SAAS,mBAAmB,EAAE,QAAQ,MAAO,EAAE,CAAC,EAC3E,OACJ,IAAK,aACD,GAAI,CAACA,EAAO,mBAAmB,mBAAmB,EAAK,SACvDE,EAAWJ,EAASE,EAAO,mBAAmB,mBAAmB,CAAC,EAClE,OACJ,IAAK,wBACD,GAAI,CAACA,EAAO,mBAAmB,mBAAmB,EAAE,QAAQ,MAAO,EAAE,EAAK,SAC1EE,EAAWJ,EAASE,EAAO,mBAAmB,mBAAmB,EAAE,QAAQ,MAAO,EAAE,CAAC,EACrF,OACJ,IAAK,eACD,GAAI,CAACA,EAAO,SAAS,qBAAqB,EAAK,SAC/CE,EAAWJ,EAASE,EAAO,SAAS,qBAAqB,CAAC,EAC1D,OACJ,IAAK,qBACD,GAAI,CAACA,EAAO,mBAAmB,qBAAqB,EAAK,SACzDE,EAAWJ,EAASE,EAAO,mBAAmB,qBAAqB,CAAC,EACpE,OACJ,IAAK,gCACD,GAAI,CAACA,EAAO,mBAAmB,qBAAqB,EAAE,QAAQ,MAAO,EAAE,EAAK,SAC5EE,EAAWJ,EAASE,EAAO,mBAAmB,qBAAqB,EAAE,QAAQ,MAAO,EAAE,CAAC,EACvF,OACJ,IAAK,mBACD,IAAIG,EAAgB,OAAO,iBAC3B,SAAW,CAAE,QAAAC,KAAaL,EAAQ,SAC1BK,EAAQ,iBAAiB,SAAS,EAAID,IACtCA,EAAgBC,EAAQ,iBAAiB,SAAS,GAGtDD,IAAkB,OAAO,mBACzBA,EAAgB,IAEpBD,EAAWJ,EAAS,GAAGO,EAAM,YAAYF,EAAeH,EAAO,aAAa,CAAC,EAAE,EAC/E,MAChB,CAEA"}