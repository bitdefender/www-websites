{"version":3,"file":"price.js","sources":["../../../../../../src/scripts/libs/store/resolver/staticAttributes/price.js"],"sourcesContent":["import { Store } from \"../../store.js\";\nimport { writeValue } from \"../resolver.js\";\n\n/**\n * @param {HTMLElement} element \n * @param {import(\"../resolver.js\").Context} context \n */\nexport const resolve = (element, context) => {\n    const option = context.option;\n\n    if (!element.dataset.storePrice || !option) { return; }\n\n    for (const atom of element.dataset.storePrice.split(\"||\")) {\n        switch (atom) {\n            case \"full\":\n                if (!option.getPrice(\"valueWithCurrency\")) { continue; }\n                writeValue(element, option.getPrice(\"valueWithCurrency\"));\n                return;\n            case \"full-no-decimal\":\n                if (!option.getPrice(\"valueWithCurrency\").replace('.00', '')) { continue; }\n                writeValue(element, option.getPrice(\"valueWithCurrency\").replace('.00', ''));\n                return;\n            case \"discounted\":\n                if (!option.getDiscountedPrice(\"valueWithCurrency\")) { continue; }\n                writeValue(element, option.getDiscountedPrice(\"valueWithCurrency\"));\n                return;\n            case \"discounted-no-decimal\":\n                if (!option.getDiscountedPrice(\"valueWithCurrency\").replace('.00', '')) { continue; }\n                writeValue(element, option.getDiscountedPrice(\"valueWithCurrency\").replace('.00', ''));\n                return;\n            case \"full-monthly\":\n                if (!option.getPrice(\"monthlyWithCurrency\")) { continue; }\n                writeValue(element, option.getPrice(\"monthlyWithCurrency\"));\n                return;\n            case \"discounted-monthly\":\n                if (!option.getDiscountedPrice(\"monthlyWithCurrency\")) { continue; }\n                writeValue(element, option.getDiscountedPrice(\"monthlyWithCurrency\"));\n                return;\n            case \"discounted-monthly-no-decimal\":\n                if (!option.getDiscountedPrice(\"monthlyWithCurrency\").replace('.00', '')) { continue; }\n                writeValue(element, option.getDiscountedPrice(\"monthlyWithCurrency\").replace('.00', ''));\n                return;\n            case \"smallest-monthly\":\n                let smallestPrice = Number.MAX_SAFE_INTEGER;\n                for (const { product } of context.contexts) {\n                    if (product.getSmallestPrice(\"monthly\") < smallestPrice) {\n                        smallestPrice = product.getSmallestPrice(\"monthly\");\n                    }\n                }\n                if (smallestPrice === Number.MAX_SAFE_INTEGER) {\n                    smallestPrice = \"\";\n                }\n                writeValue(element, `${Store.placeSymbol(smallestPrice, option.getCurrency())}`);\n                return;\n        }\n    }\n}"],"names":[],"mappings":"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"}