{"version":3,"file":"buyLink.js","sources":["../../../../../../src/scripts/libs/store/resolver/staticAttributes/buyLink.js"],"sourcesContent":["/**\n * @param {HTMLElement} element \n * @param {import(\"../resolver\").Context} context \n */\nexport const resolve = async (element, { product, option }) => {\n    if (element.dataset.storeBuyLink === undefined || !option) { return; }\n\n    const attributes = element.dataset.storeBuyLink === '' || element.dataset.storeBuyLink === 'empty'\n        ? []\n        : element.dataset.storeBuyLink.split(\",\");\n\n    const button = element.nodeName === \"A\"\n        ? element\n        : element.querySelector(\"a\");\n\n    if (!button) { return; }\n\n    button.href = await option.getStoreUrl(attributes);\n    button.setAttribute(\"data-product\", option.getId());\n    button.setAttribute(\"data-buy-price\", option.getDiscountedPrice(\"value\") || option.getPrice(\"value\"));\n    button.setAttribute(\"data-old-price\", option.getPrice(\"value\"));\n    button.setAttribute(\"data-currency\", option.getSymbol());\n    button.setAttribute(\"data-variation\", `${option.getDevices()}u-${option.getSubscription(\"years\")}y`);\n}"],"names":["resolve","element","product","option","attributes","button"],"mappings":"AAIY,MAACA,EAAU,MAAOC,EAAS,CAAE,QAAAC,EAAS,OAAAC,CAAM,IAAO,CAC3D,GAAIF,EAAQ,QAAQ,eAAiB,QAAa,CAACE,EAAU,OAE7D,MAAMC,EAAaH,EAAQ,QAAQ,eAAiB,IAAMA,EAAQ,QAAQ,eAAiB,QACrF,CAAA,EACAA,EAAQ,QAAQ,aAAa,MAAM,GAAG,EAEtCI,EAASJ,EAAQ,WAAa,IAC9BA,EACAA,EAAQ,cAAc,GAAG,EAE1BI,IAELA,EAAO,KAAO,MAAMF,EAAO,YAAYC,CAAU,EACjDC,EAAO,aAAa,eAAgBF,EAAO,MAAK,CAAE,EAClDE,EAAO,aAAa,iBAAkBF,EAAO,mBAAmB,OAAO,GAAKA,EAAO,SAAS,OAAO,CAAC,EACpGE,EAAO,aAAa,iBAAkBF,EAAO,SAAS,OAAO,CAAC,EAC9DE,EAAO,aAAa,gBAAiBF,EAAO,UAAS,CAAE,EACvDE,EAAO,aAAa,iBAAkB,GAAGF,EAAO,WAAU,CAAE,KAAKA,EAAO,gBAAgB,OAAO,CAAC,GAAG,EACvG"}