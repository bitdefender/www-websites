{"version":3,"file":"buyLink.js","sources":["../../../../../../src/scripts/libs/store/resolver/staticAttributes/buyLink.js"],"sourcesContent":["/**\n * @param {HTMLElement} element \n * @param {import(\"../resolver\").Context} context \n */\nexport const resolve = async (element, { product, option }) => {\n    if (element.dataset.storeBuyLink === undefined || !option) { return; }\n\n    const attributes = element.dataset.storeBuyLink === '' || element.dataset.storeBuyLink === 'empty'\n        ? []\n        : element.dataset.storeBuyLink.split(\",\");\n\n    const button = element.nodeName === \"A\"\n        ? element\n        : element.querySelector(\"a\");\n\n    if (!button) { return; }\n\n    button.href = await option.getStoreUrl(attributes);\n    button.setAttribute(\"data-product\", option.getId());\n    button.setAttribute(\"data-buy-price\", option.getDiscountedPrice(\"value\") || option.getPrice(\"value\"));\n    button.setAttribute(\"data-old-price\", option.getPrice(\"value\"));\n    button.setAttribute(\"data-currency\", option.getSymbol());\n    button.setAttribute(\"data-variation\", `${option.getDevices()}u-${option.getSubscription(\"years\")}y`);\n}"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACY,MAAC,OAAO,GAAG,OAAO,OAAO,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK;AAC/D,IAAI,IAAI,OAAO,CAAC,OAAO,CAAC,YAAY,KAAK,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,OAAO;;AAExE,IAAI,MAAM,UAAU,GAAG,OAAO,CAAC,OAAO,CAAC,YAAY,KAAK,EAAE,IAAI,OAAO,CAAC,OAAO,CAAC,YAAY,KAAK;AAC/F,UAAU;AACV,UAAU,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC;;AAEjD,IAAI,MAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,KAAK;AACxC,UAAU;AACV,UAAU,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC;;AAEpC,IAAI,IAAI,CAAC,MAAM,EAAE,EAAE,OAAO;;AAE1B,IAAI,MAAM,CAAC,IAAI,GAAG,MAAM,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC;AACtD,IAAI,MAAM,CAAC,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC;AACvD,IAAI,MAAM,CAAC,YAAY,CAAC,gBAAgB,EAAE,MAAM,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;AACzG,IAAI,MAAM,CAAC,YAAY,CAAC,gBAAgB,EAAE,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;AACnE,IAAI,MAAM,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,SAAS,EAAE,CAAC;AAC5D,IAAI,MAAM,CAAC,YAAY,CAAC,gBAAgB,EAAE,CAAC,EAAE,MAAM,CAAC,UAAU,EAAE,CAAC,EAAE,EAAE,MAAM,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACxG;;;;"}