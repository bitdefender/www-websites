{"version":3,"file":"subscription.js","sources":["../../../../../../src/scripts/libs/store/resolver/staticAttributes/subscription.js"],"sourcesContent":["import { writeValue } from \"../resolver.js\";\n\n/**\n * @param {HTMLElement} element \n * @param {import(\"../resolver.js\").Context} context \n */\nexport const resolve = (element, { product, option, devices }) => {\n    if (element.dataset.storeSubscription === undefined || !option) { return; }\n\n    if (element.nodeName === \"SELECT\") {\n        element.innerHTML = \"\";\n        for (const subscription of product.getSubscriptions(\"years\", devices)) {\n            const selectOption = new Option(\n                subscription === 1\n                    ? `${subscription} ${element.dataset.storeSubscriptionTextSingular}`\n                    : `${subscription} ${element.dataset.storeSubscriptionTextPlural}`,\n                subscription,\n                subscription === option.getSubscription(\"years\"),\n                subscription === option.getSubscription(\"years\")\n            )\n            element.add(selectOption);\n        }\n        return;\n    }\n\n    switch (element.dataset.storeSubscription) {\n        case \"years\":\n            if (option.getSubscription(\"years\")) {\n                writeValue(element, option.getSubscription(\"years\"));\n            }\n            break;\n        case \"months\":\n            if (option.getSubscription(\"months\")) {\n                writeValue(element, option.getSubscription(\"months\"));\n            }\n            break;\n    }\n}"],"names":["resolve","element","product","option","devices","subscription","selectOption","writeValue"],"mappings":"4CAMY,MAACA,EAAU,CAACC,EAAS,CAAE,QAAAC,EAAS,OAAAC,EAAQ,QAAAC,CAAO,IAAO,CAC9D,GAAI,EAAAH,EAAQ,QAAQ,oBAAsB,QAAa,CAACE,GAExD,IAAIF,EAAQ,WAAa,SAAU,CAC/BA,EAAQ,UAAY,GACpB,UAAWI,KAAgBH,EAAQ,iBAAiB,QAASE,CAAO,EAAG,CACnE,MAAME,EAAe,IAAI,OACrBD,IAAiB,EACX,GAAGA,CAAY,IAAIJ,EAAQ,QAAQ,6BAA6B,GAChE,GAAGI,CAAY,IAAIJ,EAAQ,QAAQ,2BAA2B,GACpEI,EACAA,IAAiBF,EAAO,gBAAgB,OAAO,EAC/CE,IAAiBF,EAAO,gBAAgB,OAAO,CAC/D,EACYF,EAAQ,IAAIK,CAAY,CACpC,CACQ,MACR,CAEI,OAAQL,EAAQ,QAAQ,kBAAiB,CACrC,IAAK,QACGE,EAAO,gBAAgB,OAAO,GAC9BI,EAAWN,EAASE,EAAO,gBAAgB,OAAO,CAAC,EAEvD,MACJ,IAAK,SACGA,EAAO,gBAAgB,QAAQ,GAC/BI,EAAWN,EAASE,EAAO,gBAAgB,QAAQ,CAAC,EAExD,KACZ,EACA"}