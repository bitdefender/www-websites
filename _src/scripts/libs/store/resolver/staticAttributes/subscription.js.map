{"version":3,"file":"subscription.js","sources":["../../../../../../src/scripts/libs/store/resolver/staticAttributes/subscription.js"],"sourcesContent":["import { writeValue } from \"../resolver.js\";\n\n/**\n * @param {HTMLElement} element \n * @param {import(\"../resolver.js\").Context} context \n */\nexport const resolve = (element, { product, option, devices }) => {\n    if (element.dataset.storeSubscription === undefined || !option) { return; }\n\n    if (element.nodeName === \"SELECT\") {\n        element.innerHTML = \"\";\n        for (const subscription of product.getSubscriptions(\"years\", devices)) {\n            const selectOption = new Option(\n                subscription === 1\n                    ? `${subscription} ${element.dataset.storeSubscriptionTextSingular}`\n                    : `${subscription} ${element.dataset.storeSubscriptionTextPlural}`,\n                subscription,\n                subscription === option.getSubscription(\"years\"),\n                subscription === option.getSubscription(\"years\")\n            )\n            element.add(selectOption);\n        }\n        return;\n    }\n\n    switch (element.dataset.storeSubscription) {\n        case \"years\":\n            if (option.getSubscription(\"years\")) {\n                writeValue(element, option.getSubscription(\"years\"));\n            }\n            break;\n        case \"months\":\n            if (option.getSubscription(\"months\")) {\n                writeValue(element, option.getSubscription(\"months\"));\n            }\n            break;\n    }\n}"],"names":[],"mappings":";;AAEA;AACA;AACA;AACA;AACY,MAAC,OAAO,GAAG,CAAC,OAAO,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK;AAClE,IAAI,IAAI,OAAO,CAAC,OAAO,CAAC,iBAAiB,KAAK,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,OAAO;;AAE7E,IAAI,IAAI,OAAO,CAAC,QAAQ,KAAK,QAAQ,EAAE;AACvC,QAAQ,OAAO,CAAC,SAAS,GAAG,EAAE;AAC9B,QAAQ,KAAK,MAAM,YAAY,IAAI,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE;AAC/E,YAAY,MAAM,YAAY,GAAG,IAAI,MAAM;AAC3C,gBAAgB,YAAY,KAAK;AACjC,sBAAsB,CAAC,EAAE,YAAY,CAAC,CAAC,EAAE,OAAO,CAAC,OAAO,CAAC,6BAA6B,CAAC;AACvF,sBAAsB,CAAC,EAAE,YAAY,CAAC,CAAC,EAAE,OAAO,CAAC,OAAO,CAAC,2BAA2B,CAAC,CAAC;AACtF,gBAAgB,YAAY;AAC5B,gBAAgB,YAAY,KAAK,MAAM,CAAC,eAAe,CAAC,OAAO,CAAC;AAChE,gBAAgB,YAAY,KAAK,MAAM,CAAC,eAAe,CAAC,OAAO;AAC/D;AACA,YAAY,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC;AACrC;AACA,QAAQ;AACR;;AAEA,IAAI,QAAQ,OAAO,CAAC,OAAO,CAAC,iBAAiB;AAC7C,QAAQ,KAAK,OAAO;AACpB,YAAY,IAAI,MAAM,CAAC,eAAe,CAAC,OAAO,CAAC,EAAE;AACjD,gBAAgB,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;AACpE;AACA,YAAY;AACZ,QAAQ,KAAK,QAAQ;AACrB,YAAY,IAAI,MAAM,CAAC,eAAe,CAAC,QAAQ,CAAC,EAAE;AAClD,gBAAgB,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;AACrE;AACA,YAAY;AACZ;AACA;;;;"}