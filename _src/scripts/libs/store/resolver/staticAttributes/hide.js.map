{"version":3,"file":"hide.js","sources":["../../../../../../src/scripts/libs/store/resolver/staticAttributes/hide.js"],"sourcesContent":["import { parseKey } from \"../resolver.js\";\n\n/**\n * @param {HTMLElement} element \n * @param {import(\"../resolver.js\").Context} context \n */\nexport const resolve = (element, { product, option }) => {\n    if (!element.dataset.storeHide) { return; }\n\n    const [condition, type] = element.dataset.storeHide.split(\";\");\n    const [key, value] = condition ? condition.split(\"=\") : [];\n    const [, hideType] = type ? type.split(\"=\") : [];\n\n    /**\n     * Default hide is display none\n     * @param {HTMLElement} element \n     */\n    const hide = (element) => {\n        switch (hideType) {\n            case \"visibility\":\n                element.classList.add('global-visibility-hidden');\n                break;\n            case \"opacity\":\n                element.classList.add('global-opacity-zero');\n                break;\n            default:\n                element.classList.add('global-display-none');\n                break;\n        }\n    };\n\n    /**\n     * Default show is display unset\n     * @param {HTMLElement} element \n     */\n    const show = (element) => {\n        element.classList.remove('global-visibility-hidden', 'global-opacity-zero', 'global-display-none');\n    };\n\n    switch (key) {\n        case \"price\":\n            if (!option) { break; }\n            if (value === \"full\" && option.getPrice(\"value\")) {\n                hide(element);\n                break;\n            }\n            if (value === \"discounted\" && option.getDiscountedPrice(\"value\")) {\n                hide(element);\n                break;\n            }\n            if (value === undefined && option.getDiscountedPrice(\"value\") && option.getPrice(\"value\")) {\n                hide(element);\n                break;\n            }\n\n            show(element);\n            break;\n        case \"no-price\":\n            if (!option) { break; }\n            if (value === \"full\" && !option.getPrice(\"value\")) {\n                hide(element);\n                break;\n            }\n            if (value === \"discounted\" && !option.getDiscountedPrice(\"value\")) {\n                hide(element);\n                break;\n            }\n            if (value === undefined && !option.getDiscountedPrice(\"value\") && !option.getPrice(\"value\")) {\n                hide(element);\n                break;\n            }\n\n            show(element);\n            break;\n        case \"no-option\":\n            if (value === undefined && !option) {\n                hide(element);\n                break;\n            }\n            if (!product.getOption(...parseKey(value))) {\n                hide(element);\n                break;\n            }\n\n            show(element);\n            break;\n        case \"if-true\":\n            if (value === \"true\") {\n                hide(element);\n            }\n            break;\n        case \"if-false\":\n            if (value === \"false\") {\n                hide(element);\n            }\n            break;\n        case \"if-product\":\n            if (value === product.getId()) {\n                hide(element);\n            } else {\n                show(element);\n            }\n            break;\n        case \"if-not-product\":\n            if (value !== product.getId()) {\n                hide(element);\n            } else {\n                show(element);\n            }\n            break;\n        case \"if-devices\":\n            if (Number(value) === option.getDevices()) {\n                hide(element);\n            } else {\n                show(element);\n            }\n            break;\n        case \"if-not-devices\":\n            if (Number(value) !== option.getDevices()) {\n                hide(element);\n            } else {\n                show(element);\n            }\n            break;\n        case \"if-years\":\n            if (Number(value) === option.getSubscription(\"years\")) {\n                hide(element);\n            } else {\n                show(element);\n            }\n            break;\n        case \"if-not-years\":\n            if (Number(value) !== option.getSubscription(\"years\")) {\n                hide(element);\n            } else {\n                show(element);\n            }\n            break;\n    }\n}"],"names":[],"mappings":"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"}