{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["../../src/scripts/lib-franklin-api.js"],"sourcesContent":["/**\n * @param {HTMLDivElement} shadoRoot\n * @param {string} origin - prepends the origin to the relative links\n */\nconst updateLinkSources = (shadoRoot, origin) => {\n  shadoRoot\n    .querySelectorAll('source')\n    .forEach(source => source.srcset = new URL(source.getAttribute(\"srcset\"), origin).href);\n\n  shadoRoot\n    .querySelectorAll('img')\n    .forEach(image => image.src = new URL(image.getAttribute(\"src\"), origin).href);\n};\n\nlet ICONS_CACHE = {};\nasync function decorateIcons(element) {\n  // Prepare the inline sprite\n  let svgSprite = element.getElementById('franklin-svg-sprite');\n  if (!svgSprite) {\n    const div = document.createElement('div');\n    div.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"franklin-svg-sprite\" style=\"display: none\"></svg>';\n    svgSprite = div.firstElementChild;\n    element.append(div.firstElementChild);\n  }\n  // Download all new icons\n  const icons = [...element.querySelectorAll('span.icon')];\n  await Promise.all(icons.map(async (span) => {\n    const iconName = Array.from(span.classList).find((c) => c.startsWith('icon-')).substring(5);\n    if (!ICONS_CACHE[iconName]) {\n      ICONS_CACHE[iconName] = true;\n      try {\n        let dynamicIconsSharepointPath = 'https://www.bitdefender.com/common/icons/';\n        if (window.location.hostname.includes('bitdefender.co.uk')) {\n          dynamicIconsSharepointPath = 'https://www.bitdefender.co.uk/content/dam/franklin/';\n        }\n        if (window.location.hostname.includes('bitdefender.fr')) {\n          dynamicIconsSharepointPath = 'https://www.bitdefender.fr/content/dam/franklin/';\n        }\n        // check for localhost\n        if (window.location.hostname === 'localhost') {\n          dynamicIconsSharepointPath = 'https://www.bitdefender.com/common/icons/';\n        }\n        const response = await fetch(`${dynamicIconsSharepointPath}${iconName}.svg`);\n        if (!response.ok) {\n          ICONS_CACHE[iconName] = false;\n          return;\n        }\n        // Styled icons don't play nice with the sprite approach because of shadow dom isolation\n        const svg = await response.text();\n        if (svg.match(/(<style | class=)/)) {\n          ICONS_CACHE[iconName] = { styled: true, html: svg };\n        } else {\n          ICONS_CACHE[iconName] = {\n            html: svg\n              .replace('<svg', `<symbol id=\"icons-sprite-${iconName}\"`)\n              .replace(/ width=\".*?\"/, '')\n              .replace(/ height=\".*?\"/, '')\n              .replace('</svg>', '</symbol>'),\n          };\n        }\n      } catch (error) {\n        ICONS_CACHE[iconName] = false;\n        // eslint-disable-next-line no-console\n        console.error(error);\n      }\n    }\n  }));\n\n  const symbols = Object\n    .keys(ICONS_CACHE).filter((k) => !svgSprite.querySelector(`#icons-sprite-${k}`))\n    .map((k) => ICONS_CACHE[k])\n    .filter((v) => !v.styled)\n    .map((v) => v.html)\n    .join('\\n');\n  svgSprite.innerHTML += symbols;\n\n  icons.forEach((span) => {\n    const iconName = Array.from(span.classList).find((c) => c.startsWith('icon-')).substring(5);\n    const parent = span.firstElementChild?.tagName === 'A' ? span.firstElementChild : span;\n    // Styled icons need to be inlined as-is, while unstyled ones can leverage the sprite\n    if (ICONS_CACHE[iconName].styled) {\n      parent.innerHTML = ICONS_CACHE[iconName].html;\n    } else {\n      parent.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\"><use href=\"#icons-sprite-${iconName}\"/></svg>`;\n    }\n  });\n}\n\n/**\n * Sanitizes a string for use as a js property name.\n * @param {string} name The unsanitized string\n * @returns {string} The camelCased name\n */\nexport function toCamelCase(name) {\n  return toClassName(name).replace(/-([a-z])/g, (g) => g[1].toUpperCase());\n}\n\n/**\n * Sanitizes a string for use as class name.\n * @param {string} name The unsanitized string\n * @returns {string} The class name\n */\nexport function toClassName(name) {\n  return typeof name === 'string'\n    ? name.toLowerCase()\n      .replace(/[^\\w\\u4e00-\\u9fa5]/g, '-') // Include Chinese characters in the regular expression\n      .replace(/-+/g, '-') // Replace consecutive hyphens with a single hyphen\n      .replace(/^-|-$/g, '') // Remove leading and trailing hyphens\n    : '';\n}\n\n/**\n * Extracts the config from a block.\n * @param {Element} block The block element\n * @returns {object} The block config\n */\nexport function readBlockConfig(block) {\n  const config = {};\n  block.querySelectorAll(':scope > div').forEach((row) => {\n    if (row.children) {\n      const cols = [...row.children];\n      if (cols[1]) {\n        const col = cols[1];\n        const name = toClassName(cols[0].textContent);\n        let value = '';\n        if (col.querySelector('a')) {\n          const as = [...col.querySelectorAll('a')];\n          if (as.length === 1) {\n            value = as[0].href;\n          } else {\n            value = as.map((a) => a.href);\n          }\n        } else if (col.querySelector('img')) {\n          const imgs = [...col.querySelectorAll('img')];\n          if (imgs.length === 1) {\n            value = imgs[0].src;\n          } else {\n            value = imgs.map((img) => img.src);\n          }\n        } else if (col.querySelector('p')) {\n          const ps = [...col.querySelectorAll('p')];\n          if (ps.length === 1) {\n            value = ps[0].textContent;\n          } else {\n            value = ps.map((p) => p.textContent);\n          }\n        } else value = row.children[1].textContent;\n        config[name] = value;\n      }\n    }\n  });\n  return config;\n}\n\nexport function decorateSections(main) {\n  main.querySelectorAll(':scope > div').forEach((section) => {\n    const wrappers = [];\n    let defaultContent = false;\n    [...section.children].forEach((e) => {\n      if (e.tagName === 'DIV' || !defaultContent) {\n        const wrapper = document.createElement('div');\n        wrappers.push(wrapper);\n        defaultContent = e.tagName !== 'DIV';\n        if (defaultContent) wrapper.classList.add('default-content-wrapper');\n      }\n      wrappers[wrappers.length - 1].append(e);\n    });\n    wrappers.forEach((wrapper) => section.append(wrapper));\n    section.classList.add('section');\n\n    /* process section metadata */\n    const sectionMeta = section.querySelector('div.section-metadata');\n    if (sectionMeta) {\n      const meta = readBlockConfig(sectionMeta);\n      Object.keys(meta).forEach((key) => {\n        if (key === 'style') {\n          const styles = meta.style.split(',').map((style) => toClassName(style.trim()));\n          styles.forEach((style) => section.classList.add(style));\n        } else {\n          section.dataset[toCamelCase(key)] = meta[key];\n        }\n      });\n      sectionMeta.parentNode.remove();\n    }\n  });\n}\n\nfunction decorateBlock(block) {\n  const shortBlockName = block.classList[0];\n  if (shortBlockName) {\n    block.classList.add('block');\n    block.dataset.blockName = shortBlockName;\n    block.dataset.blockStatus = 'initialized';\n    const blockWrapper = block.parentElement;\n    blockWrapper.classList.add(`${shortBlockName}-wrapper`);\n    const section = block.closest('.section');\n    if (section) section.classList.add(`${shortBlockName}-container`);\n  }\n}\n\nexport async function loadComponent(offer, block, options, selector)  {\n  const offerURL = new URL(offer);\n  const origin = offerURL.origin;\n  const offerFolder = offerURL.pathname.split(\"/\").slice(0,-1).join(\"/\");\n  const container = selector ? document.querySelector(selector) : document.createElement('div');\n  const shadowRoot = container.attachShadow({ mode: 'open' });\n\n  shadowRoot.innerHTML = `<link rel=\"stylesheet\" href=\"${origin}/_src/blocks/${block}/${block}.css\" type=\"text/css\">`;\n\n  const [html, js] = await Promise.all([\n    fetch(offer).then(r => r.text()),\n    import(`${origin}/_src/blocks/${block}/${block}.js`)\n  ])\n  // If the block is a particle background,\n  // a new div is created and appended to the body so the external library can work\n  if (block === \"particle-background\") {\n    const newDiv = document.createElement('div');\n    newDiv.style.display = \"none\";\n    newDiv.innerHTML += html;\n    decorateSections(newDiv);\n    decorateBlock(newDiv.querySelector(`.${block}`));\n    updateLinkSources(newDiv, `${origin}${offerFolder}/`);\n    document.body.appendChild(newDiv);\n    await js.default(newDiv, {...options});\n    shadowRoot.appendChild(newDiv);\n    newDiv.style.display = \"block\";\n  } else {\n    // in order to have a structure as close as possible as in franklin\n    // when we import in aem, we also decorate the sections and the block\n    // the functions are taken from lib-franklin.js\n    let franklinHTMLStructure = document.createElement('div')\n    franklinHTMLStructure.innerHTML = html;\n    decorateSections(franklinHTMLStructure);\n    decorateBlock(franklinHTMLStructure.querySelector(`.${block}`));\n    shadowRoot.innerHTML +=  franklinHTMLStructure.innerHTML;\n    updateLinkSources(shadowRoot, `${origin}${offerFolder}/`);\n    await js.default(shadowRoot.querySelector('.section'), {...options});\n    decorateIcons(shadowRoot);\n\n    // Get the current page path without the hash part and query\n    const currentPagePath = window.location.protocol + '//' + window.location.host + window.location.pathname;\n    // get all the links that pointing within the page with a hash\n    shadowRoot.querySelectorAll('a[href*=\"#\"]').forEach(link => {\n      let linkAnchor = link.getAttribute('href');\n      try {\n        const parsedLinkAnchor = new URL(linkAnchor, currentPagePath);\n        const linkAnchorPath = parsedLinkAnchor.protocol + '//' + parsedLinkAnchor.host + parsedLinkAnchor.pathname;\n        if (currentPagePath === linkAnchorPath) {\n          link.addEventListener('click', (event) => {\n            event.preventDefault();\n  \n            linkAnchor = '#' + linkAnchor.split('#')[1];\n            const target = document.querySelector(linkAnchor);\n            target.scrollIntoView({ behavior: 'smooth' });\n          });\n        }\n      } catch (e) {\n        return;\n      }\n    });\n  }\n\n  return container;\n}\n"],"file":"scripts/lib-franklin-api.js"}