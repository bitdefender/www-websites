import{BrowserClient as f}from"./client.js";import{DEBUG_BUILD as i}from"./debug-build.js";import{WINDOW as r}from"./helpers.js";import{breadcrumbsIntegration as d}from"./integrations/breadcrumbs.js";import{browserApiErrorsIntegration as u}from"./integrations/browserapierrors.js";import{browserSessionIntegration as l}from"./integrations/browsersession.js";import{globalHandlersIntegration as g}from"./integrations/globalhandlers.js";import{httpContextIntegration as E}from"./integrations/httpcontext.js";import{linkedErrorsIntegration as h}from"./integrations/linkederrors.js";import{defaultStackParser as w}from"./stack-parsers.js";import{makeFetchTransport as I}from"./transports/fetch.js";import{consoleSandbox as b,logger as x}from"../../../../core/build/esm/utils-hoist/logger.js";import{supportsFetch as S}from"../../../../core/build/esm/utils-hoist/supports.js";import{getIntegrationsToSetup as y}from"../../../../core/build/esm/integration.js";import{stackParserFromStackParserOptions as _}from"../../../../core/build/esm/utils-hoist/stacktrace.js";import{initAndBind as k}from"../../../../core/build/esm/sdk.js";import{getLocationHref as P}from"../../../../core/build/esm/utils-hoist/browser.js";import{inboundFiltersIntegration as O}from"../../../../core/build/esm/integrations/eventFilters.js";import{functionToStringIntegration as A}from"../../../../core/build/esm/integrations/functiontostring.js";import{dedupeIntegration as T}from"../../../../core/build/esm/integrations/dedupe.js";function D(t){return[O(),A(),u(),d(),g(),h(),T(),E(),l()]}function F(t={}){return{...{defaultIntegrations:D(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:r.SENTRY_RELEASE?.id,sendClientReports:!0},...N(t)}}function N(t){const o={};for(const n of Object.getOwnPropertyNames(t)){const e=n;t[e]!==void 0&&(o[e]=t[e])}return o}function R(){const t=typeof r.window<"u"&&r;if(!t)return!1;const o=t.chrome?"chrome":"browser",e=t[o]?.runtime?.id,s=P()||"",a=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],m=!!e&&r===r.top&&a.some(c=>s.startsWith(`${c}//`)),p=typeof t.nw<"u";return!!e&&!m&&!p}function tt(t={}){const o=F(t);if(!o.skipBrowserExtensionCheck&&R()){i&&b(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}i&&!S()&&x.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill.");const n={...o,stackParser:_(o.stackParser||w),integrations:y(o),transport:o.transport||I};return k(f,n)}export{F as applyDefaultOptions,D as getDefaultIntegrations,tt as init};
//# sourceMappingURL=sdk.js.map
