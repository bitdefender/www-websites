{"version":3,"file":"transactionEvent.js","sources":["../../../../../../../node_modules/@sentry/core/build/esm/utils/transactionEvent.js"],"sourcesContent":["import { SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME, SEMANTIC_ATTRIBUTE_PROFILE_ID } from '../semanticAttributes.js';\n\n/**\n * Converts a transaction event to a span JSON object.\n */\nfunction convertTransactionEventToSpanJson(event) {\n  const { trace_id, parent_span_id, span_id, status, origin, data, op } = event.contexts?.trace ?? {};\n\n  return {\n    data: data ?? {},\n    description: event.transaction,\n    op,\n    parent_span_id,\n    span_id: span_id ?? '',\n    start_timestamp: event.start_timestamp ?? 0,\n    status,\n    timestamp: event.timestamp,\n    trace_id: trace_id ?? '',\n    origin,\n    profile_id: data?.[SEMANTIC_ATTRIBUTE_PROFILE_ID] ,\n    exclusive_time: data?.[SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME] ,\n    measurements: event.measurements,\n    is_segment: true,\n  };\n}\n\n/**\n * Converts a span JSON object to a transaction event.\n */\nfunction convertSpanJsonToTransactionEvent(span) {\n  return {\n    type: 'transaction',\n    timestamp: span.timestamp,\n    start_timestamp: span.start_timestamp,\n    transaction: span.description,\n    contexts: {\n      trace: {\n        trace_id: span.trace_id,\n        span_id: span.span_id,\n        parent_span_id: span.parent_span_id,\n        op: span.op,\n        status: span.status,\n        origin: span.origin,\n        data: {\n          ...span.data,\n          ...(span.profile_id && { [SEMANTIC_ATTRIBUTE_PROFILE_ID]: span.profile_id }),\n          ...(span.exclusive_time && { [SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]: span.exclusive_time }),\n        },\n      },\n    },\n    measurements: span.measurements,\n  };\n}\n\nexport { convertSpanJsonToTransactionEvent, convertTransactionEventToSpanJson };\n//# sourceMappingURL=transactionEvent.js.map\n"],"names":["convertTransactionEventToSpanJson","event","trace_id","parent_span_id","span_id","status","origin","data","op","SEMANTIC_ATTRIBUTE_PROFILE_ID","SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME","convertSpanJsonToTransactionEvent","span"],"mappings":"gHAKA,SAASA,EAAkCC,EAAO,CAChD,KAAM,CAAE,SAAAC,EAAU,eAAAC,EAAgB,QAAAC,EAAS,OAAAC,EAAQ,OAAAC,EAAQ,KAAAC,EAAM,GAAAC,CAAE,EAAKP,EAAM,UAAU,OAAS,CAAE,EAEnG,MAAO,CACL,KAAMM,GAAQ,CAAE,EAChB,YAAaN,EAAM,YACnB,GAAAO,EACA,eAAAL,EACA,QAASC,GAAW,GACpB,gBAAiBH,EAAM,iBAAmB,EAC1C,OAAAI,EACA,UAAWJ,EAAM,UACjB,SAAUC,GAAY,GACtB,OAAAI,EACA,WAAYC,IAAOE,CAA6B,EAChD,eAAgBF,IAAOG,CAAiC,EACxD,aAAcT,EAAM,aACpB,WAAY,EACb,CACH,CAKA,SAASU,EAAkCC,EAAM,CAC/C,MAAO,CACL,KAAM,cACN,UAAWA,EAAK,UAChB,gBAAiBA,EAAK,gBACtB,YAAaA,EAAK,YAClB,SAAU,CACR,MAAO,CACL,SAAUA,EAAK,SACf,QAASA,EAAK,QACd,eAAgBA,EAAK,eACrB,GAAIA,EAAK,GACT,OAAQA,EAAK,OACb,OAAQA,EAAK,OACb,KAAM,CACJ,GAAGA,EAAK,KACR,GAAIA,EAAK,YAAc,CAAE,CAACH,CAA6B,EAAGG,EAAK,YAC/D,GAAIA,EAAK,gBAAkB,CAAE,CAACF,CAAiC,EAAGE,EAAK,eACxE,CACF,CACF,EACD,aAAcA,EAAK,YACpB,CACH","x_google_ignoreList":[0]}