import{DEBUG_BUILD as p}from"../debug-build.js";import{htmlTreeAsString as y}from"./browser.js";import{isError as l,isEvent as a,isInstanceOf as g,isElement as d}from"./is.js";import{logger as u}from"./logger.js";import{truncate as c}from"./string.js";function P(t,e,r){if(!(e in t))return;const n=t[e];if(typeof n!="function")return;const o=r(n);typeof o=="function"&&_(o,n);try{t[e]=o}catch{p&&u.log(`Failed to replace method "${e}" in object`,t)}}function m(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{p&&u.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function _(t,e){try{const r=e.prototype||{};t.prototype=e.prototype=r,m(t,"__sentry_original__",e)}catch{}}function w(t){return t.__sentry_original__}function O(t){if(l(t))return{message:t.message,name:t.name,stack:t.stack,...f(t)};if(a(t)){const e={type:t.type,target:s(t.target),currentTarget:s(t.currentTarget),...f(t)};return typeof CustomEvent<"u"&&g(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function s(t){try{return d(t)?y(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function f(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function F(t,e=40){const r=Object.keys(O(t));r.sort();const n=r[0];if(!n)return"[object has no keys]";if(n.length>=e)return c(n,e);for(let o=r.length;o>0;o--){const i=r.slice(0,o).join(", ");if(!(i.length>e))return o===r.length?i:c(i,e)}return""}export{m as addNonEnumerableProperty,O as convertToPlainObject,F as extractExceptionKeysForMessage,P as fill,w as getOriginalFunction,_ as markFunctionWrapped};
//# sourceMappingURL=object.js.map
