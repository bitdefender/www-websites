{"version":3,"file":"breadcrumbs.js","sources":["../../../../../../node_modules/@sentry/core/build/esm/breadcrumbs.js"],"sourcesContent":["import { getClient, getIsolationScope } from './currentScopes.js';\nimport { consoleSandbox } from './utils-hoist/logger.js';\nimport { dateTimestampInSeconds } from './utils-hoist/time.js';\n\n/**\n * Default maximum number of breadcrumbs added to an event. Can be overwritten\n * with {@link Options.maxBreadcrumbs}.\n */\nconst DEFAULT_BREADCRUMBS = 100;\n\n/**\n * Records a new breadcrumb which will be attached to future events.\n *\n * Breadcrumbs will be added to subsequent events to provide more context on\n * user's actions prior to an error or crash.\n */\nfunction addBreadcrumb(breadcrumb, hint) {\n  const client = getClient();\n  const isolationScope = getIsolationScope();\n\n  if (!client) return;\n\n  const { beforeBreadcrumb = null, maxBreadcrumbs = DEFAULT_BREADCRUMBS } = client.getOptions();\n\n  if (maxBreadcrumbs <= 0) return;\n\n  const timestamp = dateTimestampInSeconds();\n  const mergedBreadcrumb = { timestamp, ...breadcrumb };\n  const finalBreadcrumb = beforeBreadcrumb\n    ? (consoleSandbox(() => beforeBreadcrumb(mergedBreadcrumb, hint)) )\n    : mergedBreadcrumb;\n\n  if (finalBreadcrumb === null) return;\n\n  if (client.emit) {\n    client.emit('beforeAddBreadcrumb', finalBreadcrumb, hint);\n  }\n\n  isolationScope.addBreadcrumb(finalBreadcrumb, maxBreadcrumbs);\n}\n\nexport { addBreadcrumb };\n//# sourceMappingURL=breadcrumbs.js.map\n"],"names":["DEFAULT_BREADCRUMBS","addBreadcrumb","breadcrumb","hint","client","getClient","isolationScope","getIsolationScope","beforeBreadcrumb","maxBreadcrumbs","mergedBreadcrumb","dateTimestampInSeconds","finalBreadcrumb","consoleSandbox"],"mappings":"8LAQA,MAAMA,EAAsB,IAQ5B,SAASC,EAAcC,EAAYC,EAAM,CACvC,MAAMC,EAASC,EAAW,EACpBC,EAAiBC,EAAmB,EAE1C,GAAI,CAACH,EAAQ,OAEb,KAAM,CAAE,iBAAAI,EAAmB,KAAM,eAAAC,EAAiBT,CAAqB,EAAGI,EAAO,WAAY,EAE7F,GAAIK,GAAkB,EAAG,OAGzB,MAAMC,EAAmB,CAAE,UADTC,EAAwB,EACJ,GAAGT,CAAY,EAC/CU,EAAkBJ,EACnBK,EAAe,IAAML,EAAiBE,EAAkBP,CAAI,CAAC,EAC9DO,EAEAE,IAAoB,OAEpBR,EAAO,MACTA,EAAO,KAAK,sBAAuBQ,EAAiBT,CAAI,EAG1DG,EAAe,cAAcM,EAAiBH,CAAc,EAC9D","x_google_ignoreList":[0]}