import{DEBUG_BUILD as a}from"../debug-build.js";import{getActiveSpan as i,getRootSpan as l}from"../utils/spanUtils.js";import{addGlobalErrorInstrumentationHandler as m}from"../utils-hoist/instrument/globalError.js";import{addGlobalUnhandledRejectionInstrumentationHandler as s}from"../utils-hoist/instrument/globalUnhandledRejection.js";import{logger as c}from"../utils-hoist/logger.js";import{SPAN_STATUS_ERROR as p}from"./spanstatus.js";let e=!1;function b(){e||(e=!0,m(r),s(r))}function r(){const o=i(),t=o&&l(o);if(t){const n="internal_error";a&&c.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:p,message:n})}}r.tag="sentry_tracingErrorCallback";export{b as registerSpanErrorInstrumentation};
//# sourceMappingURL=errors.js.map
