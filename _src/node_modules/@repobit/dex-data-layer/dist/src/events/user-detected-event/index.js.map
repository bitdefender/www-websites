{"version":3,"file":"index.js","sources":["../../../../../../../../node_modules/@repobit/dex-data-layer/dist/src/events/user-detected-event/index.js"],"sourcesContent":["export class UserDetectedEvent {\n    event = 'user detected';\n    user;\n    constructor(page, userData) {\n        if (page && userData) {\n            const emarsysID = page.getParamValue('ems-uid') || page.getParamValue('sc_uid') || undefined;\n            this.user = {\n                loggedIN: userData.ID ? true : false\n            };\n            if (userData.ID) {\n                this.user.ID = userData.ID;\n            }\n            if (emarsysID) {\n                this.user.emarsysID = emarsysID;\n            }\n            if (userData.productFinding) {\n                this.user.productFinding = userData.productFinding;\n            }\n        }\n        else {\n            // find the existing user detected entry\n            const existingUserDetectedEvent = window.adobeDataLayer.find(adobeDataLayerEntry => adobeDataLayerEntry.event === 'user detected');\n            if (existingUserDetectedEvent) {\n                this.user = { ...existingUserDetectedEvent.user };\n            }\n            else {\n                this.user = { loggedIN: false };\n            }\n        }\n    }\n}\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":"AAAO,MAAM,iBAAiB,CAAC;AAC/B,IAAI,KAAK,GAAG,eAAe;AAC3B,IAAI,IAAI;AACR,IAAI,WAAW,CAAC,IAAI,EAAE,QAAQ,EAAE;AAChC,QAAQ,IAAI,IAAI,IAAI,QAAQ,EAAE;AAC9B,YAAY,MAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,SAAS;AACxG,YAAY,IAAI,CAAC,IAAI,GAAG;AACxB,gBAAgB,QAAQ,EAAE,QAAQ,CAAC,EAAE,GAAG,IAAI,GAAG;AAC/C,aAAa;AACb,YAAY,IAAI,QAAQ,CAAC,EAAE,EAAE;AAC7B,gBAAgB,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE;AAC1C;AACA,YAAY,IAAI,SAAS,EAAE;AAC3B,gBAAgB,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,SAAS;AAC/C;AACA,YAAY,IAAI,QAAQ,CAAC,cAAc,EAAE;AACzC,gBAAgB,IAAI,CAAC,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,cAAc;AAClE;AACA;AACA,aAAa;AACb;AACA,YAAY,MAAM,yBAAyB,GAAG,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,mBAAmB,IAAI,mBAAmB,CAAC,KAAK,KAAK,eAAe,CAAC;AAC9I,YAAY,IAAI,yBAAyB,EAAE;AAC3C,gBAAgB,IAAI,CAAC,IAAI,GAAG,EAAE,GAAG,yBAAyB,CAAC,IAAI,EAAE;AACjE;AACA,iBAAiB;AACjB,gBAAgB,IAAI,CAAC,IAAI,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE;AAC/C;AACA;AACA;AACA;;;;","x_google_ignoreList":[0]}