{"version":3,"file":"index.js","sources":["../../../../../../../../node_modules/@repobit/dex-data-layer/dist/src/events/page-load-started-event/index.js"],"sourcesContent":["import { UserAgent } from \"@repobit/dex-utils\";\nimport { getCurrentDate, getCurrentTime } from '../utils.js';\nexport class PageLoadStartedEvent {\n    event = 'page load started';\n    pageInstanceID;\n    page;\n    constructor(page, pageInfo, pageAttributes = {}) {\n        this.pageInstanceID = page.environment;\n        const [section = '', subSection = '', subSubSection = '', subSubSubSection = ''] = pageInfo.name.split(':');\n        const topLevelDomain = window.location.hostname.split('.').splice(1, 2)\n            .join('.');\n        this.page = {\n            info: {\n                ...pageInfo,\n                section,\n                subSection,\n                subSubSection,\n                subSubSubSection,\n                destinationURL: window.location.href,\n                queryString: window.location.search,\n                referringURL: page.getParamValue('ref') || page.getParamValue('adobe_mc_ref') || document.referrer,\n                serverName: window.location.hostname,\n                sysEnv: UserAgent.os || '',\n                language: page.locale\n            },\n            attributes: {\n                promotionID: page.getParamValue('pid') || '',\n                internalPromotionID: page.getParamValue('icid') || '',\n                trackingID: page.getParamValue('cid') || '',\n                time: getCurrentTime(),\n                date: getCurrentDate(),\n                domain: topLevelDomain,\n                domainPeriod: window.location.hostname.split('.').length - 1,\n                ...pageAttributes\n            }\n        };\n    }\n}\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":";;;;AAEO,MAAM,oBAAoB,CAAC;AAClC,IAAI,KAAK,GAAG,mBAAmB;AAC/B,IAAI,cAAc;AAClB,IAAI,IAAI;AACR,IAAI,WAAW,CAAC,IAAI,EAAE,QAAQ,EAAE,cAAc,GAAG,EAAE,EAAE;AACrD,QAAQ,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW;AAC9C,QAAQ,MAAM,CAAC,OAAO,GAAG,EAAE,EAAE,UAAU,GAAG,EAAE,EAAE,aAAa,GAAG,EAAE,EAAE,gBAAgB,GAAG,EAAE,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;AACnH,QAAQ,MAAM,cAAc,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC;AAC9E,aAAa,IAAI,CAAC,GAAG,CAAC;AACtB,QAAQ,IAAI,CAAC,IAAI,GAAG;AACpB,YAAY,IAAI,EAAE;AAClB,gBAAgB,GAAG,QAAQ;AAC3B,gBAAgB,OAAO;AACvB,gBAAgB,UAAU;AAC1B,gBAAgB,aAAa;AAC7B,gBAAgB,gBAAgB;AAChC,gBAAgB,cAAc,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI;AACpD,gBAAgB,WAAW,EAAE,MAAM,CAAC,QAAQ,CAAC,MAAM;AACnD,gBAAgB,YAAY,EAAE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,QAAQ,CAAC,QAAQ;AAClH,gBAAgB,UAAU,EAAE,MAAM,CAAC,QAAQ,CAAC,QAAQ;AACpD,gBAAgB,MAAM,EAAE,SAAS,CAAC,EAAE,IAAI,EAAE;AAC1C,gBAAgB,QAAQ,EAAE,IAAI,CAAC;AAC/B,aAAa;AACb,YAAY,UAAU,EAAE;AACxB,gBAAgB,WAAW,EAAE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE;AAC5D,gBAAgB,mBAAmB,EAAE,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,EAAE;AACrE,gBAAgB,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE;AAC3D,gBAAgB,IAAI,EAAE,cAAc,EAAE;AACtC,gBAAgB,IAAI,EAAE,cAAc,EAAE;AACtC,gBAAgB,MAAM,EAAE,cAAc;AACtC,gBAAgB,YAAY,EAAE,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC;AAC5E,gBAAgB,GAAG;AACnB;AACA,SAAS;AACT;AACA;;;;","x_google_ignoreList":[0]}