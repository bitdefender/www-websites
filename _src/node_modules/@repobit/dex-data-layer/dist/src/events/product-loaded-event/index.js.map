{"version":3,"file":"index.js","sources":["../../../../../../../../node_modules/@repobit/dex-data-layer/dist/src/events/product-loaded-event/index.js"],"sourcesContent":["export class ProductLoadedEvent {\n    event = 'product loaded';\n    product = {};\n    constructor(option, type) {\n        if (!this.product[type]) {\n            this.product[type] = [];\n        }\n        if ('ID' in option) {\n            this.product[type].push(option);\n        }\n        else {\n            this.product[type].push(this.getOptionInfo(option));\n        }\n    }\n    getOptionInfo(option) {\n        return {\n            ID: option.getProduct().getPlatformId(),\n            name: option.getProduct().getName(),\n            devices: option.getDevices(), //DEPRECATED content - please remove after Vlaicu implementation\n            subscription: option.getSubscription(),\n            version: option.getSubscription() === 1 ? \"monthly\" : \"yearly\",\n            basePrice: option.getPrice({ currency: false }),\n            discountValue: option.getDiscount({ symbol: false }),\n            discountRate: option.getDiscount({ percentage: true, symbol: false }),\n            currency: option.getProduct().getCurrency(),\n            grossPrice: option.getDiscountedPrice({ currency: false }) || option.getPrice({ currency: false })\n        };\n    }\n}\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":"AAAO,MAAM,kBAAkB,CAAC;AAChC,IAAI,KAAK,GAAG,gBAAgB;AAC5B,IAAI,OAAO,GAAG,EAAE;AAChB,IAAI,WAAW,CAAC,MAAM,EAAE,IAAI,EAAE;AAC9B,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;AACjC,YAAY,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE;AACnC;AACA,QAAQ,IAAI,IAAI,IAAI,MAAM,EAAE;AAC5B,YAAY,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;AAC3C;AACA,aAAa;AACb,YAAY,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;AAC/D;AACA;AACA,IAAI,aAAa,CAAC,MAAM,EAAE;AAC1B,QAAQ,OAAO;AACf,YAAY,EAAE,EAAE,MAAM,CAAC,UAAU,EAAE,CAAC,aAAa,EAAE;AACnD,YAAY,IAAI,EAAE,MAAM,CAAC,UAAU,EAAE,CAAC,OAAO,EAAE;AAC/C,YAAY,OAAO,EAAE,MAAM,CAAC,UAAU,EAAE;AACxC,YAAY,YAAY,EAAE,MAAM,CAAC,eAAe,EAAE;AAClD,YAAY,OAAO,EAAE,MAAM,CAAC,eAAe,EAAE,KAAK,CAAC,GAAG,SAAS,GAAG,QAAQ;AAC1E,YAAY,SAAS,EAAE,MAAM,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;AAC3D,YAAY,aAAa,EAAE,MAAM,CAAC,WAAW,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;AAChE,YAAY,YAAY,EAAE,MAAM,CAAC,WAAW,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;AACjF,YAAY,QAAQ,EAAE,MAAM,CAAC,UAAU,EAAE,CAAC,WAAW,EAAE;AACvD,YAAY,UAAU,EAAE,MAAM,CAAC,kBAAkB,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE;AAC7G,SAAS;AACT;AACA;;;;","x_google_ignoreList":[0]}