{"version":3,"file":"index.js","sources":["../../../../../../../../node_modules/@repobit/dex-data-layer/dist/src/events/product-loaded-event/index.js"],"sourcesContent":["export class ProductLoadedEvent {\n    event = 'product loaded';\n    product = {};\n    constructor(option, type) {\n        if (!this.product[type]) {\n            this.product[type] = [];\n        }\n        if ('ID' in option) {\n            this.product[type].push(option);\n        }\n        else {\n            this.product[type].push(this.getOptionInfo(option));\n        }\n    }\n    getOptionInfo(option) {\n        return {\n            ID: option.getProduct().getPlatformId(),\n            name: option.getProduct().getName(),\n            devices: option.getDevices(), //DEPRECATED content - please remove after Vlaicu implementation\n            subscription: option.getSubscription(),\n            version: option.getSubscription() === 1 ? \"monthly\" : \"yearly\",\n            basePrice: option.getPrice({ currency: false }),\n            discountValue: option.getDiscount({ symbol: false }),\n            discountRate: option.getDiscount({ percentage: true, symbol: false }),\n            currency: option.getProduct().getCurrency(),\n            grossPrice: option.getDiscountedPrice({ currency: false }) || option.getPrice({ currency: false })\n        };\n    }\n}\n//# sourceMappingURL=index.js.map"],"names":["ProductLoadedEvent","option","type"],"mappings":"AAAO,MAAMA,CAAmB,CAC5B,MAAQ,iBACR,QAAU,CAAE,EACZ,YAAYC,EAAQC,EAAM,CACjB,KAAK,QAAQA,CAAI,IAClB,KAAK,QAAQA,CAAI,EAAI,CAAE,GAEvB,OAAQD,EACR,KAAK,QAAQC,CAAI,EAAE,KAAKD,CAAM,EAG9B,KAAK,QAAQC,CAAI,EAAE,KAAK,KAAK,cAAcD,CAAM,CAAC,CAE9D,CACI,cAAcA,EAAQ,CAClB,MAAO,CACH,GAAIA,EAAO,WAAY,EAAC,cAAe,EACvC,KAAMA,EAAO,WAAY,EAAC,QAAS,EACnC,QAASA,EAAO,WAAY,EAC5B,aAAcA,EAAO,gBAAiB,EACtC,QAASA,EAAO,gBAAiB,IAAK,EAAI,UAAY,SACtD,UAAWA,EAAO,SAAS,CAAE,SAAU,EAAK,CAAE,EAC9C,cAAeA,EAAO,YAAY,CAAE,OAAQ,EAAK,CAAE,EACnD,aAAcA,EAAO,YAAY,CAAE,WAAY,GAAM,OAAQ,GAAO,EACpE,SAAUA,EAAO,WAAY,EAAC,YAAa,EAC3C,WAAYA,EAAO,mBAAmB,CAAE,SAAU,GAAO,GAAKA,EAAO,SAAS,CAAE,SAAU,EAAO,CAAA,CACpG,CACT,CACA","x_google_ignoreList":[0]}