{"version":3,"file":"cssua.js","sources":["../../../../../../../node_modules/@repobit/dex-utils/dist/src/user-agent/cssua.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable prefer-const */\n/* eslint-disable no-useless-escape */\nconst cssua = (html, userAgent, sa) => {\n    'use strict';\n    /**\n       * @const\n       * @type {string}\n       */\n    const PREFIX = ' ua-';\n    /**\n       * @const\n       * @type {RegExp}\n       */\n    const R_Platform = /\\s*([\\-\\w ]+)[\\s\\/\\:]([\\d_]+\\b(?:[\\-\\._\\/]\\w+)*)/;\n    /**\n       * @const\n       * @type {RegExp}\n       */\n    const R_Version = /([\\w\\-\\.]+[\\s\\/][v]?[\\d_]+\\b(?:[\\-\\._\\/]\\w+)*)/g;\n    /**\n       * @const\n       * @type {RegExp}\n       */\n    const R_BlackBerry = /\\b(?:(blackberry\\w*|bb10)|(rim tablet os))(?:\\/(\\d+\\.\\d+(?:\\.\\w+)*))?/;\n    /**\n       * @const\n       * @type {RegExp}\n       */\n    const R_Silk = /\\bsilk-accelerated=true\\b/;\n    /**\n       * @const\n       * @type {RegExp}\n       */\n    const R_FluidApp = /\\bfluidapp\\b/;\n    /**\n       * @const\n       * @type {RegExp}\n       */\n    const R_desktop = /(\\bwindows\\b|\\bmacintosh\\b|\\blinux\\b|\\bunix\\b)/;\n    /**\n       * @const\n       * @type {RegExp}\n       */\n    const R_mobile = /(\\bandroid\\b|\\bipad\\b|\\bipod\\b|\\bwindows phone\\b|\\bwpdesktop\\b|\\bxblwp7\\b|\\bzunewp7\\b|\\bwindows ce\\b|\\bblackberry\\w*|\\bbb10\\b|\\brim tablet os\\b|\\bmeego|\\bwebos\\b|\\bpalm|\\bsymbian|\\bj2me\\b|\\bdocomo\\b|\\bpda\\b|\\bchtml\\b|\\bmidp\\b|\\bcldc\\b|\\w*?mobile\\w*?|\\w*?phone\\w*?)/;\n    /**\n       * @const\n       * @type {RegExp}\n       */\n    const R_game = /(\\bxbox\\b|\\bplaystation\\b|\\bnintendo\\s+\\w+)/;\n    /**\n       * The root CssUserAgent\n       * @type {Object}\n       */\n    const cssua = {\n        parse: \n        /**\n         * @param uaStr {string}\n         * @return {Object}\n         */\n        function (uaStr, sa) {\n            /**\n               * @type {Object}\n               */\n            const ua = {};\n            if (sa) {\n                ua.standalone = sa;\n            }\n            uaStr = ('' + uaStr).toLowerCase();\n            if (!uaStr) {\n                return ua;\n            }\n            let i, count, raw = uaStr.split(/[()]/);\n            for (let j = 0, rawCount = raw.length; j < rawCount; j++) {\n                if (j % 2) {\n                    // inside parens covers platform identifiers\n                    const platforms = raw[j].split(';');\n                    for (i = 0, count = platforms.length; i < count; i++) {\n                        if (R_Platform.exec(platforms[i])) {\n                            const key = RegExp.$1.split(' ').join('_'), val = RegExp.$2;\n                            // if duplicate entries favor highest version\n                            if ((!ua[key] || parseFloat(ua[key]) < parseFloat(val))) {\n                                ua[key] = val;\n                            }\n                        }\n                    }\n                }\n                else {\n                    // outside parens covers most version identifiers\n                    const uas = raw[j].match(R_Version);\n                    if (uas) {\n                        for (i = 0, count = uas.length; i < count; i++) {\n                            const parts = uas[i].split(/[\\/\\s]+/);\n                            if (parts.length && parts[0] !== 'mozilla') {\n                                ua[parts[0].split(' ').join('_')] = parts.slice(1).join('-');\n                            }\n                        }\n                    }\n                }\n            }\n            if (R_mobile.exec(uaStr)) {\n                // mobile device indicators\n                ua.mobile = RegExp.$1;\n                if (R_BlackBerry.exec(uaStr)) {\n                    delete ua[ua.mobile];\n                    ua.blackberry = ua.version || RegExp.$3 || RegExp.$2 || RegExp.$1;\n                    if (RegExp.$1) {\n                        // standardize non-tablet blackberry\n                        ua.mobile = 'blackberry';\n                    }\n                    else if (ua.version === '0.0.1') {\n                        // fix playbook 1.0 quirk\n                        ua.blackberry = '7.1.0.0';\n                    }\n                }\n            }\n            else if (R_game.exec(uaStr)) {\n                // game console indicators\n                ua.game = RegExp.$1;\n                const game = ua.game.split(' ').join('_');\n                if (ua.version && !ua[game]) {\n                    ua[game] = ua.version;\n                }\n            }\n            else if (R_desktop.exec(uaStr)) {\n                // desktop OS indicators\n                ua.desktop = RegExp.$1;\n            }\n            // platform naming standardizations\n            if (ua.intel_mac_os_x) {\n                ua.mac_os_x = ua.intel_mac_os_x.split('_').join('.');\n                delete ua.intel_mac_os_x;\n            }\n            else if (ua.cpu_iphone_os) {\n                ua.ios = ua.cpu_iphone_os.split('_').join('.');\n                delete ua.cpu_iphone_os;\n            }\n            else if (ua.cpu_os) {\n                ua.ios = ua.cpu_os.split('_').join('.');\n                delete ua.cpu_os;\n            }\n            else if (ua.mobile === 'iphone' && !ua.ios) {\n                ua.ios = '1';\n            }\n            // UA naming standardizations\n            if (ua.opera && ua.version) {\n                ua.opera = ua.version;\n                // version/XXX refers to opera\n                delete ua.blackberry;\n            }\n            else if (R_Silk.exec(uaStr)) {\n                ua.silk_accelerated = true;\n            }\n            else if (R_FluidApp.exec(uaStr)) {\n                ua.fluidapp = ua.version;\n            }\n            if (ua.edge) {\n                delete ua.applewebkit;\n                delete ua.safari;\n                delete ua.chrome;\n                delete ua.android;\n            }\n            if (ua.applewebkit) {\n                ua.webkit = ua.applewebkit;\n                delete ua.applewebkit;\n                if (ua.opr) {\n                    ua.opera = ua.opr;\n                    delete ua.opr;\n                    delete ua.chrome;\n                }\n                if (ua.safari) {\n                    if (ua.chrome || ua.crios || ua.fxios || ua.opera || ua.silk || ua.fluidapp || ua.phantomjs || (ua.mobile && !ua.ios)) {\n                        delete ua.safari;\n                        if (ua.vivaldi) {\n                            delete ua.chrome;\n                        }\n                    }\n                    else if (ua.version && !ua.rim_tablet_os) {\n                        ua.safari = ua.version;\n                    }\n                    else {\n                        ua.safari = ({\n                            '419': '2.0.4',\n                            '417': '2.0.3',\n                            '416': '2.0.2',\n                            '412': '2.0',\n                            '312': '1.3',\n                            '125': '1.2',\n                            '85': '1.0'\n                        })[parseInt(ua.safari, 10)] || ua.safari;\n                    }\n                }\n            }\n            else if (ua.msie || ua.trident) {\n                if (!ua.opera) {\n                    // standardize Internet Explorer\n                    ua.ie = ua.msie || ua.rv;\n                }\n                delete ua.msie;\n                delete ua.android;\n                if (ua.windows_phone_os) {\n                    // standardize window phone\n                    ua.windows_phone = ua.windows_phone_os;\n                    delete ua.windows_phone_os;\n                }\n                else if (ua.mobile === 'wpdesktop' || ua.mobile === 'xblwp7' || ua.mobile === 'zunewp7') {\n                    ua.mobile = 'windows desktop';\n                    ua.windows_phone = (+ua.ie < 9) ? '7.0' : (+ua.ie < 10) ? '7.5' : '8.0';\n                    delete ua.windows_nt;\n                }\n            }\n            else if (ua.gecko || ua.firefox) {\n                ua.gecko = ua.rv;\n            }\n            if (ua.rv) {\n                delete ua.rv;\n            }\n            if (ua.version) {\n                delete ua.version;\n            }\n            return ua;\n        },\n        format: \n        /**\n         * @param ua {Object}\n         * @return {string}\n         */\n        function (ua) {\n            /**\n               * @param b {string} browser key\n               * @param v {string} browser value\n               * @return {string} formatted CSS classes\n               */\n            function format(b, v) {\n                b = b.split('.').join('-');\n                /**\n                     * @type {string}\n                     */\n                let css = PREFIX + b;\n                if (typeof v === 'string') {\n                    v = v.split(' ').join('_')\n                        .split('.')\n                        .join('-');\n                    let i = v.indexOf('-');\n                    while (i > 0) {\n                        // loop through chopping last '-' to end off\n                        // concat result onto return string\n                        css += PREFIX + b + '-' + v.substring(0, i);\n                        i = v.indexOf('-', i + 1);\n                    }\n                    css += PREFIX + b + '-' + v;\n                }\n                return css;\n            }\n            /**\n               * @type {string}\n               */\n            let uaCss = '';\n            for (const b in ua) {\n                if (b && ua.hasOwnProperty(b)) {\n                    uaCss += format(b, ua[b]);\n                }\n            }\n            // user-agent classNames\n            return uaCss;\n        },\n        encode: \n        /**\n         * Encodes parsed userAgent object as a compact URI-Encoded key-value collection\n         * @param ua {Object}\n         * @return {string}\n         */\n        function (ua) {\n            let query = '';\n            for (const b in ua) {\n                if (b && ua.hasOwnProperty(b)) {\n                    if (query) {\n                        query += '&';\n                    }\n                    query += encodeURIComponent(b) + '=' + encodeURIComponent(ua[b]);\n                }\n            }\n            return query;\n        },\n        userAgent: {},\n        ua: {}\n    };\n    /**\n       * @const\n       * @type {Object}\n       */\n    cssua.userAgent = cssua.ua = cssua.parse(userAgent, sa);\n    /**\n       * @const\n       * @type {string}\n       */\n    const ua = cssua.format(cssua.ua) + ' js';\n    // append CSS classes to HTML node\n    if (html.className) {\n        html.className = html.className.replace(/\\bno-js\\b/g, '') + ua;\n    }\n    else {\n        html.className = ua.substr(1);\n    }\n    return cssua;\n};\nexport default cssua(document.documentElement, navigator.userAgent, navigator.standalone);\n//# sourceMappingURL=cssua.js.map"],"names":["cssua","html","userAgent","sa","PREFIX","R_Platform","R_Version","R_BlackBerry","R_Silk","R_FluidApp","R_desktop","R_mobile","R_game","uaStr","ua","count","raw","j","rawCount","platforms","key","val","uas","parts","game","format","b","v","css","i","uaCss","query","cssua$1"],"mappings":"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","x_google_ignoreList":[0]}