import{WINDOW as o}from"../types.js";import{addHandler as p,maybeInstrument as u,triggerHandlers as f}from"../../../../../@sentry/core/build/esm/utils-hoist/instrument/handlers.js";import{supportsHistory as c}from"../../../../../@sentry/core/build/esm/utils-hoist/supports.js";import{fill as l}from"../../../../../@sentry/core/build/esm/utils-hoist/object.js";let e;function I(n){const t="history";p(t,n),u(t,d)}function d(){if(o.addEventListener("popstate",()=>{const t=o.location.href,r=e;if(e=t,r===t)return;f("history",{from:r,to:t})}),!c())return;function n(t){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=e,a=String(i);if(e=a,s===a)return t.apply(this,r);f("history",{from:s,to:a})}return t.apply(this,r)}}l(o.history,"pushState",n),l(o.history,"replaceState",n)}export{I as addHistoryInstrumentationHandler,d as instrumentHistory};
//# sourceMappingURL=history.js.map
